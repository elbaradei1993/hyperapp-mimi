(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function au(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function ly(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var i=c.default;if(typeof i=="function"){var a=function s(){var u=!1;try{u=this instanceof s}catch{}return u?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};a.prototype=i.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(c).forEach(function(s){var u=Object.getOwnPropertyDescriptor(c,s);Object.defineProperty(a,s,u.get?u:{enumerable:!0,get:function(){return c[s]}})}),a}var dh={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function M_(){if(im)return Yo;im=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(s,u,d){var p=null;if(d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),"key"in u){d={};for(var v in u)v!=="key"&&(d[v]=u[v])}else d=u;return u=d.ref,{$$typeof:c,type:s,key:p,ref:u!==void 0?u:null,props:d}}return Yo.Fragment=i,Yo.jsx=a,Yo.jsxs=a,Yo}var rm;function P_(){return rm||(rm=1,dh.exports=M_()),dh.exports}var m=P_(),hh={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function D_(){if(am)return Le;am=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=E&&O[E]||O["@@iterator"],typeof O=="function"?O:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function K(O,V,ie){this.props=O,this.context=V,this.refs=M,this.updater=ie||R}K.prototype.isReactComponent={},K.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},K.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=K.prototype;function k(O,V,ie){this.props=O,this.context=V,this.refs=M,this.updater=ie||R}var F=k.prototype=new H;F.constructor=k,P(F,K.prototype),F.isPureReactComponent=!0;var Y=Array.isArray;function oe(){}var ce={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function Te(O,V,ie){var ae=ie.ref;return{$$typeof:c,type:O,key:V,ref:ae!==void 0?ae:null,props:ie}}function Ke(O,V){return Te(O.type,V,O.props)}function ve(O){return typeof O=="object"&&O!==null&&O.$$typeof===c}function Oe(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return V[ie]})}var ct=/\/+/g;function Ce(O,V){return typeof O=="object"&&O!==null&&O.key!=null?Oe(""+O.key):V.toString(36)}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(oe,oe):(O.status="pending",O.then(function(V){O.status==="pending"&&(O.status="fulfilled",O.value=V)},function(V){O.status==="pending"&&(O.status="rejected",O.reason=V)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Z(O,V,ie,ae,he){var de=typeof O;(de==="undefined"||de==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(de){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case c:case i:Me=!0;break;case S:return Me=O._init,Z(Me(O._payload),V,ie,ae,he)}}if(Me)return he=he(O),Me=ae===""?"."+Ce(O,0):ae,Y(he)?(ie="",Me!=null&&(ie=Me.replace(ct,"$&/")+"/"),Z(he,V,ie,"",function(Jn){return Jn})):he!=null&&(ve(he)&&(he=Ke(he,ie+(he.key==null||O&&O.key===he.key?"":(""+he.key).replace(ct,"$&/")+"/")+Me)),V.push(he)),1;Me=0;var _t=ae===""?".":ae+":";if(Y(O))for(var pt=0;pt<O.length;pt++)ae=O[pt],de=_t+Ce(ae,pt),Me+=Z(ae,V,ie,de,he);else if(pt=A(O),typeof pt=="function")for(O=pt.call(O),pt=0;!(ae=O.next()).done;)ae=ae.value,de=_t+Ce(ae,pt++),Me+=Z(ae,V,ie,de,he);else if(de==="object"){if(typeof O.then=="function")return Z(vt(O),V,ie,ae,he);throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Me}function se(O,V,ie){if(O==null)return O;var ae=[],he=0;return Z(O,ae,"","",function(de){return V.call(ie,de,he++)}),ae}function N(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var le=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},re={map:se,forEach:function(O,V,ie){se(O,function(){V.apply(this,arguments)},ie)},count:function(O){var V=0;return se(O,function(){V++}),V},toArray:function(O){return se(O,function(V){return V})||[]},only:function(O){if(!ve(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Le.Activity=T,Le.Children=re,Le.Component=K,Le.Fragment=a,Le.Profiler=u,Le.PureComponent=k,Le.StrictMode=s,Le.Suspense=x,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Le.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ce.H.useMemoCache(O)}},Le.cache=function(O){return function(){return O.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(O,V,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=P({},O.props),he=O.key;if(V!=null)for(de in V.key!==void 0&&(he=""+V.key),V)!Ae.call(V,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&V.ref===void 0||(ae[de]=V[de]);var de=arguments.length-2;if(de===1)ae.children=ie;else if(1<de){for(var Me=Array(de),_t=0;_t<de;_t++)Me[_t]=arguments[_t+2];ae.children=Me}return Te(O.type,he,ae)},Le.createContext=function(O){return O={$$typeof:p,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:d,_context:O},O},Le.createElement=function(O,V,ie){var ae,he={},de=null;if(V!=null)for(ae in V.key!==void 0&&(de=""+V.key),V)Ae.call(V,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(he[ae]=V[ae]);var Me=arguments.length-2;if(Me===1)he.children=ie;else if(1<Me){for(var _t=Array(Me),pt=0;pt<Me;pt++)_t[pt]=arguments[pt+2];he.children=_t}if(O&&O.defaultProps)for(ae in Me=O.defaultProps,Me)he[ae]===void 0&&(he[ae]=Me[ae]);return Te(O,de,he)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(O){return{$$typeof:v,render:O}},Le.isValidElement=ve,Le.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:N}},Le.memo=function(O,V){return{$$typeof:_,type:O,compare:V===void 0?null:V}},Le.startTransition=function(O){var V=ce.T,ie={};ce.T=ie;try{var ae=O(),he=ce.S;he!==null&&he(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(oe,le)}catch(de){le(de)}finally{V!==null&&ie.types!==null&&(V.types=ie.types),ce.T=V}},Le.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Le.use=function(O){return ce.H.use(O)},Le.useActionState=function(O,V,ie){return ce.H.useActionState(O,V,ie)},Le.useCallback=function(O,V){return ce.H.useCallback(O,V)},Le.useContext=function(O){return ce.H.useContext(O)},Le.useDebugValue=function(){},Le.useDeferredValue=function(O,V){return ce.H.useDeferredValue(O,V)},Le.useEffect=function(O,V){return ce.H.useEffect(O,V)},Le.useEffectEvent=function(O){return ce.H.useEffectEvent(O)},Le.useId=function(){return ce.H.useId()},Le.useImperativeHandle=function(O,V,ie){return ce.H.useImperativeHandle(O,V,ie)},Le.useInsertionEffect=function(O,V){return ce.H.useInsertionEffect(O,V)},Le.useLayoutEffect=function(O,V){return ce.H.useLayoutEffect(O,V)},Le.useMemo=function(O,V){return ce.H.useMemo(O,V)},Le.useOptimistic=function(O,V){return ce.H.useOptimistic(O,V)},Le.useReducer=function(O,V,ie){return ce.H.useReducer(O,V,ie)},Le.useRef=function(O){return ce.H.useRef(O)},Le.useState=function(O){return ce.H.useState(O)},Le.useSyncExternalStore=function(O,V,ie){return ce.H.useSyncExternalStore(O,V,ie)},Le.useTransition=function(){return ce.H.useTransition()},Le.version="19.2.0",Le}var sm;function su(){return sm||(sm=1,hh.exports=D_()),hh.exports}var X=su();const Ua=au(X);var fh={exports:{}},Fo={},ph={exports:{}},gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function N_(){return om||(om=1,(function(c){function i(Z,se){var N=Z.length;Z.push(se);e:for(;0<N;){var le=N-1>>>1,re=Z[le];if(0<u(re,se))Z[le]=se,Z[N]=re,N=le;else break e}}function a(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var se=Z[0],N=Z.pop();if(N!==se){Z[0]=N;e:for(var le=0,re=Z.length,O=re>>>1;le<O;){var V=2*(le+1)-1,ie=Z[V],ae=V+1,he=Z[ae];if(0>u(ie,N))ae<re&&0>u(he,ie)?(Z[le]=he,Z[ae]=N,le=ae):(Z[le]=ie,Z[V]=N,le=V);else if(ae<re&&0>u(he,N))Z[le]=he,Z[ae]=N,le=ae;else break e}}return se}function u(Z,se){var N=Z.sortIndex-se.sortIndex;return N!==0?N:Z.id-se.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;c.unstable_now=function(){return d.now()}}else{var p=Date,v=p.now();c.unstable_now=function(){return p.now()-v}}var x=[],_=[],S=1,T=null,E=3,A=!1,R=!1,P=!1,M=!1,K=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(Z){for(var se=a(_);se!==null;){if(se.callback===null)s(_);else if(se.startTime<=Z)s(_),se.sortIndex=se.expirationTime,i(x,se);else break;se=a(_)}}function Y(Z){if(P=!1,F(Z),!R)if(a(x)!==null)R=!0,oe||(oe=!0,Oe());else{var se=a(_);se!==null&&vt(Y,se.startTime-Z)}}var oe=!1,ce=-1,Ae=5,Te=-1;function Ke(){return M?!0:!(c.unstable_now()-Te<Ae)}function ve(){if(M=!1,oe){var Z=c.unstable_now();Te=Z;var se=!0;try{e:{R=!1,P&&(P=!1,H(ce),ce=-1),A=!0;var N=E;try{t:{for(F(Z),T=a(x);T!==null&&!(T.expirationTime>Z&&Ke());){var le=T.callback;if(typeof le=="function"){T.callback=null,E=T.priorityLevel;var re=le(T.expirationTime<=Z);if(Z=c.unstable_now(),typeof re=="function"){T.callback=re,F(Z),se=!0;break t}T===a(x)&&s(x),F(Z)}else s(x);T=a(x)}if(T!==null)se=!0;else{var O=a(_);O!==null&&vt(Y,O.startTime-Z),se=!1}}break e}finally{T=null,E=N,A=!1}se=void 0}}finally{se?Oe():oe=!1}}}var Oe;if(typeof k=="function")Oe=function(){k(ve)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Ce=ct.port2;ct.port1.onmessage=ve,Oe=function(){Ce.postMessage(null)}}else Oe=function(){K(ve,0)};function vt(Z,se){ce=K(function(){Z(c.unstable_now())},se)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(Z){Z.callback=null},c.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<Z?Math.floor(1e3/Z):5},c.unstable_getCurrentPriorityLevel=function(){return E},c.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var N=E;E=se;try{return Z()}finally{E=N}},c.unstable_requestPaint=function(){M=!0},c.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var N=E;E=Z;try{return se()}finally{E=N}},c.unstable_scheduleCallback=function(Z,se,N){var le=c.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?le+N:le):N=le,Z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=N+re,Z={id:S++,callback:se,priorityLevel:Z,startTime:N,expirationTime:re,sortIndex:-1},N>le?(Z.sortIndex=N,i(_,Z),a(x)===null&&Z===a(_)&&(P?(H(ce),ce=-1):P=!0,vt(Y,N-le))):(Z.sortIndex=re,i(x,Z),R||A||(R=!0,oe||(oe=!0,Oe()))),Z},c.unstable_shouldYield=Ke,c.unstable_wrapCallback=function(Z){var se=E;return function(){var N=E;E=se;try{return Z.apply(this,arguments)}finally{E=N}}}})(gh)),gh}var lm;function B_(){return lm||(lm=1,ph.exports=N_()),ph.exports}var mh={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function U_(){if(cm)return on;cm=1;var c=su();function i(x){var _="https://react.dev/errors/"+x;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+x+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(x,_,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:x,containerInfo:_,implementation:S}}var p=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(x,_){if(x==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(x,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(i(299));return d(x,_,null,S)},on.flushSync=function(x){var _=p.T,S=s.p;try{if(p.T=null,s.p=2,x)return x()}finally{p.T=_,s.p=S,s.d.f()}},on.preconnect=function(x,_){typeof x=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(x,_))},on.prefetchDNS=function(x){typeof x=="string"&&s.d.D(x)},on.preinit=function(x,_){if(typeof x=="string"&&_&&typeof _.as=="string"){var S=_.as,T=v(S,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,A=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(x,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:A}):S==="script"&&s.d.X(x,{crossOrigin:T,integrity:E,fetchPriority:A,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},on.preinitModule=function(x,_){if(typeof x=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=v(_.as,_.crossOrigin);s.d.M(x,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(x)},on.preload=function(x,_){if(typeof x=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,T=v(S,_.crossOrigin);s.d.L(x,S,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},on.preloadModule=function(x,_){if(typeof x=="string")if(_){var S=v(_.as,_.crossOrigin);s.d.m(x,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(x)},on.requestFormReset=function(x){s.d.r(x)},on.unstable_batchedUpdates=function(x,_){return x(_)},on.useFormState=function(x,_,S){return p.H.useFormState(x,_,S)},on.useFormStatus=function(){return p.H.useHostTransitionStatus()},on.version="19.2.0",on}var um;function cy(){if(um)return mh.exports;um=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),mh.exports=U_(),mh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function I_(){if(dm)return Fo;dm=1;var c=B_(),i=su(),a=cy();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(d(e)!==e)throw Error(s(188))}function _(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var f=r.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===r)return x(f),e;if(g===l)return x(f),t;g=g.sibling}throw Error(s(188))}if(r.return!==l.return)r=f,l=g;else{for(var w=!1,j=f.child;j;){if(j===r){w=!0,r=f,l=g;break}if(j===l){w=!0,l=f,r=g;break}j=j.sibling}if(!w){for(j=g.child;j;){if(j===r){w=!0,r=g,l=f;break}if(j===l){w=!0,l=g,r=f;break}j=j.sibling}if(!w)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Te=Symbol.for("react.activity"),Ke=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case K:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case oe:return"SuspenseList";case Te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case k:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ce:return t=e.displayName||null,t!==null?t:Ce(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return Ce(e(t))}catch{}}return null}var vt=Array.isArray,Z=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},le=[],re=-1;function O(e){return{current:e}}function V(e){0>re||(e.current=le[re],le[re]=null,re--)}function ie(e,t){re++,le[re]=e.current,e.current=t}var ae=O(null),he=O(null),de=O(null),Me=O(null);function _t(e,t){switch(ie(de,t),ie(he,e),ie(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cg(t),e=jg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ae),ie(ae,e)}function pt(){V(ae),V(he),V(de)}function Jn(e){e.memoizedState!==null&&ie(Me,e);var t=ae.current,r=jg(t,e.type);t!==r&&(ie(he,e),ie(ae,r))}function An(e){he.current===e&&(V(ae),V(he)),Me.current===e&&(V(Me),Vo._currentValue=N)}var xt,Ue;function cn(e){if(xt===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xt=t&&t[1]||"",Ue=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xt+e+Ue}var it=!1;function rt(e,t){if(!e||it)return"";it=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(J){var W=J}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(J){W=J}e.call(ne.prototype)}}else{try{throw Error()}catch(J){W=J}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(J){if(J&&W&&typeof J.stack=="string")return[J.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),w=g[0],j=g[1];if(w&&j){var D=w.split(`
`),q=j.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===q.length)for(l=D.length-1,f=q.length-1;1<=l&&0<=f&&D[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==q[f]){var Q=`
`+D[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=f);break}}}finally{it=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?cn(r):""}function st(e,t){switch(e.tag){case 26:case 27:case 5:return cn(e.type);case 16:return cn("Lazy");case 13:return e.child!==t&&t!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return rt(e.type,!1);case 11:return rt(e.type.render,!1);case 1:return rt(e.type,!0);case 31:return cn("Activity");default:return""}}function Xe(e){try{var t="",r=null;do t+=st(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ze=Object.prototype.hasOwnProperty,pe=c.unstable_scheduleCallback,be=c.unstable_cancelCallback,Ze=c.unstable_shouldYield,Ye=c.unstable_requestPaint,gt=c.unstable_now,Qn=c.unstable_getCurrentPriorityLevel,At=c.unstable_ImmediatePriority,pn=c.unstable_UserBlockingPriority,ei=c.unstable_NormalPriority,Zs=c.unstable_LowPriority,Vs=c.unstable_IdlePriority,hl=c.log,gu=c.unstable_setDisableYieldValue,rr=null,Qt=null;function ti(e){if(typeof hl=="function"&&gu(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(rr,e)}catch{}}var un=Math.clz32?Math.clz32:yu,Wr=Math.log,mu=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(Wr(e)/mu|0)|0}var Kr=256,Yr=262144,Fr=4194304;function ki(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $a(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var f=0,g=e.suspendedLanes,w=e.pingedLanes;e=e.warmLanes;var j=l&134217727;return j!==0?(l=j&~g,l!==0?f=ki(l):(w&=j,w!==0?f=ki(w):r||(r=j&~e,r!==0&&(f=ki(r))))):(j=l&~g,j!==0?f=ki(j):w!==0?f=ki(w):r||(r=l&~e,r!==0&&(f=ki(r)))),f===0?0:t!==0&&t!==f&&(t&g)===0&&(g=f&-f,r=t&-t,g>=r||g===32&&(r&4194048)!==0)?t:f}function Xr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function vu(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function Gs(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _u(e,t,r,l,f,g){var w=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var j=e.entanglements,D=e.expirationTimes,q=e.hiddenUpdates;for(r=w&~r;0<r;){var Q=31-un(r),ne=1<<Q;j[Q]=0,D[Q]=-1;var W=q[Q];if(W!==null)for(q[Q]=null,Q=0;Q<W.length;Q++){var J=W[Q];J!==null&&(J.lane&=-536870913)}r&=~ne}l!==0&&pl(e,l,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(w&~t))}function pl(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-un(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function gl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-un(r),f=1<<l;f&t|e[l]&t&&(e[l]|=t),r&=~f}}function ml(e,t){var r=t&-t;return r=(r&42)!==0?1:gn(r),(r&(e.suspendedLanes|t))!==0?0:r}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ye(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ws(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Fg(e.type))}function Ks(e,t){var r=se.p;try{return se.p=e,t()}finally{se.p=r}}var ni=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ni,Yt="__reactProps$"+ni,Mi="__reactContainer$"+ni,gi="__reactEvents$"+ni,yl="__reactListeners$"+ni,xu="__reactHandles$"+ni,vl="__reactResources$"+ni,Jr="__reactMarker$"+ni;function Ys(e){delete e[Pt],delete e[Yt],delete e[gi],delete e[yl],delete e[xu]}function Pi(e){var t=e[Pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mi]||r[Pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mg(e);e!==null;){if(r=e[Pt])return r;e=Mg(e)}return t}e=r,r=e.parentNode}return null}function ar(e){if(e=e[Pt]||e[Mi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function mi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function sr(e){var t=e[vl];return t||(t=e[vl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Dt(e){e[Jr]=!0}var _l=new Set,xl={};function Di(e,t){yi(e,t),yi(e+"Capture",t)}function yi(e,t){for(xl[e]=t,e=0;e<t.length;e++)_l.add(t[e])}var Qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fs={},Xs={};function ea(e){return ze.call(Xs,e)?!0:ze.call(Fs,e)?!1:Qr.test(e)?Xs[e]=!0:(Fs[e]=!0,!1)}function Ie(e,t,r){if(ea(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function ut(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function mn(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ni(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Js(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(w){r=""+w,g.call(this,w)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Re(e){if(!e._valueTracker){var t=Ni(e)?"checked":"value";e._valueTracker=Js(e,t,""+e[t])}}function Tt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=Ni(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qa=/[\n"\\]/g;function wt(e){return e.replace(qa,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qs(e,t,r,l,f,g,w,j){e.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.type=w:e.removeAttribute("type"),t!=null?w==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):w!=="submit"&&w!=="reset"||e.removeAttribute("value"),t!=null?ii(e,w,Zt(t)):r!=null?ii(e,w,Zt(r)):l!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Zt(j):e.removeAttribute("name")}function ta(e,t,r,l,f,g,w,j){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),t!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||t!=null)){Re(e);return}r=r!=null?""+Zt(r):"",t=t!=null?""+Zt(t):r,j||t===e.value||(e.value=t),e.defaultValue=t}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=j?e.checked:!!l,e.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(e.name=w),Re(e)}function ii(e,t,r){t==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function mt(e,t,r,l){if(e=e.options,t){t={};for(var f=0;f<r.length;f++)t["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=t.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function vi(e,t,r){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Zt(r):""}function lr(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(s(92));if(vt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=Zt(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Re(e)}function Hn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cr(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||eo.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Za(e,t,r){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in t)l=t[f],t.hasOwnProperty(f)&&r[f]!==l&&cr(e,f,l)}else for(var g in t)t.hasOwnProperty(g)&&cr(e,g,t[g])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(e){return to.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function yn(){}var Ga=null;function ia(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dr=null,Ee=null;function On(e){var t=ar(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var f=l[Yt]||null;if(!f)throw Error(s(90));Qs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Tt(l)}break e;case"textarea":vi(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&mt(e,!!r.multiple,t,!1)}}}var at=!1;function no(e,t,r){if(at)return e(t,r);at=!0;try{var l=e(t);return l}finally{if(at=!1,(dr!==null||Ee!==null)&&(mc(),dr&&(t=dr,e=Ee,Ee=dr=null,On(t),e)))for(t=0;t<e.length;t++)On(e[t])}}function Bi(e,t){var r=e.stateNode;if(r===null)return null;var l=r[Yt]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(Rn)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{ra=!1}var $n=null,Ui=null,Ot=null;function _i(){if(Ot)return Ot;var e,t=Ui,r=t.length,l,f="value"in $n?$n.value:$n.textContent,g=f.length;for(e=0;e<r&&t[e]===f[e];e++);var w=r-e;for(l=1;l<=w&&t[r-l]===f[g-l];l++);return Ot=f.slice(e,1<l?1-l:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function bl(){return!1}function en(e){function t(r,l,f,g,w){this._reactName=r,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(r=e[j],this[j]=r?r(g):g[j]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sa:bl,this.isPropagationStopped=bl,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),t}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=en(ri),hr=T({},ri,{view:0,detail:0}),Ve=en(hr),io,dn,ai,oa=T({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(io=e.screenX-ai.screenX,dn=e.screenY-ai.screenY):dn=io=0,ai=e),io)},movementY:function(e){return"movementY"in e?e.movementY:dn}}),wl=en(oa),ro=T({},oa,{dataTransfer:0}),bu=en(ro),Sl=T({},hr,{relatedTarget:0}),ao=en(Sl),wu=T({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),so=en(wu),Su=T({},ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qn=en(Su),Tu=T({},ri,{data:0}),oo=en(Tu),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},El={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=El[e])?!!t[e]:!1}function co(){return lo}var Cl=T({},hr,{key:function(e){if(e.key){var t=xi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jl=en(Cl),Eu=T({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=en(Eu),uo=T({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),Cu=en(uo),Ol=T({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rl=en(Ol),Ka=T({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ii=en(Ka),ju=T({},ri,{newState:0,oldState:0}),la=en(ju),vn=[9,13,27,32],Ya=Rn&&"CompositionEvent"in window,fr=null;Rn&&"documentMode"in document&&(fr=document.documentMode);var Au=Rn&&"TextEvent"in window&&!fr,Fa=Rn&&(!Ya||fr&&8<fr&&11>=fr),Xa=" ",Ll=!1;function kl(e,t){switch(e){case"keyup":return vn.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function kn(e,t){switch(e){case"compositionend":return ho(t);case"keypress":return t.which!==32?null:(Ll=!0,Xa);case"textInput":return e=t.data,e===Xa&&Ll?null:e;default:return null}}function gr(e,t){if(pr)return e==="compositionend"||!Ya&&kl(e,t)?(e=_i(),Ot=Ui=$n=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fa&&t.locale!=="ko"?null:t.data;default:return null}}var Ou={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ou[e.type]:t==="textarea"}function zl(e,t,r,l){dr?Ee?Ee.push(l):Ee=[l]:dr=l,t=Sc(t,"onChange"),0<t.length&&(r=new Wa("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Vn=null,ca=null;function ua(e){xg(e,0)}function da(e){var t=mi(e);if(Tt(t))return e}function ha(e,t){if(e==="change")return t}var Ml=!1;if(Rn){var Gn;if(Rn){var mr="oninput"in document;if(!mr){var Pl=document.createElement("div");Pl.setAttribute("oninput","return;"),mr=typeof Pl.oninput=="function"}Gn=mr}else Gn=!1;Ml=Gn&&(!document.documentMode||9<document.documentMode)}function Ja(){Vn&&(Vn.detachEvent("onpropertychange",Dl),ca=Vn=null)}function Dl(e){if(e.propertyName==="value"&&da(ca)){var t=[];zl(t,ca,e,ia(e)),no(ua,t)}}function si(e,t,r){e==="focusin"?(Ja(),Vn=t,ca=r,Vn.attachEvent("onpropertychange",Dl)):e==="focusout"&&Ja()}function Ru(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(ca)}function yr(e,t){if(e==="click")return da(t)}function Lu(e,t){if(e==="input"||e==="change")return da(t)}function oi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:oi;function vr(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!ze.call(t,f)||!Ft(e[f],t[f]))return!1}return!0}function Qa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fa(e,t){var r=Qa(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qa(r)}}function es(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?es(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pa(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=or(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=or(e.document)}return t}function bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ts=Rn&&"documentMode"in document&&11>=document.documentMode,wi=null,ns=null,ga=null,_r=!1;function Nl(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_r||wi==null||wi!==or(l)||(l=wi,"selectionStart"in l&&bi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ga&&vr(ga,l)||(ga=l,l=Sc(ns,"onSelect"),0<l.length&&(t=new Wa("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=wi)))}function Si(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xr={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},is={},Bl={};Rn&&(Bl=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Xt(e){if(is[e])return is[e];if(!xr[e])return e;var t=xr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Bl)return is[e]=t[r];return e}var ma=Xt("animationend"),Ul=Xt("animationiteration"),ya=Xt("animationstart"),ku=Xt("transitionrun"),Il=Xt("transitionstart"),zu=Xt("transitioncancel"),br=Xt("transitionend"),Hl=new Map,Ti="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ti.push("scrollEnd");function _n(e,t){Hl.set(e,t),Di(t,[e])}var va=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],an=0,rs=0;function _a(){for(var e=an,t=rs=an=0;t<e;){var r=xn[t];xn[t++]=null;var l=xn[t];xn[t++]=null;var f=xn[t];xn[t++]=null;var g=xn[t];if(xn[t++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}g!==0&&wr(r,f,g)}}function Ei(e,t,r,l){xn[an++]=e,xn[an++]=t,xn[an++]=r,xn[an++]=l,rs|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function fo(e,t,r,l){return Ei(e,t,r,l),xa(e)}function Wn(e,t){return Ei(e,null,null,t),xa(e)}function wr(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var f=!1,g=e.return;g!==null;)g.childLanes|=r,l=g.alternate,l!==null&&(l.childLanes|=r),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&t!==null&&(f=31-un(r),e=g.hiddenUpdates,l=e[f],l===null?e[f]=[t]:l.push(t),t.lane=r|536870912),g):null}function xa(e){if(50<Bo)throw Bo=0,Pd=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Hi={};function Mu(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,r,l){return new Mu(e,t,r,l)}function as(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kn(e,t){var r=e.alternate;return r===null?(r=sn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function po(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ba(e,t,r,l,f,g){var w=0;if(l=e,typeof e=="function")as(e)&&(w=1);else if(typeof e=="string")w=w_(e,r,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Te:return e=sn(31,r,t,f),e.elementType=Te,e.lanes=g,e;case P:return $i(r.children,f,g,t);case M:w=8,f|=24;break;case K:return e=sn(12,r,t,f|2),e.elementType=K,e.lanes=g,e;case Y:return e=sn(13,r,t,f),e.elementType=Y,e.lanes=g,e;case oe:return e=sn(19,r,t,f),e.elementType=oe,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:w=10;break e;case H:w=9;break e;case F:w=11;break e;case ce:w=14;break e;case Ae:w=16,l=null;break e}w=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=sn(w,r,t,f),t.elementType=e,t.type=l,t.lanes=g,t}function $i(e,t,r,l){return e=sn(7,e,l,t),e.lanes=r,e}function ss(e,t,r){return e=sn(6,e,null,t),e.lanes=r,e}function go(e){var t=sn(18,null,null,0);return t.stateNode=e,t}function mo(e,t,r){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var n=new WeakMap;function o(e,t){if(typeof e=="object"&&e!==null){var r=n.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Xe(t)},n.set(e,t),t)}return{value:e,source:t,stack:Xe(t)}}var h=[],y=0,b=null,C=0,z=[],I=0,G=null,te=1,ue="";function _e(e,t){h[y++]=C,h[y++]=b,b=e,C=t}function De(e,t,r){z[I++]=te,z[I++]=ue,z[I++]=G,G=e;var l=te;e=ue;var f=32-un(l)-1;l&=~(1<<f),r+=1;var g=32-un(t)+f;if(30<g){var w=f-f%5;g=(l&(1<<w)-1).toString(32),l>>=w,f-=w,te=1<<32-un(t)+f|r<<f|l,ue=g+e}else te=1<<g|r<<f|l,ue=e}function Vt(e){e.return!==null&&(_e(e,1),De(e,1,0))}function Rt(e){for(;e===b;)b=h[--y],h[y]=null,C=h[--y],h[y]=null;for(;e===G;)G=z[--I],z[I]=null,ue=z[--I],z[I]=null,te=z[--I],z[I]=null}function hn(e,t){z[I++]=te,z[I++]=ue,z[I++]=G,te=t.id,ue=t.overflow,G=e}var Je=null,Qe=null,He=!1,Ci=null,bn=!1,os=Error(s(519));function ji(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wa(o(t,e)),os}function yo(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[Pt]=e,t[Yt]=l,r){case"dialog":qe("cancel",t),qe("close",t);break;case"iframe":case"object":case"embed":qe("load",t);break;case"video":case"audio":for(r=0;r<Io.length;r++)qe(Io[r],t);break;case"source":qe("error",t);break;case"img":case"image":case"link":qe("error",t),qe("load",t);break;case"details":qe("toggle",t);break;case"input":qe("invalid",t),ta(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":qe("invalid",t);break;case"textarea":qe("invalid",t),lr(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||Tg(t.textContent,r)?(l.popover!=null&&(qe("beforetoggle",t),qe("toggle",t)),l.onScroll!=null&&qe("scroll",t),l.onScrollEnd!=null&&qe("scrollend",t),l.onClick!=null&&(t.onclick=yn),t=!0):t=!1,t||ji(e,!0)}function Ct(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:Je=Je.return}}function li(e){if(e!==Je)return!1;if(!He)return Ct(e),He=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Fd(e.type,e.memoizedProps)),r=!r),r&&Qe&&ji(e),Ct(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Qe=zg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Qe=zg(e)}else t===27?(t=Qe,Dr(e.type)?(e=th,th=null,Qe=e):Qe=t):Qe=Je?Fn(e.stateNode.nextSibling):null;return!0}function qi(){Qe=Je=null,He=!1}function vo(){var e=Ci;return e!==null&&(En===null?En=e:En.push.apply(En,e),Ci=null),e}function wa(e){Ci===null?Ci=[e]:Ci.push(e)}var Sa=O(null),Ai=null,ci=null;function Sr(e,t,r){ie(Sa,t._currentValue),t._currentValue=r}function Zi(e){e._currentValue=Sa.current,V(Sa)}function Pu(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function Du(e,t,r,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var j=g;g=f;for(var D=0;D<t.length;D++)if(j.context===t[D]){g.lanes|=r,j=g.alternate,j!==null&&(j.lanes|=r),Pu(g.return,r,e),l||(w=null);break e}g=j.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(s(341));w.lanes|=r,g=w.alternate,g!==null&&(g.lanes|=r),Pu(w,r,e),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===e){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function ls(e,t,r,l){e=null;for(var f=t,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var j=f.type;Ft(f.pendingProps.value,w.value)||(e!==null?e.push(j):e=[j])}}else if(f===Me.current){if(w=f.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Vo):e=[Vo])}f=f.return}e!==null&&Du(t,e,r,l),t.flags|=262144}function $l(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){Ai=e,ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return cf(Ai,e)}function ql(e,t){return Ai===null&&Ta(e),cf(e,t)}function cf(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},ci===null){if(e===null)throw Error(s(308));ci=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ci=ci.next=t;return r}var vv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},_v=c.unstable_scheduleCallback,xv=c.unstable_NormalPriority,Nt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nu(){return{controller:new vv,data:new Map,refCount:0}}function _o(e){e.refCount--,e.refCount===0&&_v(xv,function(){e.controller.abort()})}var xo=null,Bu=0,cs=0,us=null;function bv(e,t){if(xo===null){var r=xo=[];Bu=0,cs=Hd(),us={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Bu++,t.then(uf,uf),t}function uf(){if(--Bu===0&&xo!==null){us!==null&&(us.status="fulfilled");var e=xo;xo=null,cs=0,us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wv(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var f=0;f<r.length;f++)(0,r[f])(t)},function(f){for(l.status="rejected",l.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),l}var df=Z.S;Z.S=function(e,t){Kp=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bv(e,t),df!==null&&df(e,t)};var Ea=O(null);function Uu(){var e=Ea.current;return e!==null?e:yt.pooledCache}function Zl(e,t){t===null?ie(Ea,Ea.current):ie(Ea,t.pool)}function hf(){var e=Uu();return e===null?null:{parent:Nt._currentValue,pool:e}}var ds=Error(s(460)),Iu=Error(s(474)),Vl=Error(s(542)),Gl={then:function(){}};function ff(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pf(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(yn,yn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e;default:if(typeof t.status=="string")t.then(yn,yn);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=l}},function(l){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e}throw ja=t,ds}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ja=r,ds):r}}var ja=null;function gf(){if(ja===null)throw Error(s(459));var e=ja;return ja=null,e}function mf(e){if(e===ds||e===Vl)throw Error(s(483))}var hs=null,bo=0;function Wl(e){var t=bo;return bo+=1,hs===null&&(hs=[]),pf(hs,e,t)}function wo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Kl(e,t){throw t.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yf(e){function t(U,B){if(e){var $=U.deletions;$===null?(U.deletions=[B],U.flags|=16):$.push(B)}}function r(U,B){if(!e)return null;for(;B!==null;)t(U,B),B=B.sibling;return null}function l(U){for(var B=new Map;U!==null;)U.key!==null?B.set(U.key,U):B.set(U.index,U),U=U.sibling;return B}function f(U,B){return U=Kn(U,B),U.index=0,U.sibling=null,U}function g(U,B,$){return U.index=$,e?($=U.alternate,$!==null?($=$.index,$<B?(U.flags|=67108866,B):$):(U.flags|=67108866,B)):(U.flags|=1048576,B)}function w(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function j(U,B,$,ee){return B===null||B.tag!==6?(B=ss($,U.mode,ee),B.return=U,B):(B=f(B,$),B.return=U,B)}function D(U,B,$,ee){var xe=$.type;return xe===P?Q(U,B,$.props.children,ee,$.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ae&&Ca(xe)===B.type)?(B=f(B,$.props),wo(B,$),B.return=U,B):(B=ba($.type,$.key,$.props,null,U.mode,ee),wo(B,$),B.return=U,B)}function q(U,B,$,ee){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=mo($,U.mode,ee),B.return=U,B):(B=f(B,$.children||[]),B.return=U,B)}function Q(U,B,$,ee,xe){return B===null||B.tag!==7?(B=$i($,U.mode,ee,xe),B.return=U,B):(B=f(B,$),B.return=U,B)}function ne(U,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ss(""+B,U.mode,$),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return $=ba(B.type,B.key,B.props,null,U.mode,$),wo($,B),$.return=U,$;case R:return B=mo(B,U.mode,$),B.return=U,B;case Ae:return B=Ca(B),ne(U,B,$)}if(vt(B)||Oe(B))return B=$i(B,U.mode,$,null),B.return=U,B;if(typeof B.then=="function")return ne(U,Wl(B),$);if(B.$$typeof===k)return ne(U,ql(U,B),$);Kl(U,B)}return null}function W(U,B,$,ee){var xe=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return xe!==null?null:j(U,B,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===xe?D(U,B,$,ee):null;case R:return $.key===xe?q(U,B,$,ee):null;case Ae:return $=Ca($),W(U,B,$,ee)}if(vt($)||Oe($))return xe!==null?null:Q(U,B,$,ee,null);if(typeof $.then=="function")return W(U,B,Wl($),ee);if($.$$typeof===k)return W(U,B,ql(U,$),ee);Kl(U,$)}return null}function J(U,B,$,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get($)||null,j(B,U,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return U=U.get(ee.key===null?$:ee.key)||null,D(B,U,ee,xe);case R:return U=U.get(ee.key===null?$:ee.key)||null,q(B,U,ee,xe);case Ae:return ee=Ca(ee),J(U,B,$,ee,xe)}if(vt(ee)||Oe(ee))return U=U.get($)||null,Q(B,U,ee,xe,null);if(typeof ee.then=="function")return J(U,B,$,Wl(ee),xe);if(ee.$$typeof===k)return J(U,B,$,ql(B,ee),xe);Kl(B,ee)}return null}function fe(U,B,$,ee){for(var xe=null,et=null,ge=B,Ne=B=0,We=null;ge!==null&&Ne<$.length;Ne++){ge.index>Ne?(We=ge,ge=null):We=ge.sibling;var tt=W(U,ge,$[Ne],ee);if(tt===null){ge===null&&(ge=We);break}e&&ge&&tt.alternate===null&&t(U,ge),B=g(tt,B,Ne),et===null?xe=tt:et.sibling=tt,et=tt,ge=We}if(Ne===$.length)return r(U,ge),He&&_e(U,Ne),xe;if(ge===null){for(;Ne<$.length;Ne++)ge=ne(U,$[Ne],ee),ge!==null&&(B=g(ge,B,Ne),et===null?xe=ge:et.sibling=ge,et=ge);return He&&_e(U,Ne),xe}for(ge=l(ge);Ne<$.length;Ne++)We=J(ge,U,Ne,$[Ne],ee),We!==null&&(e&&We.alternate!==null&&ge.delete(We.key===null?Ne:We.key),B=g(We,B,Ne),et===null?xe=We:et.sibling=We,et=We);return e&&ge.forEach(function(Hr){return t(U,Hr)}),He&&_e(U,Ne),xe}function Se(U,B,$,ee){if($==null)throw Error(s(151));for(var xe=null,et=null,ge=B,Ne=B=0,We=null,tt=$.next();ge!==null&&!tt.done;Ne++,tt=$.next()){ge.index>Ne?(We=ge,ge=null):We=ge.sibling;var Hr=W(U,ge,tt.value,ee);if(Hr===null){ge===null&&(ge=We);break}e&&ge&&Hr.alternate===null&&t(U,ge),B=g(Hr,B,Ne),et===null?xe=Hr:et.sibling=Hr,et=Hr,ge=We}if(tt.done)return r(U,ge),He&&_e(U,Ne),xe;if(ge===null){for(;!tt.done;Ne++,tt=$.next())tt=ne(U,tt.value,ee),tt!==null&&(B=g(tt,B,Ne),et===null?xe=tt:et.sibling=tt,et=tt);return He&&_e(U,Ne),xe}for(ge=l(ge);!tt.done;Ne++,tt=$.next())tt=J(ge,U,Ne,tt.value,ee),tt!==null&&(e&&tt.alternate!==null&&ge.delete(tt.key===null?Ne:tt.key),B=g(tt,B,Ne),et===null?xe=tt:et.sibling=tt,et=tt);return e&&ge.forEach(function(z_){return t(U,z_)}),He&&_e(U,Ne),xe}function ft(U,B,$,ee){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var xe=$.key;B!==null;){if(B.key===xe){if(xe=$.type,xe===P){if(B.tag===7){r(U,B.sibling),ee=f(B,$.props.children),ee.return=U,U=ee;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ae&&Ca(xe)===B.type){r(U,B.sibling),ee=f(B,$.props),wo(ee,$),ee.return=U,U=ee;break e}r(U,B);break}else t(U,B);B=B.sibling}$.type===P?(ee=$i($.props.children,U.mode,ee,$.key),ee.return=U,U=ee):(ee=ba($.type,$.key,$.props,null,U.mode,ee),wo(ee,$),ee.return=U,U=ee)}return w(U);case R:e:{for(xe=$.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){r(U,B.sibling),ee=f(B,$.children||[]),ee.return=U,U=ee;break e}else{r(U,B);break}else t(U,B);B=B.sibling}ee=mo($,U.mode,ee),ee.return=U,U=ee}return w(U);case Ae:return $=Ca($),ft(U,B,$,ee)}if(vt($))return fe(U,B,$,ee);if(Oe($)){if(xe=Oe($),typeof xe!="function")throw Error(s(150));return $=xe.call($),Se(U,B,$,ee)}if(typeof $.then=="function")return ft(U,B,Wl($),ee);if($.$$typeof===k)return ft(U,B,ql(U,$),ee);Kl(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(r(U,B.sibling),ee=f(B,$),ee.return=U,U=ee):(r(U,B),ee=ss($,U.mode,ee),ee.return=U,U=ee),w(U)):r(U,B)}return function(U,B,$,ee){try{bo=0;var xe=ft(U,B,$,ee);return hs=null,xe}catch(ge){if(ge===ds||ge===Vl)throw ge;var et=sn(29,ge,null,U.mode);return et.lanes=ee,et.return=U,et}finally{}}}var Aa=yf(!0),vf=yf(!1),Tr=!1;function Hu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var f=l.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),l.pending=t,t=xa(e),wr(e,null,r),t}return Ei(e,l,t,r),xa(e)}function So(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,gl(e,r)}}function qu(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,r=r.next}while(r!==null);g===null?f=g=t:g=g.next=t}else f=g=t;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Zu=!1;function To(){if(Zu){var e=us;if(e!==null)throw e}}function Eo(e,t,r,l){Zu=!1;var f=e.updateQueue;Tr=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,j=f.shared.pending;if(j!==null){f.shared.pending=null;var D=j,q=D.next;D.next=null,w===null?g=q:w.next=q,w=D;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,j=Q.lastBaseUpdate,j!==w&&(j===null?Q.firstBaseUpdate=q:j.next=q,Q.lastBaseUpdate=D))}if(g!==null){var ne=f.baseState;w=0,Q=q=D=null,j=g;do{var W=j.lane&-536870913,J=W!==j.lane;if(J?(Ge&W)===W:(l&W)===W){W!==0&&W===cs&&(Zu=!0),Q!==null&&(Q=Q.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var fe=e,Se=j;W=t;var ft=r;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){ne=fe.call(ft,ne,W);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,W=typeof fe=="function"?fe.call(ft,ne,W):fe,W==null)break e;ne=T({},ne,W);break e;case 2:Tr=!0}}W=j.callback,W!==null&&(e.flags|=64,J&&(e.flags|=8192),J=f.callbacks,J===null?f.callbacks=[W]:J.push(W))}else J={lane:W,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Q===null?(q=Q=J,D=ne):Q=Q.next=J,w|=W;if(j=j.next,j===null){if(j=f.shared.pending,j===null)break;J=j,j=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);Q===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=Q,g===null&&(f.shared.lanes=0),Lr|=w,e.lanes=w,e.memoizedState=ne}}function _f(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function xf(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)_f(r[e],t)}var fs=O(null),Yl=O(0);function bf(e,t){e=Qi,ie(Yl,e),ie(fs,t),Qi=e|t.baseLanes}function Vu(){ie(Yl,Qi),ie(fs,fs.current)}function Gu(){Qi=Yl.current,V(fs),V(Yl)}var zn=O(null),Yn=null;function jr(e){var t=e.alternate;ie(zt,zt.current&1),ie(zn,e),Yn===null&&(t===null||fs.current!==null||t.memoizedState!==null)&&(Yn=e)}function Wu(e){ie(zt,zt.current),ie(zn,e),Yn===null&&(Yn=e)}function wf(e){e.tag===22?(ie(zt,zt.current),ie(zn,e),Yn===null&&(Yn=e)):Ar()}function Ar(){ie(zt,zt.current),ie(zn,zn.current)}function Mn(e){V(zn),Yn===e&&(Yn=null),V(zt)}var zt=O(0);function Fl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Qd(r)||eh(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=0,Pe=null,dt=null,Bt=null,Xl=!1,ps=!1,Oa=!1,Jl=0,Co=0,gs=null,Sv=0;function Lt(){throw Error(s(321))}function Ku(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function Yu(e,t,r,l,f,g){return Vi=g,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?ap:ud,Oa=!1,g=r(l,f),Oa=!1,ps&&(g=Tf(t,r,l,f)),Sf(e),g}function Sf(e){Z.H=Oo;var t=dt!==null&&dt.next!==null;if(Vi=0,Bt=dt=Pe=null,Xl=!1,Co=0,gs=null,t)throw Error(s(300));e===null||Ut||(e=e.dependencies,e!==null&&$l(e)&&(Ut=!0))}function Tf(e,t,r,l){Pe=e;var f=0;do{if(ps&&(gs=null),Co=0,ps=!1,25<=f)throw Error(s(301));if(f+=1,Bt=dt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=sp,g=t(r,l)}while(ps);return g}function Tv(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?jo(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(Pe.flags|=1024),t}function Fu(){var e=Jl!==0;return Jl=0,e}function Xu(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Ju(e){if(Xl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xl=!1}Vi=0,Bt=dt=Pe=null,ps=!1,Co=Jl=0,gs=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Pe.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Mt(){if(dt===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Bt===null?Pe.memoizedState:Bt.next;if(t!==null)Bt=t,dt=e;else{if(e===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Bt===null?Pe.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(e){var t=Co;return Co+=1,gs===null&&(gs=[]),e=pf(gs,e,t),t=Pe,(Bt===null?t.memoizedState:Bt.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?ap:ud),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jo(e);if(e.$$typeof===k)return tn(e)}throw Error(s(438,String(e)))}function Qu(e){var t=null,r=Pe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Ql(),Pe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=Ke;return t.index++,r}function Gi(e,t){return typeof t=="function"?t(e):t}function tc(e){var t=Mt();return ed(t,dt,e)}function ed(e,t,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var f=e.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}t.baseQueue=f=g,l.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{t=f.next;var j=w=null,D=null,q=t,Q=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Ge&ne)===ne:(Vi&ne)===ne){var W=q.revertLane;if(W===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===cs&&(Q=!0);else if((Vi&W)===W){q=q.next,W===cs&&(Q=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(j=D=ne,w=g):D=D.next=ne,Pe.lanes|=W,Lr|=W;ne=q.action,Oa&&r(g,ne),g=q.hasEagerState?q.eagerState:r(g,ne)}else W={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(j=D=W,w=g):D=D.next=W,Pe.lanes|=ne,Lr|=ne;q=q.next}while(q!==null&&q!==t);if(D===null?w=g:D.next=j,!Ft(g,e.memoizedState)&&(Ut=!0,Q&&(r=us,r!==null)))throw r;e.memoizedState=g,e.baseState=w,e.baseQueue=D,l.lastRenderedState=g}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function td(e){var t=Mt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,f=r.pending,g=t.memoizedState;if(f!==null){r.pending=null;var w=f=f.next;do g=e(g,w.action),w=w.next;while(w!==f);Ft(g,t.memoizedState)||(Ut=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),r.lastRenderedState=g}return[g,l]}function Ef(e,t,r){var l=Pe,f=Mt(),g=He;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=t();var w=!Ft((dt||f).memoizedState,r);if(w&&(f.memoizedState=r,Ut=!0),f=f.queue,rd(Af.bind(null,l,f,e),[e]),f.getSnapshot!==t||w||Bt!==null&&Bt.memoizedState.tag&1){if(l.flags|=2048,ms(9,{destroy:void 0},jf.bind(null,l,f,r,t),null),yt===null)throw Error(s(349));g||(Vi&127)!==0||Cf(l,t,r)}return r}function Cf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t=Ql(),Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function jf(e,t,r,l){t.value=r,t.getSnapshot=l,Of(t)&&Rf(e)}function Af(e,t,r){return r(function(){Of(t)&&Rf(e)})}function Of(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function Rf(e){var t=Wn(e,2);t!==null&&Cn(t,e,2)}function nd(e){var t=fn();if(typeof e=="function"){var r=e;if(e=r(),Oa){ti(!0);try{r()}finally{ti(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t}function Lf(e,t,r,l){return e.baseState=r,ed(e,dt,typeof l=="function"?l:Gi)}function Ev(e,t,r,l,f){if(rc(e))throw Error(s(485));if(e=t.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};Z.T!==null?r(!0):g.isTransition=!1,l(g),r=t.pending,r===null?(g.next=t.pending=g,kf(t,g)):(g.next=r.next,t.pending=r.next=g)}}function kf(e,t){var r=t.action,l=t.payload,f=e.state;if(t.isTransition){var g=Z.T,w={};Z.T=w;try{var j=r(f,l),D=Z.S;D!==null&&D(w,j),zf(e,t,j)}catch(q){id(e,t,q)}finally{g!==null&&w.types!==null&&(g.types=w.types),Z.T=g}}else try{g=r(f,l),zf(e,t,g)}catch(q){id(e,t,q)}}function zf(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Mf(e,t,l)},function(l){return id(e,t,l)}):Mf(e,t,r)}function Mf(e,t,r){t.status="fulfilled",t.value=r,Pf(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,kf(e,r)))}function id(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,Pf(t),t=t.next;while(t!==l)}e.action=null}function Pf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Df(e,t){return t}function Nf(e,t){if(He){var r=yt.formState;if(r!==null){e:{var l=Pe;if(He){if(Qe){t:{for(var f=Qe,g=bn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Qe=Fn(f.nextSibling),l=f.data==="F!";break e}}ji(l)}l=!1}l&&(t=r[0])}}return r=fn(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:t},r.queue=l,r=np.bind(null,Pe,l),l.dispatch=r,l=nd(!1),g=cd.bind(null,Pe,!1,l.queue),l=fn(),f={state:t,dispatch:null,action:e,pending:null},l.queue=f,r=Ev.bind(null,Pe,f,g,r),f.dispatch=r,l.memoizedState=e,[t,r,!1]}function Bf(e){var t=Mt();return Uf(t,dt,e)}function Uf(e,t,r){if(t=ed(e,t,Df)[0],e=tc(Gi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=jo(t)}catch(w){throw w===ds?Vl:w}else l=t;t=Mt();var f=t.queue,g=f.dispatch;return r!==t.memoizedState&&(Pe.flags|=2048,ms(9,{destroy:void 0},Cv.bind(null,f,r),null)),[l,g,e]}function Cv(e,t){e.action=t}function If(e){var t=Mt(),r=dt;if(r!==null)return Uf(t,r,e);Mt(),t=t.memoizedState,r=Mt();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function ms(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=Pe.updateQueue,t===null&&(t=Ql(),Pe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function Hf(){return Mt().memoizedState}function nc(e,t,r,l){var f=fn();Pe.flags|=e,f.memoizedState=ms(1|t,{destroy:void 0},r,l===void 0?null:l)}function ic(e,t,r,l){var f=Mt();l=l===void 0?null:l;var g=f.memoizedState.inst;dt!==null&&l!==null&&Ku(l,dt.memoizedState.deps)?f.memoizedState=ms(t,g,r,l):(Pe.flags|=e,f.memoizedState=ms(1|t,g,r,l))}function $f(e,t){nc(8390656,8,e,t)}function rd(e,t){ic(2048,8,e,t)}function jv(e){Pe.flags|=4;var t=Pe.updateQueue;if(t===null)t=Ql(),Pe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function qf(e){var t=Mt().memoizedState;return jv({ref:t,nextImpl:e}),function(){if((nt&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Zf(e,t){return ic(4,2,e,t)}function Vf(e,t){return ic(4,4,e,t)}function Gf(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wf(e,t,r){r=r!=null?r.concat([e]):null,ic(4,4,Gf.bind(null,t,e),r)}function ad(){}function Kf(e,t){var r=Mt();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&Ku(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function Yf(e,t){var r=Mt();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&Ku(t,l[1]))return l[0];if(l=e(),Oa){ti(!0);try{e()}finally{ti(!1)}}return r.memoizedState=[l,t],l}function sd(e,t,r){return r===void 0||(Vi&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=Fp(),Pe.lanes|=e,Lr|=e,r)}function Ff(e,t,r,l){return Ft(r,t)?r:fs.current!==null?(e=sd(e,r,l),Ft(e,t)||(Ut=!0),e):(Vi&42)===0||(Vi&1073741824)!==0&&(Ge&261930)===0?(Ut=!0,e.memoizedState=r):(e=Fp(),Pe.lanes|=e,Lr|=e,t)}function Xf(e,t,r,l,f){var g=se.p;se.p=g!==0&&8>g?g:8;var w=Z.T,j={};Z.T=j,cd(e,!1,t,r);try{var D=f(),q=Z.S;if(q!==null&&q(j,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=wv(D,l);Ao(e,t,Q,Nn(e))}else Ao(e,t,l,Nn(e))}catch(ne){Ao(e,t,{then:function(){},status:"rejected",reason:ne},Nn())}finally{se.p=g,w!==null&&j.types!==null&&(w.types=j.types),Z.T=w}}function Av(){}function od(e,t,r,l){if(e.tag!==5)throw Error(s(476));var f=Jf(e).queue;Xf(e,f,t,N,r===null?Av:function(){return Qf(e),r(l)})}function Jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:N},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qf(e){var t=Jf(e);t.next===null&&(t=e.alternate.memoizedState),Ao(e,t.next.queue,{},Nn())}function ld(){return tn(Vo)}function ep(){return Mt().memoizedState}function tp(){return Mt().memoizedState}function Ov(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Nn();e=Er(r);var l=Cr(t,e,r);l!==null&&(Cn(l,t,r),So(l,t,r)),t={cache:Nu()},e.payload=t;return}t=t.return}}function Rv(e,t,r){var l=Nn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},rc(e)?ip(t,r):(r=fo(e,t,r,l),r!==null&&(Cn(r,e,l),rp(r,t,l)))}function np(e,t,r){var l=Nn();Ao(e,t,r,l)}function Ao(e,t,r,l){var f={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(rc(e))ip(t,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var w=t.lastRenderedState,j=g(w,r);if(f.hasEagerState=!0,f.eagerState=j,Ft(j,w))return Ei(e,t,f,0),yt===null&&_a(),!1}catch{}finally{}if(r=fo(e,t,f,l),r!==null)return Cn(r,e,l),rp(r,t,l),!0}return!1}function cd(e,t,r,l){if(l={lane:2,revertLane:Hd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(t)throw Error(s(479))}else t=fo(e,r,l,2),t!==null&&Cn(t,e,2)}function rc(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function ip(e,t){ps=Xl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function rp(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,gl(e,r)}}var Oo={readContext:tn,use:ec,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Oo.useEffectEvent=Lt;var ap={readContext:tn,use:ec,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:$f,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,nc(4194308,4,Gf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nc(4194308,4,e,t)},useInsertionEffect:function(e,t){nc(4,2,e,t)},useMemo:function(e,t){var r=fn();t=t===void 0?null:t;var l=e();if(Oa){ti(!0);try{e()}finally{ti(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=fn();if(r!==void 0){var f=r(t);if(Oa){ti(!0);try{r(t)}finally{ti(!1)}}}else f=t;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Rv.bind(null,Pe,e),[l.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:function(e){e=nd(e);var t=e.queue,r=np.bind(null,Pe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ad,useDeferredValue:function(e,t){var r=fn();return sd(r,e,t)},useTransition:function(){var e=nd(!1);return e=Xf.bind(null,Pe,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=Pe,f=fn();if(He){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),yt===null)throw Error(s(349));(Ge&127)!==0||Cf(l,t,r)}f.memoizedState=r;var g={value:r,getSnapshot:t};return f.queue=g,$f(Af.bind(null,l,g,e),[e]),l.flags|=2048,ms(9,{destroy:void 0},jf.bind(null,l,g,r,t),null),r},useId:function(){var e=fn(),t=yt.identifierPrefix;if(He){var r=ue,l=te;r=(l&~(1<<32-un(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=Sv++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ld,useFormState:Nf,useActionState:Nf,useOptimistic:function(e){var t=fn();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=cd.bind(null,Pe,!0,r),r.dispatch=t,[e,t]},useMemoCache:Qu,useCacheRefresh:function(){return fn().memoizedState=Ov.bind(null,Pe)},useEffectEvent:function(e){var t=fn(),r={impl:e};return t.memoizedState=r,function(){if((nt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},ud={readContext:tn,use:ec,useCallback:Kf,useContext:tn,useEffect:rd,useImperativeHandle:Wf,useInsertionEffect:Zf,useLayoutEffect:Vf,useMemo:Yf,useReducer:tc,useRef:Hf,useState:function(){return tc(Gi)},useDebugValue:ad,useDeferredValue:function(e,t){var r=Mt();return Ff(r,dt.memoizedState,e,t)},useTransition:function(){var e=tc(Gi)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:jo(e),t]},useSyncExternalStore:Ef,useId:ep,useHostTransitionStatus:ld,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,t){var r=Mt();return Lf(r,dt,e,t)},useMemoCache:Qu,useCacheRefresh:tp};ud.useEffectEvent=qf;var sp={readContext:tn,use:ec,useCallback:Kf,useContext:tn,useEffect:rd,useImperativeHandle:Wf,useInsertionEffect:Zf,useLayoutEffect:Vf,useMemo:Yf,useReducer:td,useRef:Hf,useState:function(){return td(Gi)},useDebugValue:ad,useDeferredValue:function(e,t){var r=Mt();return dt===null?sd(r,e,t):Ff(r,dt.memoizedState,e,t)},useTransition:function(){var e=td(Gi)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:jo(e),t]},useSyncExternalStore:Ef,useId:ep,useHostTransitionStatus:ld,useFormState:If,useActionState:If,useOptimistic:function(e,t){var r=Mt();return dt!==null?Lf(r,dt,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Qu,useCacheRefresh:tp};sp.useEffectEvent=qf;function dd(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:T({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hd={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Nn(),f=Er(l);f.payload=t,r!=null&&(f.callback=r),t=Cr(e,f,l),t!==null&&(Cn(t,e,l),So(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Nn(),f=Er(l);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Cr(e,f,l),t!==null&&(Cn(t,e,l),So(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Nn(),l=Er(r);l.tag=2,t!=null&&(l.callback=t),t=Cr(e,l,r),t!==null&&(Cn(t,e,r),So(t,e,r))}};function op(e,t,r,l,f,g,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,g,w):t.prototype&&t.prototype.isPureReactComponent?!vr(r,l)||!vr(f,g):!0}function lp(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&hd.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=T({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function cp(e){va(e)}function up(e){console.error(e)}function dp(e){va(e)}function ac(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function hp(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(e,t,r){return r=Er(r),r.tag=3,r.payload={element:null},r.callback=function(){ac(e,t)},r}function fp(e){return e=Er(e),e.tag=3,e}function pp(e,t,r,l){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;e.payload=function(){return f(g)},e.callback=function(){hp(t,r,l)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(e.callback=function(){hp(t,r,l),typeof f!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})})}function Lv(e,t,r,l,f){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&ls(t,r,f,!0),r=zn.current,r!==null){switch(r.tag){case 31:case 13:return Yn===null?yc():r.alternate===null&&kt===0&&(kt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,l===Gl?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),Bd(e,l,f)),!1;case 22:return r.flags|=65536,l===Gl?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),Bd(e,l,f)),!1}throw Error(s(435,r.tag))}return Bd(e,l,f),yc(),!1}if(He)return t=zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,l!==os&&(e=Error(s(422),{cause:l}),wa(o(e,r)))):(l!==os&&(t=Error(s(423),{cause:l}),wa(o(t,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=o(l,r),f=fd(e.stateNode,l,f),qu(e,f),kt!==4&&(kt=2)),!1;var g=Error(s(520),{cause:l});if(g=o(g,r),No===null?No=[g]:No.push(g),kt!==4&&(kt=2),t===null)return!0;l=o(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=fd(r.stateNode,l,e),qu(r,e),!1;case 1:if(t=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(kr===null||!kr.has(g))))return r.flags|=65536,f&=-f,r.lanes|=f,f=fp(f),pp(f,e,r,l),qu(r,f),!1}r=r.return}while(r!==null);return!1}var pd=Error(s(461)),Ut=!1;function nn(e,t,r,l){t.child=e===null?vf(t,null,r,l):Aa(t,e.child,r,l)}function gp(e,t,r,l,f){r=r.render;var g=t.ref;if("ref"in l){var w={};for(var j in l)j!=="ref"&&(w[j]=l[j])}else w=l;return Ta(t),l=Yu(e,t,r,w,g,f),j=Fu(),e!==null&&!Ut?(Xu(e,t,f),Wi(e,t,f)):(He&&j&&Vt(t),t.flags|=1,nn(e,t,l,f),t.child)}function mp(e,t,r,l,f){if(e===null){var g=r.type;return typeof g=="function"&&!as(g)&&g.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=g,yp(e,t,g,l,f)):(e=ba(r.type,null,l,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!wd(e,f)){var w=g.memoizedProps;if(r=r.compare,r=r!==null?r:vr,r(w,l)&&e.ref===t.ref)return Wi(e,t,f)}return t.flags|=1,e=Kn(g,l),e.ref=t.ref,e.return=t,t.child=e}function yp(e,t,r,l,f){if(e!==null){var g=e.memoizedProps;if(vr(g,l)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=l=g,wd(e,f))(e.flags&131072)!==0&&(Ut=!0);else return t.lanes=e.lanes,Wi(e,t,f)}return gd(e,t,r,l,f)}function vp(e,t,r,l){var f=l.children,g=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,e!==null){for(l=t.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~g}else l=0,t.child=null;return _p(e,t,g,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zl(t,g!==null?g.cachePool:null),g!==null?bf(t,g):Vu(),wf(t);else return l=t.lanes=536870912,_p(e,t,g!==null?g.baseLanes|r:r,r,l)}else g!==null?(Zl(t,g.cachePool),bf(t,g),Ar(),t.memoizedState=null):(e!==null&&Zl(t,null),Vu(),Ar());return nn(e,t,f,r),t.child}function Ro(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _p(e,t,r,l,f){var g=Uu();return g=g===null?null:{parent:Nt._currentValue,pool:g},t.memoizedState={baseLanes:r,cachePool:g},e!==null&&Zl(t,null),Vu(),wf(t),e!==null&&ls(e,t,l,!0),t.childLanes=f,null}function sc(e,t){return t=lc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xp(e,t,r){return Aa(t,e.child,null,r),e=sc(t,t.pendingProps),e.flags|=2,Mn(t),t.memoizedState=null,e}function kv(e,t,r){var l=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=sc(t,l),t.lanes=536870912,Ro(null,e);if(Wu(t),(e=Qe)?(e=kg(e,bn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:G!==null?{id:te,overflow:ue}:null,retryLane:536870912,hydrationErrors:null},r=go(e),r.return=t,t.child=r,Je=t,Qe=null)):e=null,e===null)throw ji(t);return t.lanes=536870912,null}return sc(t,l)}var g=e.memoizedState;if(g!==null){var w=g.dehydrated;if(Wu(t),f)if(t.flags&256)t.flags&=-257,t=xp(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Ut||ls(e,t,r,!1),f=(r&e.childLanes)!==0,Ut||f){if(l=yt,l!==null&&(w=ml(l,r),w!==0&&w!==g.retryLane))throw g.retryLane=w,Wn(e,w),Cn(l,e,w),pd;yc(),t=xp(e,t,r)}else e=g.treeContext,Qe=Fn(w.nextSibling),Je=t,He=!0,Ci=null,bn=!1,e!==null&&hn(t,e),t=sc(t,l),t.flags|=4096;return t}return e=Kn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function oc(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function gd(e,t,r,l,f){return Ta(t),r=Yu(e,t,r,l,void 0,f),l=Fu(),e!==null&&!Ut?(Xu(e,t,f),Wi(e,t,f)):(He&&l&&Vt(t),t.flags|=1,nn(e,t,r,f),t.child)}function bp(e,t,r,l,f,g){return Ta(t),t.updateQueue=null,r=Tf(t,l,r,f),Sf(e),l=Fu(),e!==null&&!Ut?(Xu(e,t,g),Wi(e,t,g)):(He&&l&&Vt(t),t.flags|=1,nn(e,t,r,g),t.child)}function wp(e,t,r,l,f){if(Ta(t),t.stateNode===null){var g=Hi,w=r.contextType;typeof w=="object"&&w!==null&&(g=tn(w)),g=new r(l,g),t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hd,t.stateNode=g,g._reactInternals=t,g=t.stateNode,g.props=l,g.state=t.memoizedState,g.refs={},Hu(t),w=r.contextType,g.context=typeof w=="object"&&w!==null?tn(w):Hi,g.state=t.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(dd(t,r,w,l),g.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&hd.enqueueReplaceState(g,g.state,null),Eo(t,l,g,f),To(),g.state=t.memoizedState),typeof g.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){g=t.stateNode;var j=t.memoizedProps,D=Ra(r,j);g.props=D;var q=g.context,Q=r.contextType;w=Hi,typeof Q=="object"&&Q!==null&&(w=tn(Q));var ne=r.getDerivedStateFromProps;Q=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,Q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j||q!==w)&&lp(t,g,l,w),Tr=!1;var W=t.memoizedState;g.state=W,Eo(t,l,g,f),To(),q=t.memoizedState,j||W!==q||Tr?(typeof ne=="function"&&(dd(t,r,ne,l),q=t.memoizedState),(D=Tr||op(t,r,D,l,W,q,w))?(Q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=q),g.props=l,g.state=q,g.context=w,l=D):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{g=t.stateNode,$u(e,t),w=t.memoizedProps,Q=Ra(r,w),g.props=Q,ne=t.pendingProps,W=g.context,q=r.contextType,D=Hi,typeof q=="object"&&q!==null&&(D=tn(q)),j=r.getDerivedStateFromProps,(q=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ne||W!==D)&&lp(t,g,l,D),Tr=!1,W=t.memoizedState,g.state=W,Eo(t,l,g,f),To();var J=t.memoizedState;w!==ne||W!==J||Tr||e!==null&&e.dependencies!==null&&$l(e.dependencies)?(typeof j=="function"&&(dd(t,r,j,l),J=t.memoizedState),(Q=Tr||op(t,r,Q,l,W,J,D)||e!==null&&e.dependencies!==null&&$l(e.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,J,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,J,D)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=J),g.props=l,g.state=J,g.context=D,l=Q):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),l=!1)}return g=l,oc(e,t),l=(t.flags&128)!==0,g||l?(g=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:g.render(),t.flags|=1,e!==null&&l?(t.child=Aa(t,e.child,null,f),t.child=Aa(t,null,r,f)):nn(e,t,r,f),t.memoizedState=g.state,e=t.child):e=Wi(e,t,f),e}function Sp(e,t,r,l){return qi(),t.flags|=256,nn(e,t,r,l),t.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(e){return{baseLanes:e,cachePool:hf()}}function vd(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Dn),e}function Tp(e,t,r){var l=t.pendingProps,f=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(zt.current&2)!==0),w&&(f=!0,t.flags&=-129),w=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(f?jr(t):Ar(),(e=Qe)?(e=kg(e,bn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:G!==null?{id:te,overflow:ue}:null,retryLane:536870912,hydrationErrors:null},r=go(e),r.return=t,t.child=r,Je=t,Qe=null)):e=null,e===null)throw ji(t);return eh(e)?t.lanes=32:t.lanes=536870912,null}var j=l.children;return l=l.fallback,f?(Ar(),f=t.mode,j=lc({mode:"hidden",children:j},f),l=$i(l,f,r,null),j.return=t,l.return=t,j.sibling=l,t.child=j,l=t.child,l.memoizedState=yd(r),l.childLanes=vd(e,w,r),t.memoizedState=md,Ro(null,l)):(jr(t),_d(t,j))}var D=e.memoizedState;if(D!==null&&(j=D.dehydrated,j!==null)){if(g)t.flags&256?(jr(t),t.flags&=-257,t=xd(e,t,r)):t.memoizedState!==null?(Ar(),t.child=e.child,t.flags|=128,t=null):(Ar(),j=l.fallback,f=t.mode,l=lc({mode:"visible",children:l.children},f),j=$i(j,f,r,null),j.flags|=2,l.return=t,j.return=t,l.sibling=j,t.child=l,Aa(t,e.child,null,r),l=t.child,l.memoizedState=yd(r),l.childLanes=vd(e,w,r),t.memoizedState=md,t=Ro(null,l));else if(jr(t),eh(j)){if(w=j.nextSibling&&j.nextSibling.dataset,w)var q=w.dgst;w=q,l=Error(s(419)),l.stack="",l.digest=w,wa({value:l,source:null,stack:null}),t=xd(e,t,r)}else if(Ut||ls(e,t,r,!1),w=(r&e.childLanes)!==0,Ut||w){if(w=yt,w!==null&&(l=ml(w,r),l!==0&&l!==D.retryLane))throw D.retryLane=l,Wn(e,l),Cn(w,e,l),pd;Qd(j)||yc(),t=xd(e,t,r)}else Qd(j)?(t.flags|=192,t.child=e.child,t=null):(e=D.treeContext,Qe=Fn(j.nextSibling),Je=t,He=!0,Ci=null,bn=!1,e!==null&&hn(t,e),t=_d(t,l.children),t.flags|=4096);return t}return f?(Ar(),j=l.fallback,f=t.mode,D=e.child,q=D.sibling,l=Kn(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?j=Kn(q,j):(j=$i(j,f,r,null),j.flags|=2),j.return=t,l.return=t,l.sibling=j,t.child=l,Ro(null,l),l=t.child,j=e.child.memoizedState,j===null?j=yd(r):(f=j.cachePool,f!==null?(D=Nt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=hf(),j={baseLanes:j.baseLanes|r,cachePool:f}),l.memoizedState=j,l.childLanes=vd(e,w,r),t.memoizedState=md,Ro(e.child,l)):(jr(t),r=e.child,e=r.sibling,r=Kn(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(w=t.deletions,w===null?(t.deletions=[e],t.flags|=16):w.push(e)),t.child=r,t.memoizedState=null,r)}function _d(e,t){return t=lc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function lc(e,t){return e=sn(22,e,null,t),e.lanes=0,e}function xd(e,t,r){return Aa(t,e.child,null,r),e=_d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ep(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Pu(e.return,t,r)}function bd(e,t,r,l,f,g){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f,treeForkCount:g}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=r,w.tailMode=f,w.treeForkCount=g)}function Cp(e,t,r){var l=t.pendingProps,f=l.revealOrder,g=l.tail;l=l.children;var w=zt.current,j=(w&2)!==0;if(j?(w=w&1|2,t.flags|=128):w&=1,ie(zt,w),nn(e,t,l,r),l=He?C:0,!j&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ep(e,r,t);else if(e.tag===19)Ep(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=t.child,f=null;r!==null;)e=r.alternate,e!==null&&Fl(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=t.child,t.child=null):(f=r.sibling,r.sibling=null),bd(t,!1,f,r,g,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Fl(e)===null){t.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}bd(t,!0,r,null,g,l);break;case"together":bd(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Wi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(ls(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=Kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$l(e)))}function zv(e,t,r){switch(t.tag){case 3:_t(t,t.stateNode.containerInfo),Sr(t,Nt,e.memoizedState.cache),qi();break;case 27:case 5:Jn(t);break;case 4:_t(t,t.stateNode.containerInfo);break;case 10:Sr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(t),t.flags|=128,null):(r&t.child.childLanes)!==0?Tp(e,t,r):(jr(t),e=Wi(e,t,r),e!==null?e.sibling:null);jr(t);break;case 19:var f=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(ls(e,t,r,!1),l=(r&t.childLanes)!==0),f){if(l)return Cp(e,t,r);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(zt,zt.current),l)break;return null;case 22:return t.lanes=0,vp(e,t,r,t.pendingProps);case 24:Sr(t,Nt,e.memoizedState.cache)}return Wi(e,t,r)}function jp(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ut=!0;else{if(!wd(e,r)&&(t.flags&128)===0)return Ut=!1,zv(e,t,r);Ut=(e.flags&131072)!==0}else Ut=!1,He&&(t.flags&1048576)!==0&&De(t,C,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e=="function")as(e)?(l=Ra(e,l),t.tag=1,t=wp(null,t,e,l,r)):(t.tag=0,t=gd(null,t,e,l,r));else{if(e!=null){var f=e.$$typeof;if(f===F){t.tag=11,t=gp(null,t,e,l,r);break e}else if(f===ce){t.tag=14,t=mp(null,t,e,l,r);break e}}throw t=Ce(e)||e,Error(s(306,t,""))}}return t;case 0:return gd(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,f=Ra(l,t.pendingProps),wp(e,t,l,f,r);case 3:e:{if(_t(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var g=t.memoizedState;f=g.element,$u(e,t),Eo(t,l,null,r);var w=t.memoizedState;if(l=w.cache,Sr(t,Nt,l),l!==g.cache&&Du(t,[Nt],r,!0),To(),l=w.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:w.cache},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){t=Sp(e,t,l,r);break e}else if(l!==f){f=o(Error(s(424)),t),wa(f),t=Sp(e,t,l,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Fn(e.firstChild),Je=t,He=!0,Ci=null,bn=!0,r=vf(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(qi(),l===f){t=Wi(e,t,r);break e}nn(e,t,l,r)}t=t.child}return t;case 26:return oc(e,t),e===null?(r=Bg(t.type,null,t.pendingProps,null))?t.memoizedState=r:He||(r=t.type,e=t.pendingProps,l=Tc(de.current).createElement(r),l[Pt]=t,l[Yt]=e,rn(l,r,e),Dt(l),t.stateNode=l):t.memoizedState=Bg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jn(t),e===null&&He&&(l=t.stateNode=Pg(t.type,t.pendingProps,de.current),Je=t,bn=!0,f=Qe,Dr(t.type)?(th=f,Qe=Fn(l.firstChild)):Qe=f),nn(e,t,t.pendingProps.children,r),oc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((f=l=Qe)&&(l=c_(l,t.type,t.pendingProps,bn),l!==null?(t.stateNode=l,Je=t,Qe=Fn(l.firstChild),bn=!1,f=!0):f=!1),f||ji(t)),Jn(t),f=t.type,g=t.pendingProps,w=e!==null?e.memoizedProps:null,l=g.children,Fd(f,g)?l=null:w!==null&&Fd(f,w)&&(t.flags|=32),t.memoizedState!==null&&(f=Yu(e,t,Tv,null,null,r),Vo._currentValue=f),oc(e,t),nn(e,t,l,r),t.child;case 6:return e===null&&He&&((e=r=Qe)&&(r=u_(r,t.pendingProps,bn),r!==null?(t.stateNode=r,Je=t,Qe=null,e=!0):e=!1),e||ji(t)),null;case 13:return Tp(e,t,r);case 4:return _t(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Aa(t,null,l,r):nn(e,t,l,r),t.child;case 11:return gp(e,t,t.type,t.pendingProps,r);case 7:return nn(e,t,t.pendingProps,r),t.child;case 8:return nn(e,t,t.pendingProps.children,r),t.child;case 12:return nn(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,Sr(t,t.type,l.value),nn(e,t,l.children,r),t.child;case 9:return f=t.type._context,l=t.pendingProps.children,Ta(t),f=tn(f),l=l(f),t.flags|=1,nn(e,t,l,r),t.child;case 14:return mp(e,t,t.type,t.pendingProps,r);case 15:return yp(e,t,t.type,t.pendingProps,r);case 19:return Cp(e,t,r);case 31:return kv(e,t,r);case 22:return vp(e,t,r,t.pendingProps);case 24:return Ta(t),l=tn(Nt),e===null?(f=Uu(),f===null&&(f=yt,g=Nu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=r),f=g),t.memoizedState={parent:l,cache:f},Hu(t),Sr(t,Nt,f)):((e.lanes&r)!==0&&($u(e,t),Eo(t,null,null,r),To()),f=e.memoizedState,g=t.memoizedState,f.parent!==l?(f={parent:l,cache:l},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),Sr(t,Nt,l)):(l=g.cache,Sr(t,Nt,l),l!==f.cache&&Du(t,[Nt],r,!0))),nn(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ki(e){e.flags|=4}function Sd(e,t,r,l,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(eg())e.flags|=8192;else throw ja=Gl,Iu}else e.flags&=-16777217}function Ap(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qg(t))if(eg())e.flags|=8192;else throw ja=Gl,Iu}function cc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fl():536870912,e.lanes|=t,xs|=t)}function Lo(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function Mv(e,t,r){var l=t.pendingProps;switch(Rt(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Zi(Nt),pt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(li(t)?Ki(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vo())),St(t),null;case 26:var f=t.type,g=t.memoizedState;return e===null?(Ki(t),g!==null?(St(t),Ap(t,g)):(St(t),Sd(t,f,null,l,r))):g?g!==e.memoizedState?(Ki(t),St(t),Ap(t,g)):(St(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ki(t),St(t),Sd(t,f,e,l,r)),null;case 27:if(An(t),r=de.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ki(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return St(t),null}e=ae.current,li(t)?yo(t):(e=Pg(f,l,r),t.stateNode=e,Ki(t))}return St(t),null;case 5:if(An(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ki(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return St(t),null}if(g=ae.current,li(t))yo(t);else{var w=Tc(de.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?w.createElement(f,{is:l.is}):w.createElement(f)}}g[Pt]=t,g[Yt]=l;e:for(w=t.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}t.stateNode=g;e:switch(rn(g,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ki(t)}}return St(t),Sd(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ki(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=de.current,li(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,f=Je,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Pt]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Tg(e.nodeValue,r)),e||ji(t,!0)}else e=Tc(e).createTextNode(l),e[Pt]=t,t.stateNode=e}return St(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=li(t),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Pt]=t}else qi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),e=!1}else r=vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Mn(t),t):(Mn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return St(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=li(t),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Pt]=t}else qi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),f=!1}else f=vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(Mn(t),t):(Mn(t),null)}return Mn(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),cc(t,t.updateQueue),St(t),null);case 4:return pt(),e===null&&Vd(t.stateNode.containerInfo),St(t),null;case 10:return Zi(t.type),St(t),null;case 19:if(V(zt),l=t.memoizedState,l===null)return St(t),null;if(f=(t.flags&128)!==0,g=l.rendering,g===null)if(f)Lo(l,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Fl(e),g!==null){for(t.flags|=128,Lo(l,!1),e=g.updateQueue,t.updateQueue=e,cc(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)po(r,e),r=r.sibling;return ie(zt,zt.current&1|2),He&&_e(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&gt()>pc&&(t.flags|=128,f=!0,Lo(l,!1),t.lanes=4194304)}else{if(!f)if(e=Fl(g),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,cc(t,e),Lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!He)return St(t),null}else 2*gt()-l.renderingStartTime>pc&&r!==536870912&&(t.flags|=128,f=!0,Lo(l,!1),t.lanes=4194304);l.isBackwards?(g.sibling=t.child,t.child=g):(e=l.last,e!==null?e.sibling=g:t.child=g,l.last=g)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=gt(),e.sibling=null,r=zt.current,ie(zt,f?r&1|2:r&1),He&&_e(t,l.treeForkCount),e):(St(t),null);case 22:case 23:return Mn(t),Gu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),r=t.updateQueue,r!==null&&cc(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&V(Ea),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Zi(Nt),St(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Pv(e,t){switch(Rt(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zi(Nt),pt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return An(t),null;case 31:if(t.memoizedState!==null){if(Mn(t),t.alternate===null)throw Error(s(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(zt),null;case 4:return pt(),null;case 10:return Zi(t.type),null;case 22:case 23:return Mn(t),Gu(),e!==null&&V(Ea),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Zi(Nt),null;case 25:return null;default:return null}}function Op(e,t){switch(Rt(t),t.tag){case 3:Zi(Nt),pt();break;case 26:case 27:case 5:An(t);break;case 4:pt();break;case 31:t.memoizedState!==null&&Mn(t);break;case 13:Mn(t);break;case 19:V(zt);break;case 10:Zi(t.type);break;case 22:case 23:Mn(t),Gu(),e!==null&&V(Ea);break;case 24:Zi(Nt)}}function ko(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var f=l.next;r=f;do{if((r.tag&e)===e){l=void 0;var g=r.create,w=r.inst;l=g(),w.destroy=l}r=r.next}while(r!==f)}}catch(j){lt(t,t.return,j)}}function Or(e,t,r){try{var l=t.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&e)===e){var w=l.inst,j=w.destroy;if(j!==void 0){w.destroy=void 0,f=t;var D=r,q=j;try{q()}catch(Q){lt(f,D,Q)}}}l=l.next}while(l!==g)}}catch(Q){lt(t,t.return,Q)}}function Rp(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{xf(t,r)}catch(l){lt(e,e.return,l)}}}function Lp(e,t,r){r.props=Ra(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){lt(e,t,l)}}function zo(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(f){lt(e,t,f)}}function Oi(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(f){lt(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){lt(e,t,f)}else r.current=null}function kp(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(f){lt(e,e.return,f)}}function Td(e,t,r){try{var l=e.stateNode;i_(l,e.type,r,t),l[Yt]=t}catch(f){lt(e,e.return,f)}}function zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cd(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yn));else if(l!==4&&(l===27&&Dr(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Cd(e,t,r),e=e.sibling;e!==null;)Cd(e,t,r),e=e.sibling}function uc(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(uc(e,t,r),e=e.sibling;e!==null;)uc(e,t,r),e=e.sibling}function Mp(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);rn(t,l,r),t[Pt]=e,t[Yt]=r}catch(g){lt(e,e.return,g)}}var Yi=!1,It=!1,jd=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function Dv(e,t){if(e=e.containerInfo,Kd=Lc,e=pa(e),bi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var w=0,j=-1,D=-1,q=0,Q=0,ne=e,W=null;t:for(;;){for(var J;ne!==r||f!==0&&ne.nodeType!==3||(j=w+f),ne!==g||l!==0&&ne.nodeType!==3||(D=w+l),ne.nodeType===3&&(w+=ne.nodeValue.length),(J=ne.firstChild)!==null;)W=ne,ne=J;for(;;){if(ne===e)break t;if(W===r&&++q===f&&(j=w),W===g&&++Q===l&&(D=w),(J=ne.nextSibling)!==null)break;ne=W,W=ne.parentNode}ne=J}r=j===-1||D===-1?null:{start:j,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yd={focusedElem:e,selectionRange:r},Lc=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,g=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,r=t,f=g.memoizedProps,g=g.memoizedState,l=r.stateNode;try{var fe=Ra(r.type,f);e=l.getSnapshotBeforeUpdate(fe,g),l.__reactInternalSnapshotBeforeUpdate=e}catch(Se){lt(r,r.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Jd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function Dp(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(e,r),l&4&&ko(5,r);break;case 1:if(Xi(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(w){lt(r,r.return,w)}else{var f=Ra(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){lt(r,r.return,w)}}l&64&&Rp(r),l&512&&zo(r,r.return);break;case 3:if(Xi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{xf(e,t)}catch(w){lt(r,r.return,w)}}break;case 27:t===null&&l&4&&Mp(r);case 26:case 5:Xi(e,r),t===null&&l&4&&kp(r),l&512&&zo(r,r.return);break;case 12:Xi(e,r);break;case 31:Xi(e,r),l&4&&Up(e,r);break;case 13:Xi(e,r),l&4&&Ip(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Vv.bind(null,r),d_(e,r))));break;case 22:if(l=r.memoizedState!==null||Yi,!l){t=t!==null&&t.memoizedState!==null||It,f=Yi;var g=It;Yi=l,(It=t)&&!g?Ji(e,r,(r.subtreeFlags&8772)!==0):Xi(e,r),Yi=f,It=g}break;case 30:break;default:Xi(e,r)}}function Np(e){var t=e.alternate;t!==null&&(e.alternate=null,Np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ys(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,wn=!1;function Fi(e,t,r){for(r=r.child;r!==null;)Bp(e,t,r),r=r.sibling}function Bp(e,t,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(rr,r)}catch{}switch(r.tag){case 26:It||Oi(r,t),Fi(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:It||Oi(r,t);var l=Et,f=wn;Dr(r.type)&&(Et=r.stateNode,wn=!1),Fi(e,t,r),$o(r.stateNode),Et=l,wn=f;break;case 5:It||Oi(r,t);case 6:if(l=Et,f=wn,Et=null,Fi(e,t,r),Et=l,wn=f,Et!==null)if(wn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(r.stateNode)}catch(g){lt(r,t,g)}else try{Et.removeChild(r.stateNode)}catch(g){lt(r,t,g)}break;case 18:Et!==null&&(wn?(e=Et,Rg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),As(e)):Rg(Et,r.stateNode));break;case 4:l=Et,f=wn,Et=r.stateNode.containerInfo,wn=!0,Fi(e,t,r),Et=l,wn=f;break;case 0:case 11:case 14:case 15:Or(2,r,t),It||Or(4,r,t),Fi(e,t,r);break;case 1:It||(Oi(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Lp(r,t,l)),Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:It=(l=It)||r.memoizedState!==null,Fi(e,t,r),It=l;break;default:Fi(e,t,r)}}function Up(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{As(e)}catch(r){lt(t,t.return,r)}}}function Ip(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{As(e)}catch(r){lt(t,t.return,r)}}function Nv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Pp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Pp),t;default:throw Error(s(435,e.tag))}}function dc(e,t){var r=Nv(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var f=Gv.bind(null,e,l);l.then(f,f)}})}function Sn(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l],g=e,w=t,j=w;e:for(;j!==null;){switch(j.tag){case 27:if(Dr(j.type)){Et=j.stateNode,wn=!1;break e}break;case 5:Et=j.stateNode,wn=!1;break e;case 3:case 4:Et=j.stateNode.containerInfo,wn=!0;break e}j=j.return}if(Et===null)throw Error(s(160));Bp(g,w,f),Et=null,wn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Hp(t,e),t=t.sibling}var ui=null;function Hp(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Sn(t,e),Tn(e),l&4&&(Or(3,e,e.return),ko(3,e),Or(5,e,e.return));break;case 1:Sn(t,e),Tn(e),l&512&&(It||r===null||Oi(r,r.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var f=ui;if(Sn(t,e),Tn(e),l&512&&(It||r===null||Oi(r,r.return)),l&4){var g=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Jr]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),rn(g,l,r),g[Pt]=e,Dt(g),l=g;break e;case"link":var w=Hg("link","href",f).get(l+(r.href||""));if(w){for(var j=0;j<w.length;j++)if(g=w[j],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(j,1);break t}}g=f.createElement(l),rn(g,l,r),f.head.appendChild(g);break;case"meta":if(w=Hg("meta","content",f).get(l+(r.content||""))){for(j=0;j<w.length;j++)if(g=w[j],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(j,1);break t}}g=f.createElement(l),rn(g,l,r),f.head.appendChild(g);break;default:throw Error(s(468,l))}g[Pt]=e,Dt(g),l=g}e.stateNode=l}else $g(f,e.type,e.stateNode);else e.stateNode=Ig(f,l,e.memoizedProps);else g!==l?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,l===null?$g(f,e.type,e.stateNode):Ig(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Td(e,e.memoizedProps,r.memoizedProps)}break;case 27:Sn(t,e),Tn(e),l&512&&(It||r===null||Oi(r,r.return)),r!==null&&l&4&&Td(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Sn(t,e),Tn(e),l&512&&(It||r===null||Oi(r,r.return)),e.flags&32){f=e.stateNode;try{Hn(f,"")}catch(fe){lt(e,e.return,fe)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Td(e,f,r!==null?r.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(Sn(t,e),Tn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(fe){lt(e,e.return,fe)}}break;case 3:if(jc=null,f=ui,ui=Ec(t.containerInfo),Sn(t,e),ui=f,Tn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(fe){lt(e,e.return,fe)}jd&&(jd=!1,$p(e));break;case 4:l=ui,ui=Ec(e.stateNode.containerInfo),Sn(t,e),Tn(e),ui=l;break;case 12:Sn(t,e),Tn(e);break;case 31:Sn(t,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 13:Sn(t,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fc=gt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 22:f=e.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,q=Yi,Q=It;if(Yi=q||f,It=Q||D,Sn(t,e),It=Q,Yi=q,Tn(e),l&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(r===null||D||Yi||It||La(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){D=r=t;try{if(g=D.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{j=D.stateNode;var ne=D.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;j.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(fe){lt(D,D.return,fe)}}}else if(t.tag===6){if(r===null){D=t;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){lt(D,D.return,fe)}}}else if(t.tag===18){if(r===null){D=t;try{var J=D.stateNode;f?Lg(J,!0):Lg(D.stateNode,!1)}catch(fe){lt(D,D.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,dc(e,r))));break;case 19:Sn(t,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,dc(e,l)));break;case 30:break;case 21:break;default:Sn(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(zp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var f=r.stateNode,g=Ed(e);uc(e,g,f);break;case 5:var w=r.stateNode;r.flags&32&&(Hn(w,""),r.flags&=-33);var j=Ed(e);uc(e,j,w);break;case 3:case 4:var D=r.stateNode.containerInfo,q=Ed(e);Cd(e,q,D);break;default:throw Error(s(161))}}catch(Q){lt(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$p(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Dp(e,t.alternate,t),t=t.sibling}function La(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Or(4,t,t.return),La(t);break;case 1:Oi(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Lp(t,t.return,r),La(t);break;case 27:$o(t.stateNode);case 26:case 5:Oi(t,t.return),La(t);break;case 22:t.memoizedState===null&&La(t);break;case 30:La(t);break;default:La(t)}e=e.sibling}}function Ji(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,f=e,g=t,w=g.flags;switch(g.tag){case 0:case 11:case 15:Ji(f,g,r),ko(4,g);break;case 1:if(Ji(f,g,r),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){lt(l,l.return,q)}if(l=g,f=l.updateQueue,f!==null){var j=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)_f(D[f],j)}catch(q){lt(l,l.return,q)}}r&&w&64&&Rp(g),zo(g,g.return);break;case 27:Mp(g);case 26:case 5:Ji(f,g,r),r&&l===null&&w&4&&kp(g),zo(g,g.return);break;case 12:Ji(f,g,r);break;case 31:Ji(f,g,r),r&&w&4&&Up(f,g);break;case 13:Ji(f,g,r),r&&w&4&&Ip(f,g);break;case 22:g.memoizedState===null&&Ji(f,g,r),zo(g,g.return);break;case 30:break;default:Ji(f,g,r)}t=t.sibling}}function Ad(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&_o(r))}function Od(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_o(e))}function di(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qp(e,t,r,l),t=t.sibling}function qp(e,t,r,l){var f=t.flags;switch(t.tag){case 0:case 11:case 15:di(e,t,r,l),f&2048&&ko(9,t);break;case 1:di(e,t,r,l);break;case 3:di(e,t,r,l),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_o(e)));break;case 12:if(f&2048){di(e,t,r,l),e=t.stateNode;try{var g=t.memoizedProps,w=g.id,j=g.onPostCommit;typeof j=="function"&&j(w,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){lt(t,t.return,D)}}else di(e,t,r,l);break;case 31:di(e,t,r,l);break;case 13:di(e,t,r,l);break;case 23:break;case 22:g=t.stateNode,w=t.alternate,t.memoizedState!==null?g._visibility&2?di(e,t,r,l):Mo(e,t):g._visibility&2?di(e,t,r,l):(g._visibility|=2,ys(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),f&2048&&Ad(w,t);break;case 24:di(e,t,r,l),f&2048&&Od(t.alternate,t);break;default:di(e,t,r,l)}}function ys(e,t,r,l,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var g=e,w=t,j=r,D=l,q=w.flags;switch(w.tag){case 0:case 11:case 15:ys(g,w,j,D,f),ko(8,w);break;case 23:break;case 22:var Q=w.stateNode;w.memoizedState!==null?Q._visibility&2?ys(g,w,j,D,f):Mo(g,w):(Q._visibility|=2,ys(g,w,j,D,f)),f&&q&2048&&Ad(w.alternate,w);break;case 24:ys(g,w,j,D,f),f&&q&2048&&Od(w.alternate,w);break;default:ys(g,w,j,D,f)}t=t.sibling}}function Mo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,f=l.flags;switch(l.tag){case 22:Mo(r,l),f&2048&&Ad(l.alternate,l);break;case 24:Mo(r,l),f&2048&&Od(l.alternate,l);break;default:Mo(r,l)}t=t.sibling}}var Po=8192;function vs(e,t,r){if(e.subtreeFlags&Po)for(e=e.child;e!==null;)Zp(e,t,r),e=e.sibling}function Zp(e,t,r){switch(e.tag){case 26:vs(e,t,r),e.flags&Po&&e.memoizedState!==null&&S_(r,ui,e.memoizedState,e.memoizedProps);break;case 5:vs(e,t,r);break;case 3:case 4:var l=ui;ui=Ec(e.stateNode.containerInfo),vs(e,t,r),ui=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Po,Po=16777216,vs(e,t,r),Po=l):vs(e,t,r));break;default:vs(e,t,r)}}function Vp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Do(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];Jt=l,Wp(l,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 0:case 11:case 15:Do(e),e.flags&2048&&Or(9,e,e.return);break;case 3:Do(e);break;case 12:Do(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hc(e)):Do(e);break;default:Do(e)}}function hc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];Jt=l,Wp(l,e)}Vp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Or(8,t,t.return),hc(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,hc(t));break;default:hc(t)}e=e.sibling}}function Wp(e,t){for(;Jt!==null;){var r=Jt;switch(r.tag){case 0:case 11:case 15:Or(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_o(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Jt=l;else e:for(r=e;Jt!==null;){l=Jt;var f=l.sibling,g=l.return;if(Np(l),l===r){Jt=null;break e}if(f!==null){f.return=g,Jt=f;break e}Jt=g}}}var Bv={getCacheForType:function(e){var t=tn(Nt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return tn(Nt).controller.signal}},Uv=typeof WeakMap=="function"?WeakMap:Map,nt=0,yt=null,$e=null,Ge=0,ot=0,Pn=null,Rr=!1,_s=!1,Rd=!1,Qi=0,kt=0,Lr=0,ka=0,Ld=0,Dn=0,xs=0,No=null,En=null,kd=!1,fc=0,Kp=0,pc=1/0,gc=null,kr=null,Gt=0,zr=null,bs=null,er=0,zd=0,Md=null,Yp=null,Bo=0,Pd=null;function Nn(){return(nt&2)!==0&&Ge!==0?Ge&-Ge:Z.T!==null?Hd():Ws()}function Fp(){if(Dn===0)if((Ge&536870912)===0||He){var e=Yr;Yr<<=1,(Yr&3932160)===0&&(Yr=262144),Dn=e}else Dn=536870912;return e=zn.current,e!==null&&(e.flags|=32),Dn}function Cn(e,t,r){(e===yt&&(ot===2||ot===9)||e.cancelPendingCommit!==null)&&(ws(e,0),Mr(e,Ge,Dn,!1)),zi(e,r),((nt&2)===0||e!==yt)&&(e===yt&&((nt&2)===0&&(ka|=r),kt===4&&Mr(e,Ge,Dn,!1)),Ri(e))}function Xp(e,t,r){if((nt&6)!==0)throw Error(s(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Xr(e,t),f=l?$v(e,t):Nd(e,t,!0),g=l;do{if(f===0){_s&&!l&&Mr(e,t,0,!1);break}else{if(r=e.current.alternate,g&&!Iv(r)){f=Nd(e,t,!1),g=!1;continue}if(f===2){if(g=t,e.errorRecoveryDisabledLanes&g)var w=0;else w=e.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){t=w;e:{var j=e;f=No;var D=j.current.memoizedState.isDehydrated;if(D&&(ws(j,w).flags|=256),w=Nd(j,w,!1),w!==2){if(Rd&&!D){j.errorRecoveryDisabledLanes|=g,ka|=g,f=4;break e}g=En,En=f,g!==null&&(En===null?En=g:En.push.apply(En,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){ws(e,0),Mr(e,t,0,!0);break}e:{switch(l=e,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Mr(l,t,Dn,!Rr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(f=fc+300-gt(),10<f)){if(Mr(l,t,Dn,!Rr),$a(l,0,!0)!==0)break e;er=t,l.timeoutHandle=Ag(Jp.bind(null,l,r,En,gc,kd,t,Dn,ka,xs,Rr,g,"Throttled",-0,0),f);break e}Jp(l,r,En,gc,kd,t,Dn,ka,xs,Rr,g,null,-0,0)}}break}while(!0);Ri(e)}function Jp(e,t,r,l,f,g,w,j,D,q,Q,ne,W,J){if(e.timeoutHandle=-1,ne=t.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Zp(t,g,ne);var fe=(g&62914560)===g?fc-gt():(g&4194048)===g?Kp-gt():0;if(fe=T_(ne,fe),fe!==null){er=g,e.cancelPendingCommit=fe(sg.bind(null,e,t,g,r,l,f,w,j,D,Q,ne,null,W,J)),Mr(e,g,w,!q);return}}sg(e,t,g,r,l,f,w,j,D)}function Iv(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var f=r[l],g=f.getSnapshot;f=f.value;try{if(!Ft(g(),f))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t,r,l){t&=~Ld,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var f=t;0<f;){var g=31-un(f),w=1<<g;l[g]=-1,f&=~w}r!==0&&pl(e,r,t)}function mc(){return(nt&6)===0?(Uo(0),!1):!0}function Dd(){if($e!==null){if(ot===0)var e=$e.return;else e=$e,ci=Ai=null,Ju(e),hs=null,bo=0,e=$e;for(;e!==null;)Op(e.alternate,e),e=e.return;$e=null}}function ws(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,s_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),er=0,Dd(),yt=e,$e=r=Kn(e.current,null),Ge=t,ot=0,Pn=null,Rr=!1,_s=Xr(e,t),Rd=!1,xs=Dn=Ld=ka=Lr=kt=0,En=No=null,kd=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var f=31-un(l),g=1<<f;t|=e[f],l&=~g}return Qi=t,_a(),r}function Qp(e,t){Pe=null,Z.H=Oo,t===ds||t===Vl?(t=gf(),ot=3):t===Iu?(t=gf(),ot=4):ot=t===pd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pn=t,$e===null&&(kt=1,ac(e,o(t,e.current)))}function eg(){var e=zn.current;return e===null?!0:(Ge&4194048)===Ge?Yn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Yn:!1}function tg(){var e=Z.H;return Z.H=Oo,e===null?Oo:e}function ng(){var e=Z.A;return Z.A=Bv,e}function yc(){kt=4,Rr||(Ge&4194048)!==Ge&&zn.current!==null||(_s=!0),(Lr&134217727)===0&&(ka&134217727)===0||yt===null||Mr(yt,Ge,Dn,!1)}function Nd(e,t,r){var l=nt;nt|=2;var f=tg(),g=ng();(yt!==e||Ge!==t)&&(gc=null,ws(e,t)),t=!1;var w=kt;e:do try{if(ot!==0&&$e!==null){var j=$e,D=Pn;switch(ot){case 8:Dd(),w=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(t=!0);var q=ot;if(ot=0,Pn=null,Ss(e,j,D,q),r&&_s){w=0;break e}break;default:q=ot,ot=0,Pn=null,Ss(e,j,D,q)}}Hv(),w=kt;break}catch(Q){Qp(e,Q)}while(!0);return t&&e.shellSuspendCounter++,ci=Ai=null,nt=l,Z.H=f,Z.A=g,$e===null&&(yt=null,Ge=0,_a()),w}function Hv(){for(;$e!==null;)ig($e)}function $v(e,t){var r=nt;nt|=2;var l=tg(),f=ng();yt!==e||Ge!==t?(gc=null,pc=gt()+500,ws(e,t)):_s=Xr(e,t);e:do try{if(ot!==0&&$e!==null){t=$e;var g=Pn;t:switch(ot){case 1:ot=0,Pn=null,Ss(e,t,g,1);break;case 2:case 9:if(ff(g)){ot=0,Pn=null,rg(t);break}t=function(){ot!==2&&ot!==9||yt!==e||(ot=7),Ri(e)},g.then(t,t);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:ff(g)?(ot=0,Pn=null,rg(t)):(ot=0,Pn=null,Ss(e,t,g,7));break;case 5:var w=null;switch($e.tag){case 26:w=$e.memoizedState;case 5:case 27:var j=$e;if(w?qg(w):j.stateNode.complete){ot=0,Pn=null;var D=j.sibling;if(D!==null)$e=D;else{var q=j.return;q!==null?($e=q,vc(q)):$e=null}break t}}ot=0,Pn=null,Ss(e,t,g,5);break;case 6:ot=0,Pn=null,Ss(e,t,g,6);break;case 8:Dd(),kt=6;break e;default:throw Error(s(462))}}qv();break}catch(Q){Qp(e,Q)}while(!0);return ci=Ai=null,Z.H=l,Z.A=f,nt=r,$e!==null?0:(yt=null,Ge=0,_a(),kt)}function qv(){for(;$e!==null&&!Ze();)ig($e)}function ig(e){var t=jp(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,t===null?vc(e):$e=t}function rg(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=bp(r,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=bp(r,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:Ju(t);default:Op(r,t),t=$e=po(t,Qi),t=jp(r,t,Qi)}e.memoizedProps=e.pendingProps,t===null?vc(e):$e=t}function Ss(e,t,r,l){ci=Ai=null,Ju(t),hs=null,bo=0;var f=t.return;try{if(Lv(e,f,t,r,Ge)){kt=1,ac(e,o(r,e.current)),$e=null;return}}catch(g){if(f!==null)throw $e=f,g;kt=1,ac(e,o(r,e.current)),$e=null;return}t.flags&32768?(He||l===1?e=!0:_s||(Ge&536870912)!==0?e=!1:(Rr=e=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ag(t,e)):vc(t)}function vc(e){var t=e;do{if((t.flags&32768)!==0){ag(t,Rr);return}e=t.return;var r=Mv(t.alternate,t,Qi);if(r!==null){$e=r;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);kt===0&&(kt=5)}function ag(e,t){do{var r=Pv(e.alternate,e);if(r!==null){r.flags&=32767,$e=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){$e=e;return}$e=e=r}while(e!==null);kt=6,$e=null}function sg(e,t,r,l,f,g,w,j,D){e.cancelPendingCommit=null;do _c();while(Gt!==0);if((nt&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(g=t.lanes|t.childLanes,g|=rs,_u(e,r,g,w,j,D),e===yt&&($e=yt=null,Ge=0),bs=t,zr=e,er=r,zd=g,Md=f,Yp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wv(ei,function(){return dg(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=se.p,se.p=2,w=nt,nt|=4;try{Dv(e,t,r)}finally{nt=w,se.p=f,Z.T=l}}Gt=1,og(),lg(),cg()}}function og(){if(Gt===1){Gt=0;var e=zr,t=bs,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=Z.T,Z.T=null;var l=se.p;se.p=2;var f=nt;nt|=4;try{Hp(t,e);var g=Yd,w=pa(e.containerInfo),j=g.focusedElem,D=g.selectionRange;if(w!==j&&j&&j.ownerDocument&&es(j.ownerDocument.documentElement,j)){if(D!==null&&bi(j)){var q=D.start,Q=D.end;if(Q===void 0&&(Q=q),"selectionStart"in j)j.selectionStart=q,j.selectionEnd=Math.min(Q,j.value.length);else{var ne=j.ownerDocument||document,W=ne&&ne.defaultView||window;if(W.getSelection){var J=W.getSelection(),fe=j.textContent.length,Se=Math.min(D.start,fe),ft=D.end===void 0?Se:Math.min(D.end,fe);!J.extend&&Se>ft&&(w=ft,ft=Se,Se=w);var U=fa(j,Se),B=fa(j,ft);if(U&&B&&(J.rangeCount!==1||J.anchorNode!==U.node||J.anchorOffset!==U.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var $=ne.createRange();$.setStart(U.node,U.offset),J.removeAllRanges(),Se>ft?(J.addRange($),J.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),J.addRange($))}}}}for(ne=[],J=j;J=J.parentNode;)J.nodeType===1&&ne.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<ne.length;j++){var ee=ne[j];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Lc=!!Kd,Yd=Kd=null}finally{nt=f,se.p=l,Z.T=r}}e.current=t,Gt=2}}function lg(){if(Gt===2){Gt=0;var e=zr,t=bs,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=Z.T,Z.T=null;var l=se.p;se.p=2;var f=nt;nt|=4;try{Dp(e,t.alternate,t)}finally{nt=f,se.p=l,Z.T=r}}Gt=3}}function cg(){if(Gt===4||Gt===3){Gt=0,Ye();var e=zr,t=bs,r=er,l=Yp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Gt=5:(Gt=0,bs=zr=null,ug(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(kr=null),ye(r),t=t.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(rr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=Z.T,f=se.p,se.p=2,Z.T=null;try{for(var g=e.onRecoverableError,w=0;w<l.length;w++){var j=l[w];g(j.value,{componentStack:j.stack})}}finally{Z.T=t,se.p=f}}(er&3)!==0&&_c(),Ri(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===Pd?Bo++:(Bo=0,Pd=e):Bo=0,Uo(0)}}function ug(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_o(t)))}function _c(){return og(),lg(),cg(),dg()}function dg(){if(Gt!==5)return!1;var e=zr,t=zd;zd=0;var r=ye(er),l=Z.T,f=se.p;try{se.p=32>r?32:r,Z.T=null,r=Md,Md=null;var g=zr,w=er;if(Gt=0,bs=zr=null,er=0,(nt&6)!==0)throw Error(s(331));var j=nt;if(nt|=4,Gp(g.current),qp(g,g.current,w,r),nt=j,Uo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(rr,g)}catch{}return!0}finally{se.p=f,Z.T=l,ug(e,t)}}function hg(e,t,r){t=o(r,t),t=fd(e.stateNode,t,2),e=Cr(e,t,2),e!==null&&(zi(e,2),Ri(e))}function lt(e,t,r){if(e.tag===3)hg(e,e,r);else for(;t!==null;){if(t.tag===3){hg(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){e=o(r,e),r=fp(2),l=Cr(t,r,2),l!==null&&(pp(r,l,t,e),zi(l,2),Ri(l));break}}t=t.return}}function Bd(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Uv;var f=new Set;l.set(t,f)}else f=l.get(t),f===void 0&&(f=new Set,l.set(t,f));f.has(r)||(Rd=!0,f.add(r),e=Zv.bind(null,e,t,r),t.then(e,e))}function Zv(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,yt===e&&(Ge&r)===r&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>gt()-fc?(nt&2)===0&&ws(e,0):Ld|=r,xs===Ge&&(xs=0)),Ri(e)}function fg(e,t){t===0&&(t=fl()),e=Wn(e,t),e!==null&&(zi(e,t),Ri(e))}function Vv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fg(e,r)}function Gv(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),fg(e,r)}function Wv(e,t){return pe(e,t)}var xc=null,Ts=null,Ud=!1,bc=!1,Id=!1,Pr=0;function Ri(e){e!==Ts&&e.next===null&&(Ts===null?xc=Ts=e:Ts=Ts.next=e),bc=!0,Ud||(Ud=!0,Yv())}function Uo(e,t){if(!Id&&bc){Id=!0;do for(var r=!1,l=xc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var w=l.suspendedLanes,j=l.pingedLanes;g=(1<<31-un(42|e)+1)-1,g&=f&~(w&~j),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,yg(l,g))}else g=Ge,g=$a(l,l===yt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Xr(l,g)||(r=!0,yg(l,g));l=l.next}while(r);Id=!1}}function Kv(){pg()}function pg(){bc=Ud=!1;var e=0;Pr!==0&&a_()&&(e=Pr);for(var t=gt(),r=null,l=xc;l!==null;){var f=l.next,g=gg(l,t);g===0?(l.next=null,r===null?xc=f:r.next=f,f===null&&(Ts=r)):(r=l,(e!==0||(g&3)!==0)&&(bc=!0)),l=f}Gt!==0&&Gt!==5||Uo(e),Pr!==0&&(Pr=0)}function gg(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var w=31-un(g),j=1<<w,D=f[w];D===-1?((j&r)===0||(j&l)!==0)&&(f[w]=vu(j,t)):D<=t&&(e.expiredLanes|=j),g&=~j}if(t=yt,r=Ge,r=$a(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(ot===2||ot===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&be(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Xr(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&be(l),ye(r)){case 2:case 8:r=pn;break;case 32:r=ei;break;case 268435456:r=Vs;break;default:r=ei}return l=mg.bind(null,e),r=pe(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&be(l),e.callbackPriority=2,e.callbackNode=null,2}function mg(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(_c()&&e.callbackNode!==r)return null;var l=Ge;return l=$a(e,e===yt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Xp(e,l,t),gg(e,gt()),e.callbackNode!=null&&e.callbackNode===r?mg.bind(null,e):null)}function yg(e,t){if(_c())return null;Xp(e,t,!0)}function Yv(){o_(function(){(nt&6)!==0?pe(At,Kv):pg()})}function Hd(){if(Pr===0){var e=cs;e===0&&(e=Kr,Kr<<=1,(Kr&261888)===0&&(Kr=256)),Pr=e}return Pr}function vg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ur(""+e)}function _g(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function Fv(e,t,r,l,f){if(t==="submit"&&r&&r.stateNode===f){var g=vg((f[Yt]||null).action),w=l.submitter;w&&(t=(t=w[Yt]||null)?vg(t.formAction):w.getAttribute("formAction"),t!==null&&(g=t,w=null));var j=new Wa("action","action",null,l,f);e.push({event:j,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pr!==0){var D=w?_g(f,w):new FormData(f);od(r,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(j.preventDefault(),D=w?_g(f,w):new FormData(f),od(r,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var $d=0;$d<Ti.length;$d++){var qd=Ti[$d],Xv=qd.toLowerCase(),Jv=qd[0].toUpperCase()+qd.slice(1);_n(Xv,"on"+Jv)}_n(ma,"onAnimationEnd"),_n(Ul,"onAnimationIteration"),_n(ya,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(ku,"onTransitionRun"),_n(Il,"onTransitionStart"),_n(zu,"onTransitionCancel"),_n(br,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function xg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],f=l.event;l=l.listeners;e:{var g=void 0;if(t)for(var w=l.length-1;0<=w;w--){var j=l[w],D=j.instance,q=j.currentTarget;if(j=j.listener,D!==g&&f.isPropagationStopped())break e;g=j,f.currentTarget=q;try{g(f)}catch(Q){va(Q)}f.currentTarget=null,g=D}else for(w=0;w<l.length;w++){if(j=l[w],D=j.instance,q=j.currentTarget,j=j.listener,D!==g&&f.isPropagationStopped())break e;g=j,f.currentTarget=q;try{g(f)}catch(Q){va(Q)}f.currentTarget=null,g=D}}}}function qe(e,t){var r=t[gi];r===void 0&&(r=t[gi]=new Set);var l=e+"__bubble";r.has(l)||(bg(t,e,2,!1),r.add(l))}function Zd(e,t,r){var l=0;t&&(l|=4),bg(r,e,l,t)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Vd(e){if(!e[wc]){e[wc]=!0,_l.forEach(function(r){r!=="selectionchange"&&(Qv.has(r)||Zd(r,!1,e),Zd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wc]||(t[wc]=!0,Zd("selectionchange",!1,t))}}function bg(e,t,r,l){switch(Fg(t)){case 2:var f=j_;break;case 8:f=A_;break;default:f=sh}r=f.bind(null,t,r,e),f=void 0,!ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(t,r,{capture:!0,passive:f}):e.addEventListener(t,r,!0):f!==void 0?e.addEventListener(t,r,{passive:f}):e.addEventListener(t,r,!1)}function Gd(e,t,r,l,f){var g=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var j=l.stateNode.containerInfo;if(j===f)break;if(w===4)for(w=l.return;w!==null;){var D=w.tag;if((D===3||D===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;j!==null;){if(w=Pi(j),w===null)return;if(D=w.tag,D===5||D===6||D===26||D===27){l=g=w;continue e}j=j.parentNode}}l=l.return}no(function(){var q=g,Q=ia(r),ne=[];e:{var W=Hl.get(e);if(W!==void 0){var J=Wa,fe=e;switch(e){case"keypress":if(aa(r)===0)break e;case"keydown":case"keyup":J=jl;break;case"focusin":fe="focus",J=ao;break;case"focusout":fe="blur",J=ao;break;case"beforeblur":case"afterblur":J=ao;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Cu;break;case ma:case Ul:case ya:J=so;break;case br:J=Rl;break;case"scroll":case"scrollend":J=Ve;break;case"wheel":J=Ii;break;case"copy":case"cut":case"paste":J=qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Al;break;case"toggle":case"beforetoggle":J=la}var Se=(t&4)!==0,ft=!Se&&(e==="scroll"||e==="scrollend"),U=Se?W!==null?W+"Capture":null:W;Se=[];for(var B=q,$;B!==null;){var ee=B;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||U===null||(ee=Bi(B,U),ee!=null&&Se.push(Ho(B,ee,$))),ft)break;B=B.return}0<Se.length&&(W=new J(W,fe,null,r,Q),ne.push({event:W,listeners:Se}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",W&&r!==Ga&&(fe=r.relatedTarget||r.fromElement)&&(Pi(fe)||fe[Mi]))break e;if((J||W)&&(W=Q.window===Q?Q:(W=Q.ownerDocument)?W.defaultView||W.parentWindow:window,J?(fe=r.relatedTarget||r.toElement,J=q,fe=fe?Pi(fe):null,fe!==null&&(ft=d(fe),Se=fe.tag,fe!==ft||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(J=null,fe=q),J!==fe)){if(Se=wl,ee="onMouseLeave",U="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Al,ee="onPointerLeave",U="onPointerEnter",B="pointer"),ft=J==null?W:mi(J),$=fe==null?W:mi(fe),W=new Se(ee,B+"leave",J,r,Q),W.target=ft,W.relatedTarget=$,ee=null,Pi(Q)===q&&(Se=new Se(U,B+"enter",fe,r,Q),Se.target=$,Se.relatedTarget=ft,ee=Se),ft=ee,J&&fe)t:{for(Se=e_,U=J,B=fe,$=0,ee=U;ee;ee=Se(ee))$++;ee=0;for(var xe=B;xe;xe=Se(xe))ee++;for(;0<$-ee;)U=Se(U),$--;for(;0<ee-$;)B=Se(B),ee--;for(;$--;){if(U===B||B!==null&&U===B.alternate){Se=U;break t}U=Se(U),B=Se(B)}Se=null}else Se=null;J!==null&&wg(ne,W,J,Se,!1),fe!==null&&ft!==null&&wg(ne,ft,fe,Se,!0)}}e:{if(W=q?mi(q):window,J=W.nodeName&&W.nodeName.toLowerCase(),J==="select"||J==="input"&&W.type==="file")var et=ha;else if(Zn(W))if(Ml)et=Lu;else{et=Ru;var ge=si}else J=W.nodeName,!J||J.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&na(q.elementType)&&(et=ha):et=yr;if(et&&(et=et(e,q))){zl(ne,et,r,Q);break e}ge&&ge(e,W,q),e==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&ii(W,"number",W.value)}switch(ge=q?mi(q):window,e){case"focusin":(Zn(ge)||ge.contentEditable==="true")&&(wi=ge,ns=q,ga=null);break;case"focusout":ga=ns=wi=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Nl(ne,r,Q);break;case"selectionchange":if(ts)break;case"keydown":case"keyup":Nl(ne,r,Q)}var Ne;if(Ya)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else pr?kl(e,r)&&(We="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(We="onCompositionStart");We&&(Fa&&r.locale!=="ko"&&(pr||We!=="onCompositionStart"?We==="onCompositionEnd"&&pr&&(Ne=_i()):($n=Q,Ui="value"in $n?$n.value:$n.textContent,pr=!0)),ge=Sc(q,We),0<ge.length&&(We=new oo(We,e,null,r,Q),ne.push({event:We,listeners:ge}),Ne?We.data=Ne:(Ne=ho(r),Ne!==null&&(We.data=Ne)))),(Ne=Au?kn(e,r):gr(e,r))&&(We=Sc(q,"onBeforeInput"),0<We.length&&(ge=new oo("onBeforeInput","beforeinput",null,r,Q),ne.push({event:ge,listeners:We}),ge.data=Ne)),Fv(ne,e,q,r,Q)}xg(ne,t)})}function Ho(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sc(e,t){for(var r=t+"Capture",l=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Bi(e,r),f!=null&&l.unshift(Ho(e,f,g)),f=Bi(e,t),f!=null&&l.push(Ho(e,f,g))),e.tag===3)return l;e=e.return}return[]}function e_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wg(e,t,r,l,f){for(var g=t._reactName,w=[];r!==null&&r!==l;){var j=r,D=j.alternate,q=j.stateNode;if(j=j.tag,D!==null&&D===l)break;j!==5&&j!==26&&j!==27||q===null||(D=q,f?(q=Bi(r,g),q!=null&&w.unshift(Ho(r,q,D))):f||(q=Bi(r,g),q!=null&&w.push(Ho(r,q,D)))),r=r.return}w.length!==0&&e.push({event:t,listeners:w})}var t_=/\r\n?/g,n_=/\u0000|\uFFFD/g;function Sg(e){return(typeof e=="string"?e:""+e).replace(t_,`
`).replace(n_,"")}function Tg(e,t){return t=Sg(t),Sg(e)===t}function ht(e,t,r,l,f,g){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Hn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Hn(e,""+l);break;case"className":ut(e,"class",l);break;case"tabIndex":ut(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,r,l);break;case"style":Za(e,l,g);break;case"data":if(t!=="object"){ut(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ur(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(t!=="input"&&ht(e,t,"name",f.name,f,null),ht(e,t,"formEncType",f.formEncType,f,null),ht(e,t,"formMethod",f.formMethod,f,null),ht(e,t,"formTarget",f.formTarget,f,null)):(ht(e,t,"encType",f.encType,f,null),ht(e,t,"method",f.method,f,null),ht(e,t,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ur(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=yn);break;case"onScroll":l!=null&&qe("scroll",e);break;case"onScrollEnd":l!=null&&qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ur(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":qe("beforetoggle",e),qe("toggle",e),Ie(e,"popover",l);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ie(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Va.get(r)||r,Ie(e,r,l))}}function Wd(e,t,r,l,f,g){switch(r){case"style":Za(e,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Hn(e,l):(typeof l=="number"||typeof l=="bigint")&&Hn(e,""+l);break;case"onScroll":l!=null&&qe("scroll",e);break;case"onScrollEnd":l!=null&&qe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),t=r.slice(2,f?r.length-7:void 0),g=e[Yt]||null,g=g!=null?g[r]:null,typeof g=="function"&&e.removeEventListener(t,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,f);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Ie(e,r,l)}}}function rn(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",e),qe("load",e);var l=!1,f=!1,g;for(g in r)if(r.hasOwnProperty(g)){var w=r[g];if(w!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ht(e,t,g,w,r,null)}}f&&ht(e,t,"srcSet",r.srcSet,r,null),l&&ht(e,t,"src",r.src,r,null);return;case"input":qe("invalid",e);var j=g=w=f=null,D=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":w=Q;break;case"checked":D=Q;break;case"defaultChecked":q=Q;break;case"value":g=Q;break;case"defaultValue":j=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,t));break;default:ht(e,t,l,Q,r,null)}}ta(e,g,j,D,q,w,f,!1);return;case"select":qe("invalid",e),l=w=g=null;for(f in r)if(r.hasOwnProperty(f)&&(j=r[f],j!=null))switch(f){case"value":g=j;break;case"defaultValue":w=j;break;case"multiple":l=j;default:ht(e,t,f,j,r,null)}t=g,r=w,e.multiple=!!l,t!=null?mt(e,!!l,t,!1):r!=null&&mt(e,!!l,r,!0);return;case"textarea":qe("invalid",e),g=f=l=null;for(w in r)if(r.hasOwnProperty(w)&&(j=r[w],j!=null))switch(w){case"value":l=j;break;case"defaultValue":f=j;break;case"children":g=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:ht(e,t,w,j,r,null)}lr(e,l,f,g);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ht(e,t,D,l,r,null)}return;case"dialog":qe("beforetoggle",e),qe("toggle",e),qe("cancel",e),qe("close",e);break;case"iframe":case"object":qe("load",e);break;case"video":case"audio":for(l=0;l<Io.length;l++)qe(Io[l],e);break;case"image":qe("error",e),qe("load",e);break;case"details":qe("toggle",e);break;case"embed":case"source":case"link":qe("error",e),qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ht(e,t,q,l,r,null)}return;default:if(na(t)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Wd(e,t,Q,l,r,void 0));return}}for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!=null&&ht(e,t,j,l,r,null))}function i_(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,j=null,D=null,q=null,Q=null;for(J in r){var ne=r[J];if(r.hasOwnProperty(J)&&ne!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":D=ne;default:l.hasOwnProperty(J)||ht(e,t,J,null,l,ne)}}for(var W in l){var J=l[W];if(ne=r[W],l.hasOwnProperty(W)&&(J!=null||ne!=null))switch(W){case"type":g=J;break;case"name":f=J;break;case"checked":q=J;break;case"defaultChecked":Q=J;break;case"value":w=J;break;case"defaultValue":j=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,t));break;default:J!==ne&&ht(e,t,W,J,l,ne)}}Qs(e,w,j,D,q,Q,g,f);return;case"select":J=w=j=W=null;for(g in r)if(D=r[g],r.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":J=D;default:l.hasOwnProperty(g)||ht(e,t,g,null,l,D)}for(f in l)if(g=l[f],D=r[f],l.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":W=g;break;case"defaultValue":j=g;break;case"multiple":w=g;default:g!==D&&ht(e,t,f,g,l,D)}t=j,r=w,l=J,W!=null?mt(e,!!r,W,!1):!!l!=!!r&&(t!=null?mt(e,!!r,t,!0):mt(e,!!r,r?[]:"",!1));return;case"textarea":J=W=null;for(j in r)if(f=r[j],r.hasOwnProperty(j)&&f!=null&&!l.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ht(e,t,j,null,l,f)}for(w in l)if(f=l[w],g=r[w],l.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":W=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&ht(e,t,w,f,l,g)}vi(e,W,J);return;case"option":for(var fe in r)if(W=r[fe],r.hasOwnProperty(fe)&&W!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:ht(e,t,fe,null,l,W)}for(D in l)if(W=l[D],J=r[D],l.hasOwnProperty(D)&&W!==J&&(W!=null||J!=null))switch(D){case"selected":e.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ht(e,t,D,W,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)W=r[Se],r.hasOwnProperty(Se)&&W!=null&&!l.hasOwnProperty(Se)&&ht(e,t,Se,null,l,W);for(q in l)if(W=l[q],J=r[q],l.hasOwnProperty(q)&&W!==J&&(W!=null||J!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,t));break;default:ht(e,t,q,W,l,J)}return;default:if(na(t)){for(var ft in r)W=r[ft],r.hasOwnProperty(ft)&&W!==void 0&&!l.hasOwnProperty(ft)&&Wd(e,t,ft,void 0,l,W);for(Q in l)W=l[Q],J=r[Q],!l.hasOwnProperty(Q)||W===J||W===void 0&&J===void 0||Wd(e,t,Q,W,l,J);return}}for(var U in r)W=r[U],r.hasOwnProperty(U)&&W!=null&&!l.hasOwnProperty(U)&&ht(e,t,U,null,l,W);for(ne in l)W=l[ne],J=r[ne],!l.hasOwnProperty(ne)||W===J||W==null&&J==null||ht(e,t,ne,W,l,J)}function Eg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var f=r[l],g=f.transferSize,w=f.initiatorType,j=f.duration;if(g&&j&&Eg(w)){for(w=0,j=f.responseEnd,l+=1;l<r.length;l++){var D=r[l],q=D.startTime;if(q>j)break;var Q=D.transferSize,ne=D.initiatorType;Q&&Eg(ne)&&(D=D.responseEnd,w+=Q*(D<j?1:(j-q)/(D-q)))}if(--l,t+=8*(g+w)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kd=null,Yd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function Cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xd=null;function a_(){var e=window.event;return e&&e.type==="popstate"?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var Ag=typeof setTimeout=="function"?setTimeout:void 0,s_=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(l_)}:Ag;function l_(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Rg(e,t){var r=t,l=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(f),As(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")$o(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,$o(r);for(var g=r.firstChild;g;){var w=g.nextSibling,j=g.nodeName;g[Jr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=w}}else r==="body"&&$o(e.ownerDocument.body);r=f}while(r);As(t)}function Lg(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Jd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jd(r),Ys(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function c_(e,t,r,l){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Jr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function u_(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Fn(e.nextSibling),e===null))return null;return e}function kg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Fn(e.nextSibling),e===null))return null;return e}function Qd(e){return e.data==="$?"||e.data==="$~"}function eh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function d_(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var th=null;function zg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Fn(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function Pg(e,t,r){switch(t=Tc(r),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function $o(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ys(e)}var Xn=new Map,Dg=new Set;function Ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var tr=se.d;se.d={f:h_,r:f_,D:p_,C:g_,L:m_,m:y_,X:__,S:v_,M:x_};function h_(){var e=tr.f(),t=mc();return e||t}function f_(e){var t=ar(e);t!==null&&t.tag===5&&t.type==="form"?Qf(t):tr.r(e)}var Es=typeof document>"u"?null:document;function Ng(e,t,r){var l=Es;if(l&&typeof t=="string"&&t){var f=wt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Dg.has(f)||(Dg.add(f),e={rel:e,crossOrigin:r,href:t},l.querySelector(f)===null&&(t=l.createElement("link"),rn(t,"link",e),Dt(t),l.head.appendChild(t)))}}function p_(e){tr.D(e),Ng("dns-prefetch",e,null)}function g_(e,t){tr.C(e,t),Ng("preconnect",e,t)}function m_(e,t,r){tr.L(e,t,r);var l=Es;if(l&&e&&t){var f='link[rel="preload"][as="'+wt(t)+'"]';t==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+wt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+wt(r.imageSizes)+'"]')):f+='[href="'+wt(e)+'"]';var g=f;switch(t){case"style":g=Cs(e);break;case"script":g=js(e)}Xn.has(g)||(e=T({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Xn.set(g,e),l.querySelector(f)!==null||t==="style"&&l.querySelector(qo(g))||t==="script"&&l.querySelector(Zo(g))||(t=l.createElement("link"),rn(t,"link",e),Dt(t),l.head.appendChild(t)))}}function y_(e,t){tr.m(e,t);var r=Es;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(e)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=js(e)}if(!Xn.has(g)&&(e=T({rel:"modulepreload",href:e},t),Xn.set(g,e),r.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Zo(g)))return}l=r.createElement("link"),rn(l,"link",e),Dt(l),r.head.appendChild(l)}}}function v_(e,t,r){tr.S(e,t,r);var l=Es;if(l&&e){var f=sr(l).hoistableStyles,g=Cs(e);t=t||"default";var w=f.get(g);if(!w){var j={loading:0,preload:null};if(w=l.querySelector(qo(g)))j.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Xn.get(g))&&nh(e,r);var D=w=l.createElement("link");Dt(D),rn(D,"link",e),D._p=new Promise(function(q,Q){D.onload=q,D.onerror=Q}),D.addEventListener("load",function(){j.loading|=1}),D.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Cc(w,t,l)}w={type:"stylesheet",instance:w,count:1,state:j},f.set(g,w)}}}function __(e,t){tr.X(e,t);var r=Es;if(r&&e){var l=sr(r).hoistableScripts,f=js(e),g=l.get(f);g||(g=r.querySelector(Zo(f)),g||(e=T({src:e,async:!0},t),(t=Xn.get(f))&&ih(e,t),g=r.createElement("script"),Dt(g),rn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function x_(e,t){tr.M(e,t);var r=Es;if(r&&e){var l=sr(r).hoistableScripts,f=js(e),g=l.get(f);g||(g=r.querySelector(Zo(f)),g||(e=T({src:e,async:!0,type:"module"},t),(t=Xn.get(f))&&ih(e,t),g=r.createElement("script"),Dt(g),rn(g,"link",e),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function Bg(e,t,r,l){var f=(f=de.current)?Ec(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Cs(r.href),r=sr(f).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Cs(r.href);var g=sr(f).hoistableStyles,w=g.get(e);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,w),(g=f.querySelector(qo(e)))&&!g._p&&(w.instance=g,w.state.loading=5),Xn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xn.set(e,r),g||b_(f,e,r,w.state))),t&&l===null)throw Error(s(528,""));return w}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=js(r),r=sr(f).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cs(e){return'href="'+wt(e)+'"'}function qo(e){return'link[rel="stylesheet"]['+e+"]"}function Ug(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function b_(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),rn(t,"link",r),Dt(t),e.head.appendChild(t))}function js(e){return'[src="'+wt(e)+'"]'}function Zo(e){return"script[async]"+e}function Ig(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+wt(r.href)+'"]');if(l)return t.instance=l,Dt(l),l;var f=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Dt(l),rn(l,"style",f),Cc(l,r.precedence,e),t.instance=l;case"stylesheet":f=Cs(r.href);var g=e.querySelector(qo(f));if(g)return t.state.loading|=4,t.instance=g,Dt(g),g;l=Ug(r),(f=Xn.get(f))&&nh(l,f),g=(e.ownerDocument||e).createElement("link"),Dt(g);var w=g;return w._p=new Promise(function(j,D){w.onload=j,w.onerror=D}),rn(g,"link",l),t.state.loading|=4,Cc(g,r.precedence,e),t.instance=g;case"script":return g=js(r.src),(f=e.querySelector(Zo(g)))?(t.instance=f,Dt(f),f):(l=r,(f=Xn.get(g))&&(l=T({},r),ih(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Dt(f),rn(f,"link",l),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Cc(l,r.precedence,e));return t.instance}function Cc(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,w=0;w<l.length;w++){var j=l[w];if(j.dataset.precedence===t)g=j;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function nh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ih(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jc=null;function Hg(e,t,r){if(jc===null){var l=new Map,f=jc=new Map;f.set(r,l)}else f=jc,l=f.get(r),l||(l=new Map,f.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var g=r[f];if(!(g[Jr]||g[Pt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(t)||"";w=e+w;var j=l.get(w);j?j.push(g):l.set(w,[g])}}return l}function $g(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function w_(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function S_(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Cs(l.href),g=t.querySelector(qo(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ac.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=g,Dt(g);return}g=t.ownerDocument||t,l=Ug(l),(f=Xn.get(f))&&nh(l,f),g=g.createElement("link"),Dt(g);var w=g;w._p=new Promise(function(j,D){w.onload=j,w.onerror=D}),rn(g,"link",l),r.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ac.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var rh=0;function T_(e,t){return e.stylesheets&&e.count===0&&Rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+t);0<e.imgBytes&&rh===0&&(rh=62500*r_());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>rh?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Rc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,t.forEach(E_,e),Oc=null,Ac.call(e))}function E_(e,t){if(!(t.state.loading&4)){var r=Oc.get(e);if(r)var l=r.get(null);else{r=new Map,Oc.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),l=w)}l&&r.set(null,l)}f=t.instance,w=f.getAttribute("data-precedence"),g=r.get(w)||l,g===l&&r.set(null,f),r.set(w,f),this.count++,l=Ac.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var Vo={$$typeof:k,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function C_(e,t,r,l,f,g,w,j,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Zg(e,t,r,l,f,g,w,j,D,q,Q,ne){return e=new C_(e,t,r,w,D,q,Q,ne,j),t=1,g===!0&&(t|=24),g=sn(3,null,null,t),e.current=g,g.stateNode=e,t=Nu(),t.refCount++,e.pooledCache=t,t.refCount++,g.memoizedState={element:l,isDehydrated:r,cache:t},Hu(g),e}function Vg(e){return e?(e=Hi,e):Hi}function Gg(e,t,r,l,f,g){f=Vg(f),l.context===null?l.context=f:l.pendingContext=f,l=Er(t),l.payload={element:r},g=g===void 0?null:g,g!==null&&(l.callback=g),r=Cr(e,l,t),r!==null&&(Cn(r,e,t),So(r,e,t))}function Wg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ah(e,t){Wg(e,t),(e=e.alternate)&&Wg(e,t)}function Kg(e){if(e.tag===13||e.tag===31){var t=Wn(e,67108864);t!==null&&Cn(t,e,67108864),ah(e,67108864)}}function Yg(e){if(e.tag===13||e.tag===31){var t=Nn();t=gn(t);var r=Wn(e,t);r!==null&&Cn(r,e,t),ah(e,t)}}var Lc=!0;function j_(e,t,r,l){var f=Z.T;Z.T=null;var g=se.p;try{se.p=2,sh(e,t,r,l)}finally{se.p=g,Z.T=f}}function A_(e,t,r,l){var f=Z.T;Z.T=null;var g=se.p;try{se.p=8,sh(e,t,r,l)}finally{se.p=g,Z.T=f}}function sh(e,t,r,l){if(Lc){var f=oh(l);if(f===null)Gd(e,t,l,kc,r),Xg(e,l);else if(R_(f,e,t,r,l))l.stopPropagation();else if(Xg(e,l),t&4&&-1<O_.indexOf(e)){for(;f!==null;){var g=ar(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=ki(g.pendingLanes);if(w!==0){var j=g;for(j.pendingLanes|=2,j.entangledLanes|=2;w;){var D=1<<31-un(w);j.entanglements[1]|=D,w&=~D}Ri(g),(nt&6)===0&&(pc=gt()+500,Uo(0))}}break;case 31:case 13:j=Wn(g,2),j!==null&&Cn(j,g,2),mc(),ah(g,2)}if(g=oh(l),g===null&&Gd(e,t,l,kc,r),g===f)break;f=g}f!==null&&l.stopPropagation()}else Gd(e,t,l,null,r)}}function oh(e){return e=ia(e),lh(e)}var kc=null;function lh(e){if(kc=null,e=Pi(e),e!==null){var t=d(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=p(t),e!==null)return e;e=null}else if(r===31){if(e=v(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kc=e,null}function Fg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qn()){case At:return 2;case pn:return 8;case ei:case Zs:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var ch=!1,Nr=null,Br=null,Ur=null,Go=new Map,Wo=new Map,Ir=[],O_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xg(e,t){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(t.pointerId)}}function Ko(e,t,r,l,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},t!==null&&(t=ar(t),t!==null&&Kg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function R_(e,t,r,l,f){switch(t){case"focusin":return Nr=Ko(Nr,e,t,r,l,f),!0;case"dragenter":return Br=Ko(Br,e,t,r,l,f),!0;case"mouseover":return Ur=Ko(Ur,e,t,r,l,f),!0;case"pointerover":var g=f.pointerId;return Go.set(g,Ko(Go.get(g)||null,e,t,r,l,f)),!0;case"gotpointercapture":return g=f.pointerId,Wo.set(g,Ko(Wo.get(g)||null,e,t,r,l,f)),!0}return!1}function Jg(e){var t=Pi(e.target);if(t!==null){var r=d(t);if(r!==null){if(t=r.tag,t===13){if(t=p(r),t!==null){e.blockedOn=t,Ks(e.priority,function(){Yg(r)});return}}else if(t===31){if(t=v(r),t!==null){e.blockedOn=t,Ks(e.priority,function(){Yg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=oh(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Ga=l,r.target.dispatchEvent(l),Ga=null}else return t=ar(r),t!==null&&Kg(t),e.blockedOn=r,!1;t.shift()}return!0}function Qg(e,t,r){zc(e)&&r.delete(t)}function L_(){ch=!1,Nr!==null&&zc(Nr)&&(Nr=null),Br!==null&&zc(Br)&&(Br=null),Ur!==null&&zc(Ur)&&(Ur=null),Go.forEach(Qg),Wo.forEach(Qg)}function Mc(e,t){e.blockedOn===t&&(e.blockedOn=null,ch||(ch=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,L_)))}var Pc=null;function em(e){Pc!==e&&(Pc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Pc===e&&(Pc=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],f=e[t+2];if(typeof l!="function"){if(lh(l||r)===null)continue;break}var g=ar(r);g!==null&&(e.splice(t,3),t-=3,od(g,{pending:!0,data:f,method:r.method,action:l},l,f))}}))}function As(e){function t(D){return Mc(D,e)}Nr!==null&&Mc(Nr,e),Br!==null&&Mc(Br,e),Ur!==null&&Mc(Ur,e),Go.forEach(t),Wo.forEach(t);for(var r=0;r<Ir.length;r++){var l=Ir[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ir.length&&(r=Ir[0],r.blockedOn===null);)Jg(r),r.blockedOn===null&&Ir.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var f=r[l],g=r[l+1],w=f[Yt]||null;if(typeof g=="function")w||em(r);else if(w){var j=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[Yt]||null)j=w.formAction;else if(lh(f)!==null)continue}else j=w.action;typeof j=="function"?r[l+1]=j:(r.splice(l,3),l-=3),em(r)}}}function tm(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function uh(e){this._internalRoot=e}Dc.prototype.render=uh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var r=t.current,l=Nn();Gg(r,l,e,t,null,null)},Dc.prototype.unmount=uh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gg(e.current,2,null,e,null,null),mc(),t[Mi]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ws();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ir.length&&t!==0&&t<Ir[r].priority;r++);Ir.splice(r,0,e),r===0&&Jg(e)}};var nm=i.version;if(nm!=="19.2.0")throw Error(s(527,nm,"19.2.0"));se.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var k_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{rr=Nc.inject(k_),Qt=Nc}catch{}}return Fo.createRoot=function(e,t){if(!u(e))throw Error(s(299));var r=!1,l="",f=cp,g=up,w=dp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(g=t.onCaughtError),t.onRecoverableError!==void 0&&(w=t.onRecoverableError)),t=Zg(e,1,!1,null,null,r,l,null,f,g,w,tm),e[Mi]=t.current,Vd(e),new uh(t)},Fo.hydrateRoot=function(e,t,r){if(!u(e))throw Error(s(299));var l=!1,f="",g=cp,w=up,j=dp,D=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(j=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),t=Zg(e,1,!0,t,r??null,l,f,D,g,w,j,tm),t.context=Vg(null),r=t.current,l=Nn(),l=gn(l),f=Er(l),f.callback=null,Cr(r,f,l),r=l,t.current.lanes=r,zi(t,r),Ri(t),e[Mi]=t.current,Vd(e),new Dc(t)},Fo.version="19.2.0",Fo}var hm;function H_(){if(hm)return fh.exports;hm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),fh.exports=I_(),fh.exports}var $_=H_();const q_=au($_),je=c=>typeof c=="string",Xo=()=>{let c,i;const a=new Promise((s,u)=>{c=s,i=u});return a.resolve=c,a.reject=i,a},fm=c=>c==null?"":""+c,Z_=(c,i,a)=>{c.forEach(s=>{i[s]&&(a[s]=i[s])})},V_=/###/g,pm=c=>c&&c.indexOf("###")>-1?c.replace(V_,"."):c,gm=c=>!c||je(c),el=(c,i,a)=>{const s=je(i)?i.split("."):i;let u=0;for(;u<s.length-1;){if(gm(c))return{};const d=pm(s[u]);!c[d]&&a&&(c[d]=new a),Object.prototype.hasOwnProperty.call(c,d)?c=c[d]:c={},++u}return gm(c)?{}:{obj:c,k:pm(s[u])}},mm=(c,i,a)=>{const{obj:s,k:u}=el(c,i,Object);if(s!==void 0||i.length===1){s[u]=a;return}let d=i[i.length-1],p=i.slice(0,i.length-1),v=el(c,p,Object);for(;v.obj===void 0&&p.length;)d=`${p[p.length-1]}.${d}`,p=p.slice(0,p.length-1),v=el(c,p,Object),v?.obj&&typeof v.obj[`${v.k}.${d}`]<"u"&&(v.obj=void 0);v.obj[`${v.k}.${d}`]=a},G_=(c,i,a,s)=>{const{obj:u,k:d}=el(c,i,Object);u[d]=u[d]||[],u[d].push(a)},Yc=(c,i)=>{const{obj:a,k:s}=el(c,i);if(a&&Object.prototype.hasOwnProperty.call(a,s))return a[s]},W_=(c,i,a)=>{const s=Yc(c,a);return s!==void 0?s:Yc(i,a)},uy=(c,i,a)=>{for(const s in i)s!=="__proto__"&&s!=="constructor"&&(s in c?je(c[s])||c[s]instanceof String||je(i[s])||i[s]instanceof String?a&&(c[s]=i[s]):uy(c[s],i[s],a):c[s]=i[s]);return c},Os=c=>c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var K_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Y_=c=>je(c)?c.replace(/[&<>"'\/]/g,i=>K_[i]):c;class F_{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const a=this.regExpMap.get(i);if(a!==void 0)return a;const s=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,s),this.regExpQueue.push(i),s}}const X_=[" ",",","?","!",";"],J_=new F_(20),Q_=(c,i,a)=>{i=i||"",a=a||"";const s=X_.filter(p=>i.indexOf(p)<0&&a.indexOf(p)<0);if(s.length===0)return!0;const u=J_.getRegExp(`(${s.map(p=>p==="?"?"\\?":p).join("|")})`);let d=!u.test(c);if(!d){const p=c.indexOf(a);p>0&&!u.test(c.substring(0,p))&&(d=!0)}return d},Lh=(c,i,a=".")=>{if(!c)return;if(c[i])return Object.prototype.hasOwnProperty.call(c,i)?c[i]:void 0;const s=i.split(a);let u=c;for(let d=0;d<s.length;){if(!u||typeof u!="object")return;let p,v="";for(let x=d;x<s.length;++x)if(x!==d&&(v+=a),v+=s[x],p=u[v],p!==void 0){if(["string","number","boolean"].indexOf(typeof p)>-1&&x<s.length-1)continue;d+=x-d+1;break}u=p}return u},rl=c=>c?.replace("_","-"),e0={type:"logger",log(c){this.output("log",c)},warn(c){this.output("warn",c)},error(c){this.output("error",c)},output(c,i){console?.[c]?.apply?.(console,i)}};class Fc{constructor(i,a={}){this.init(i,a)}init(i,a={}){this.prefix=a.prefix||"i18next:",this.logger=i||e0,this.options=a,this.debug=a.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,a,s,u){return u&&!this.debug?null:(je(i[0])&&(i[0]=`${s}${this.prefix} ${i[0]}`),this.logger[a](i))}create(i){return new Fc(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new Fc(this.logger,i)}}var Li=new Fc;class ou{constructor(){this.observers={}}on(i,a){return i.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const u=this.observers[s].get(a)||0;this.observers[s].set(a,u+1)}),this}off(i,a){if(this.observers[i]){if(!a){delete this.observers[i];return}this.observers[i].delete(a)}}emit(i,...a){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([u,d])=>{for(let p=0;p<d;p++)u(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([u,d])=>{for(let p=0;p<d;p++)u.apply(u,[i,...a])})}}class ym extends ou{constructor(i,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}getResource(i,a,s,u={}){const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,p=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let v;i.indexOf(".")>-1?v=i.split("."):(v=[i,a],s&&(Array.isArray(s)?v.push(...s):je(s)&&d?v.push(...s.split(d)):v.push(s)));const x=Yc(this.data,v);return!x&&!a&&!s&&i.indexOf(".")>-1&&(i=v[0],a=v[1],s=v.slice(2).join(".")),x||!p||!je(s)?x:Lh(this.data?.[i]?.[a],s,d)}addResource(i,a,s,u,d={silent:!1}){const p=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let v=[i,a];s&&(v=v.concat(p?s.split(p):s)),i.indexOf(".")>-1&&(v=i.split("."),u=a,a=v[1]),this.addNamespaces(a),mm(this.data,v,u),d.silent||this.emit("added",i,a,s,u)}addResources(i,a,s,u={silent:!1}){for(const d in s)(je(s[d])||Array.isArray(s[d]))&&this.addResource(i,a,d,s[d],{silent:!0});u.silent||this.emit("added",i,a,s)}addResourceBundle(i,a,s,u,d,p={silent:!1,skipCopy:!1}){let v=[i,a];i.indexOf(".")>-1&&(v=i.split("."),u=s,s=a,a=v[1]),this.addNamespaces(a);let x=Yc(this.data,v)||{};p.skipCopy||(s=JSON.parse(JSON.stringify(s))),u?uy(x,s,d):x={...x,...s},mm(this.data,v,x),p.silent||this.emit("added",i,a,s)}removeResourceBundle(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}hasResourceBundle(i,a){return this.getResource(i,a)!==void 0}getResourceBundle(i,a){return a||(a=this.options.defaultNS),this.getResource(i,a)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const a=this.getDataByLanguage(i);return!!(a&&Object.keys(a)||[]).find(u=>a[u]&&Object.keys(a[u]).length>0)}toJSON(){return this.data}}var dy={processors:{},addPostProcessor(c){this.processors[c.name]=c},handle(c,i,a,s,u){return c.forEach(d=>{i=this.processors[d]?.process(i,a,s,u)??i}),i}};const hy=Symbol("i18next/PATH_KEY");function t0(){const c=[],i=Object.create(null);let a;return i.get=(s,u)=>(a?.revoke?.(),u===hy?c:(c.push(u),a=Proxy.revocable(s,i),a.proxy)),Proxy.revocable(Object.create(null),i).proxy}function kh(c,i){const{[hy]:a}=c(t0());return a.join(i?.keySeparator??".")}const vm={},yh=c=>!je(c)&&typeof c!="boolean"&&typeof c!="number";class Xc extends ou{constructor(i,a={}){super(),Z_(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Li.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,a={interpolation:{}}){const s={...a};if(i==null)return!1;const u=this.resolve(i,s);if(u?.res===void 0)return!1;const d=yh(u.res);return!(s.returnObjects===!1&&d)}extractFromKey(i,a){let s=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=a.ns||this.options.defaultNS||[];const p=s&&i.indexOf(s)>-1,v=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!Q_(i,s,u);if(p&&!v){const x=i.match(this.interpolator.nestingRegexp);if(x&&x.length>0)return{key:i,namespaces:je(d)?[d]:d};const _=i.split(s);(s!==u||s===u&&this.options.ns.indexOf(_[0])>-1)&&(d=_.shift()),i=_.join(u)}return{key:i,namespaces:je(d)?[d]:d}}translate(i,a,s){let u=typeof a=="object"?{...a}:a;if(typeof u!="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),typeof u=="object"&&(u={...u}),u||(u={}),i==null)return"";typeof i=="function"&&(i=kh(i,{...this.options,...u})),Array.isArray(i)||(i=[String(i)]);const d=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,p=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,{key:v,namespaces:x}=this.extractFromKey(i[i.length-1],u),_=x[x.length-1];let S=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const T=u.lng||this.language,E=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(T?.toLowerCase()==="cimode")return E?d?{res:`${_}${S}${v}`,usedKey:v,exactUsedKey:v,usedLng:T,usedNS:_,usedParams:this.getUsedParamsDetails(u)}:`${_}${S}${v}`:d?{res:v,usedKey:v,exactUsedKey:v,usedLng:T,usedNS:_,usedParams:this.getUsedParamsDetails(u)}:v;const A=this.resolve(i,u);let R=A?.res;const P=A?.usedKey||v,M=A?.exactUsedKey||v,K=["[object Number]","[object Function]","[object RegExp]"],H=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,F=u.count!==void 0&&!je(u.count),Y=Xc.hasDefaultValue(u),oe=F?this.pluralResolver.getSuffix(T,u.count,u):"",ce=u.ordinal&&F?this.pluralResolver.getSuffix(T,u.count,{ordinal:!1}):"",Ae=F&&!u.ordinal&&u.count===0,Te=Ae&&u[`defaultValue${this.options.pluralSeparator}zero`]||u[`defaultValue${oe}`]||u[`defaultValue${ce}`]||u.defaultValue;let Ke=R;k&&!R&&Y&&(Ke=Te);const ve=yh(Ke),Oe=Object.prototype.toString.apply(Ke);if(k&&Ke&&ve&&K.indexOf(Oe)<0&&!(je(H)&&Array.isArray(Ke))){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ct=this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,Ke,{...u,ns:x}):`key '${v} (${this.language})' returned an object instead of string.`;return d?(A.res=ct,A.usedParams=this.getUsedParamsDetails(u),A):ct}if(p){const ct=Array.isArray(Ke),Ce=ct?[]:{},vt=ct?M:P;for(const Z in Ke)if(Object.prototype.hasOwnProperty.call(Ke,Z)){const se=`${vt}${p}${Z}`;Y&&!R?Ce[Z]=this.translate(se,{...u,defaultValue:yh(Te)?Te[Z]:void 0,joinArrays:!1,ns:x}):Ce[Z]=this.translate(se,{...u,joinArrays:!1,ns:x}),Ce[Z]===se&&(Ce[Z]=Ke[Z])}R=Ce}}else if(k&&je(H)&&Array.isArray(R))R=R.join(H),R&&(R=this.extendTranslation(R,i,u,s));else{let ct=!1,Ce=!1;!this.isValidLookup(R)&&Y&&(ct=!0,R=Te),this.isValidLookup(R)||(Ce=!0,R=v);const Z=(u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ce?void 0:R,se=Y&&Te!==R&&this.options.updateMissing;if(Ce||ct||se){if(this.logger.log(se?"updateKey":"missingKey",T,_,v,se?Te:R),p){const O=this.resolve(v,{...u,keySeparator:!1});O&&O.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let N=[];const le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let O=0;O<le.length;O++)N.push(le[O]);else this.options.saveMissingTo==="all"?N=this.languageUtils.toResolveHierarchy(u.lng||this.language):N.push(u.lng||this.language);const re=(O,V,ie)=>{const ae=Y&&ie!==R?ie:Z;this.options.missingKeyHandler?this.options.missingKeyHandler(O,_,V,ae,se,u):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(O,_,V,ae,se,u),this.emit("missingKey",O,_,V,R)};this.options.saveMissing&&(this.options.saveMissingPlurals&&F?N.forEach(O=>{const V=this.pluralResolver.getSuffixes(O,u);Ae&&u[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(ie=>{re([O],v+ie,u[`defaultValue${ie}`]||Te)})}):re(N,v,Te))}R=this.extendTranslation(R,i,u,A,s),Ce&&R===v&&this.options.appendNamespaceToMissingKey&&(R=`${_}${S}${v}`),(Ce||ct)&&this.options.parseMissingKeyHandler&&(R=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${_}${S}${v}`:v,ct?R:void 0,u))}return d?(A.res=R,A.usedParams=this.getUsedParamsDetails(u),A):R}extendTranslation(i,a,s,u,d){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const x=je(i)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(x){const T=i.match(this.interpolator.nestingRegexp);_=T&&T.length}let S=s.replace&&!je(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),i=this.interpolator.interpolate(i,S,s.lng||this.language||u.usedLng,s),x){const T=i.match(this.interpolator.nestingRegexp),E=T&&T.length;_<E&&(s.nest=!1)}!s.lng&&u&&u.res&&(s.lng=this.language||u.usedLng),s.nest!==!1&&(i=this.interpolator.nest(i,(...T)=>d?.[0]===T[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${a[0]}`),null):this.translate(...T,a),s)),s.interpolation&&this.interpolator.reset()}const p=s.postProcess||this.options.postProcess,v=je(p)?[p]:p;return i!=null&&v?.length&&s.applyPostProcessor!==!1&&(i=dy.handle(v,i,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...u,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),i}resolve(i,a={}){let s,u,d,p,v;return je(i)&&(i=[i]),i.forEach(x=>{if(this.isValidLookup(s))return;const _=this.extractFromKey(x,a),S=_.key;u=S;let T=_.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const E=a.count!==void 0&&!je(a.count),A=E&&!a.ordinal&&a.count===0,R=a.context!==void 0&&(je(a.context)||typeof a.context=="number")&&a.context!=="",P=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);T.forEach(M=>{this.isValidLookup(s)||(v=M,!vm[`${P[0]}-${M}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(v)&&(vm[`${P[0]}-${M}`]=!0,this.logger.warn(`key "${u}" for languages "${P.join(", ")}" won't get resolved as namespace "${v}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(K=>{if(this.isValidLookup(s))return;p=K;const H=[S];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(H,S,K,M,a);else{let F;E&&(F=this.pluralResolver.getSuffix(K,a.count,a));const Y=`${this.options.pluralSeparator}zero`,oe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(a.ordinal&&F.indexOf(oe)===0&&H.push(S+F.replace(oe,this.options.pluralSeparator)),H.push(S+F),A&&H.push(S+Y)),R){const ce=`${S}${this.options.contextSeparator||"_"}${a.context}`;H.push(ce),E&&(a.ordinal&&F.indexOf(oe)===0&&H.push(ce+F.replace(oe,this.options.pluralSeparator)),H.push(ce+F),A&&H.push(ce+Y))}}let k;for(;k=H.pop();)this.isValidLookup(s)||(d=k,s=this.getResource(K,M,k,a))}))})}),{res:s,usedKey:u,exactUsedKey:d,usedLng:p,usedNS:v}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,a,s,u={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,a,s,u):this.resourceStore.getResource(i,a,s,u)}getUsedParamsDetails(i={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=i.replace&&!je(i.replace);let u=s?i.replace:i;if(s&&typeof i.count<"u"&&(u.count=i.count),this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),!s){u={...u};for(const d of a)delete u[d]}return u}static hasDefaultValue(i){const a="defaultValue";for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&a===s.substring(0,a.length)&&i[s]!==void 0)return!0;return!1}}class _m{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Li.create("languageUtils")}getScriptPartFromCode(i){if(i=rl(i),!i||i.indexOf("-")<0)return null;const a=i.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(i){if(i=rl(i),!i||i.indexOf("-")<0)return i;const a=i.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(i){if(je(i)&&i.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(i)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let a;return i.forEach(s=>{if(a)return;const u=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(u))&&(a=u)}),!a&&this.options.supportedLngs&&i.forEach(s=>{if(a)return;const u=this.getScriptPartFromCode(s);if(this.isSupportedCode(u))return a=u;const d=this.getLanguagePartFromCode(s);if(this.isSupportedCode(d))return a=d;a=this.options.supportedLngs.find(p=>{if(p===d)return p;if(!(p.indexOf("-")<0&&d.indexOf("-")<0)&&(p.indexOf("-")>0&&d.indexOf("-")<0&&p.substring(0,p.indexOf("-"))===d||p.indexOf(d)===0&&d.length>1))return p})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(i,a){if(!i)return[];if(typeof i=="function"&&(i=i(a)),je(i)&&(i=[i]),Array.isArray(i))return i;if(!a)return i.default||[];let s=i[a];return s||(s=i[this.getScriptPartFromCode(a)]),s||(s=i[this.formatLanguageCode(a)]),s||(s=i[this.getLanguagePartFromCode(a)]),s||(s=i.default),s||[]}toResolveHierarchy(i,a){const s=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],i),u=[],d=p=>{p&&(this.isSupportedCode(p)?u.push(p):this.logger.warn(`rejecting language code not found in supportedLngs: ${p}`))};return je(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(i))):je(i)&&d(this.formatLanguageCode(i)),s.forEach(p=>{u.indexOf(p)<0&&d(this.formatLanguageCode(p))}),u}}const xm={zero:0,one:1,two:2,few:3,many:4,other:5},bm={select:c=>c===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class n0{constructor(i,a={}){this.languageUtils=i,this.options=a,this.logger=Li.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,a){this.rules[i]=a}clearCache(){this.pluralRulesCache={}}getRule(i,a={}){const s=rl(i==="dev"?"en":i),u=a.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:s,type:u});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let p;try{p=new Intl.PluralRules(s,{type:u})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),bm;if(!i.match(/-|_/))return bm;const x=this.languageUtils.getLanguagePartFromCode(i);p=this.getRule(x,a)}return this.pluralRulesCache[d]=p,p}needsPlural(i,a={}){let s=this.getRule(i,a);return s||(s=this.getRule("dev",a)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,a,s={}){return this.getSuffixes(i,s).map(u=>`${a}${u}`)}getSuffixes(i,a={}){let s=this.getRule(i,a);return s||(s=this.getRule("dev",a)),s?s.resolvedOptions().pluralCategories.sort((u,d)=>xm[u]-xm[d]).map(u=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${u}`):[]}getSuffix(i,a,s={}){const u=this.getRule(i,s);return u?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${u.select(a)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",a,s))}}const wm=(c,i,a,s=".",u=!0)=>{let d=W_(c,i,a);return!d&&u&&je(a)&&(d=Lh(c,a,s),d===void 0&&(d=Lh(i,a,s))),d},vh=c=>c.replace(/\$/g,"$$$$");class i0{constructor(i={}){this.logger=Li.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(a=>a),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:a,escapeValue:s,useRawValueToEscape:u,prefix:d,prefixEscaped:p,suffix:v,suffixEscaped:x,formatSeparator:_,unescapeSuffix:S,unescapePrefix:T,nestingPrefix:E,nestingPrefixEscaped:A,nestingSuffix:R,nestingSuffixEscaped:P,nestingOptionsSeparator:M,maxReplaces:K,alwaysFormat:H}=i.interpolation;this.escape=a!==void 0?a:Y_,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=d?Os(d):p||"{{",this.suffix=v?Os(v):x||"}}",this.formatSeparator=_||",",this.unescapePrefix=S?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=E?Os(E):A||Os("$t("),this.nestingSuffix=R?Os(R):P||Os(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=K||1e3,this.alwaysFormat=H!==void 0?H:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(a,s)=>a?.source===s?(a.lastIndex=0,a):new RegExp(s,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,a,s,u){let d,p,v;const x=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},_=A=>{if(A.indexOf(this.formatSeparator)<0){const K=wm(a,x,A,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(K,void 0,s,{...u,...a,interpolationkey:A}):K}const R=A.split(this.formatSeparator),P=R.shift().trim(),M=R.join(this.formatSeparator).trim();return this.format(wm(a,x,P,this.options.keySeparator,this.options.ignoreJSONStructure),M,s,{...u,...a,interpolationkey:P})};this.resetRegExp();const S=u?.missingInterpolationHandler||this.options.missingInterpolationHandler,T=u?.interpolation?.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:A=>vh(A)},{regex:this.regexp,safeValue:A=>this.escapeValue?vh(this.escape(A)):vh(A)}].forEach(A=>{for(v=0;d=A.regex.exec(i);){const R=d[1].trim();if(p=_(R),p===void 0)if(typeof S=="function"){const M=S(i,d,u);p=je(M)?M:""}else if(u&&Object.prototype.hasOwnProperty.call(u,R))p="";else if(T){p=d[0];continue}else this.logger.warn(`missed to pass in variable ${R} for interpolating ${i}`),p="";else!je(p)&&!this.useRawValueToEscape&&(p=fm(p));const P=A.safeValue(p);if(i=i.replace(d[0],P),T?(A.regex.lastIndex+=p.length,A.regex.lastIndex-=d[0].length):A.regex.lastIndex=0,v++,v>=this.maxReplaces)break}}),i}nest(i,a,s={}){let u,d,p;const v=(x,_)=>{const S=this.nestingOptionsSeparator;if(x.indexOf(S)<0)return x;const T=x.split(new RegExp(`${S}[ ]*{`));let E=`{${T[1]}`;x=T[0],E=this.interpolate(E,p);const A=E.match(/'/g),R=E.match(/"/g);((A?.length??0)%2===0&&!R||R.length%2!==0)&&(E=E.replace(/'/g,'"'));try{p=JSON.parse(E),_&&(p={..._,...p})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${x}`,P),`${x}${S}${E}`}return p.defaultValue&&p.defaultValue.indexOf(this.prefix)>-1&&delete p.defaultValue,x};for(;u=this.nestingRegexp.exec(i);){let x=[];p={...s},p=p.replace&&!je(p.replace)?p.replace:p,p.applyPostProcessor=!1,delete p.defaultValue;const _=/{.*}/.test(u[1])?u[1].lastIndexOf("}")+1:u[1].indexOf(this.formatSeparator);if(_!==-1&&(x=u[1].slice(_).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),u[1]=u[1].slice(0,_)),d=a(v.call(this,u[1].trim(),p),p),d&&u[0]===i&&!je(d))return d;je(d)||(d=fm(d)),d||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${i}`),d=""),x.length&&(d=x.reduce((S,T)=>this.format(S,T,s.lng,{...s,interpolationkey:u[1].trim()}),d.trim())),i=i.replace(u[0],d),this.regexp.lastIndex=0}return i}}const r0=c=>{let i=c.toLowerCase().trim();const a={};if(c.indexOf("(")>-1){const s=c.split("(");i=s[0].toLowerCase().trim();const u=s[1].substring(0,s[1].length-1);i==="currency"&&u.indexOf(":")<0?a.currency||(a.currency=u.trim()):i==="relativetime"&&u.indexOf(":")<0?a.range||(a.range=u.trim()):u.split(";").forEach(p=>{if(p){const[v,...x]=p.split(":"),_=x.join(":").trim().replace(/^'+|'+$/g,""),S=v.trim();a[S]||(a[S]=_),_==="false"&&(a[S]=!1),_==="true"&&(a[S]=!0),isNaN(_)||(a[S]=parseInt(_,10))}})}return{formatName:i,formatOptions:a}},Sm=c=>{const i={};return(a,s,u)=>{let d=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(d={...d,[u.interpolationkey]:void 0});const p=s+JSON.stringify(d);let v=i[p];return v||(v=c(rl(s),u),i[p]=v),v(a)}},a0=c=>(i,a,s)=>c(rl(a),s)(i);class s0{constructor(i={}){this.logger=Li.create("formatter"),this.options=i,this.init(i)}init(i,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const s=a.cacheInBuiltFormats?Sm:a0;this.formats={number:s((u,d)=>{const p=new Intl.NumberFormat(u,{...d});return v=>p.format(v)}),currency:s((u,d)=>{const p=new Intl.NumberFormat(u,{...d,style:"currency"});return v=>p.format(v)}),datetime:s((u,d)=>{const p=new Intl.DateTimeFormat(u,{...d});return v=>p.format(v)}),relativetime:s((u,d)=>{const p=new Intl.RelativeTimeFormat(u,{...d});return v=>p.format(v,d.range||"day")}),list:s((u,d)=>{const p=new Intl.ListFormat(u,{...d});return v=>p.format(v)})}}add(i,a){this.formats[i.toLowerCase().trim()]=a}addCached(i,a){this.formats[i.toLowerCase().trim()]=Sm(a)}format(i,a,s,u={}){const d=a.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(v=>v.indexOf(")")>-1)){const v=d.findIndex(x=>x.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,v)].join(this.formatSeparator)}return d.reduce((v,x)=>{const{formatName:_,formatOptions:S}=r0(x);if(this.formats[_]){let T=v;try{const E=u?.formatParams?.[u.interpolationkey]||{},A=E.locale||E.lng||u.locale||u.lng||s;T=this.formats[_](v,A,{...S,...u,...E})}catch(E){this.logger.warn(E)}return T}else this.logger.warn(`there was no format function for ${_}`);return v},i)}}const o0=(c,i)=>{c.pending[i]!==void 0&&(delete c.pending[i],c.pendingCount--)};class l0 extends ou{constructor(i,a,s,u={}){super(),this.backend=i,this.store=a,this.services=s,this.languageUtils=s.languageUtils,this.options=u,this.logger=Li.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,u.backend,u)}queueLoad(i,a,s,u){const d={},p={},v={},x={};return i.forEach(_=>{let S=!0;a.forEach(T=>{const E=`${_}|${T}`;!s.reload&&this.store.hasResourceBundle(_,T)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?p[E]===void 0&&(p[E]=!0):(this.state[E]=1,S=!1,p[E]===void 0&&(p[E]=!0),d[E]===void 0&&(d[E]=!0),x[T]===void 0&&(x[T]=!0)))}),S||(v[_]=!0)}),(Object.keys(d).length||Object.keys(p).length)&&this.queue.push({pending:p,pendingCount:Object.keys(p).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(d),pending:Object.keys(p),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(x)}}loaded(i,a,s){const u=i.split("|"),d=u[0],p=u[1];a&&this.emit("failedLoading",d,p,a),!a&&s&&this.store.addResourceBundle(d,p,s,void 0,void 0,{skipCopy:!0}),this.state[i]=a?-1:2,a&&s&&(this.state[i]=0);const v={};this.queue.forEach(x=>{G_(x.loaded,[d],p),o0(x,i),a&&x.errors.push(a),x.pendingCount===0&&!x.done&&(Object.keys(x.loaded).forEach(_=>{v[_]||(v[_]={});const S=x.loaded[_];S.length&&S.forEach(T=>{v[_][T]===void 0&&(v[_][T]=!0)})}),x.done=!0,x.errors.length?x.callback(x.errors):x.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(x=>!x.done)}read(i,a,s,u=0,d=this.retryTimeout,p){if(!i.length)return p(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:s,tried:u,wait:d,callback:p});return}this.readingCalls++;const v=(_,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(_&&S&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,i,a,s,u+1,d*2,p)},d);return}p(_,S)},x=this.backend[s].bind(this.backend);if(x.length===2){try{const _=x(i,a);_&&typeof _.then=="function"?_.then(S=>v(null,S)).catch(v):v(null,_)}catch(_){v(_)}return}return x(i,a,v)}prepareLoading(i,a,s={},u){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();je(i)&&(i=this.languageUtils.toResolveHierarchy(i)),je(a)&&(a=[a]);const d=this.queueLoad(i,a,s,u);if(!d.toLoad.length)return d.pending.length||u(),null;d.toLoad.forEach(p=>{this.loadOne(p)})}load(i,a,s){this.prepareLoading(i,a,{},s)}reload(i,a,s){this.prepareLoading(i,a,{reload:!0},s)}loadOne(i,a=""){const s=i.split("|"),u=s[0],d=s[1];this.read(u,d,"read",void 0,void 0,(p,v)=>{p&&this.logger.warn(`${a}loading namespace ${d} for language ${u} failed`,p),!p&&v&&this.logger.log(`${a}loaded namespace ${d} for language ${u}`,v),this.loaded(i,p,v)})}saveMissing(i,a,s,u,d,p={},v=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${s}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const x={...p,isUpdate:d},_=this.backend.create.bind(this.backend);if(_.length<6)try{let S;_.length===5?S=_(i,a,s,u,x):S=_(i,a,s,u),S&&typeof S.then=="function"?S.then(T=>v(null,T)).catch(v):v(null,S)}catch(S){v(S)}else _(i,a,s,u,v,x)}!i||!i[0]||this.store.addResource(i[0],a,s,u)}}}const Tm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:c=>{let i={};if(typeof c[1]=="object"&&(i=c[1]),je(c[1])&&(i.defaultValue=c[1]),je(c[2])&&(i.tDescription=c[2]),typeof c[2]=="object"||typeof c[3]=="object"){const a=c[3]||c[2];Object.keys(a).forEach(s=>{i[s]=a[s]})}return i},interpolation:{escapeValue:!0,format:c=>c,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Em=c=>(je(c.ns)&&(c.ns=[c.ns]),je(c.fallbackLng)&&(c.fallbackLng=[c.fallbackLng]),je(c.fallbackNS)&&(c.fallbackNS=[c.fallbackNS]),c.supportedLngs?.indexOf?.("cimode")<0&&(c.supportedLngs=c.supportedLngs.concat(["cimode"])),typeof c.initImmediate=="boolean"&&(c.initAsync=c.initImmediate),c),Bc=()=>{},c0=c=>{Object.getOwnPropertyNames(Object.getPrototypeOf(c)).forEach(a=>{typeof c[a]=="function"&&(c[a]=c[a].bind(c))})};class al extends ou{constructor(i={},a){if(super(),this.options=Em(i),this.services={},this.logger=Li,this.modules={external:[]},c0(this),a&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,a),this;setTimeout(()=>{this.init(i,a)},0)}}init(i={},a){this.isInitializing=!0,typeof i=="function"&&(a=i,i={}),i.defaultNS==null&&i.ns&&(je(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const s=Tm();this.options={...s,...this.options,...Em(i)},this.options.interpolation={...s.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const u=_=>_?typeof _=="function"?new _:_:null;if(!this.options.isClone){this.modules.logger?Li.init(u(this.modules.logger),this.options):Li.init(null,this.options);let _;this.modules.formatter?_=this.modules.formatter:_=s0;const S=new _m(this.options);this.store=new ym(this.options.resources,this.options);const T=this.services;T.logger=Li,T.resourceStore=this.store,T.languageUtils=S,T.pluralResolver=new n0(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),_&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(T.formatter=u(_),T.formatter.init&&T.formatter.init(T,this.options),this.options.interpolation.format=T.formatter.format.bind(T.formatter)),T.interpolator=new i0(this.options),T.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},T.backendConnector=new l0(u(this.modules.backend),T.resourceStore,T,this.options),T.backendConnector.on("*",(A,...R)=>{this.emit(A,...R)}),this.modules.languageDetector&&(T.languageDetector=u(this.modules.languageDetector),T.languageDetector.init&&T.languageDetector.init(T,this.options.detection,this.options)),this.modules.i18nFormat&&(T.i18nFormat=u(this.modules.i18nFormat),T.i18nFormat.init&&T.i18nFormat.init(this)),this.translator=new Xc(this.services,this.options),this.translator.on("*",(A,...R)=>{this.emit(A,...R)}),this.modules.external.forEach(A=>{A.init&&A.init(this)})}if(this.format=this.options.interpolation.format,a||(a=Bc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const _=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);_.length>0&&_[0]!=="dev"&&(this.options.lng=_[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(_=>{this[_]=(...S)=>this.store[_](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(_=>{this[_]=(...S)=>(this.store[_](...S),this)});const v=Xo(),x=()=>{const _=(S,T)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),v.resolve(T),a(S,T)};if(this.languages&&!this.isInitialized)return _(null,this.t.bind(this));this.changeLanguage(this.options.lng,_)};return this.options.resources||!this.options.initAsync?x():setTimeout(x,0),v}loadResources(i,a=Bc){let s=a;const u=je(i)?i:this.language;if(typeof i=="function"&&(s=i),!this.options.resources||this.options.partialBundledLanguages){if(u?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const d=[],p=v=>{if(!v||v==="cimode")return;this.services.languageUtils.toResolveHierarchy(v).forEach(_=>{_!=="cimode"&&d.indexOf(_)<0&&d.push(_)})};u?p(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(x=>p(x)),this.options.preload?.forEach?.(v=>p(v)),this.services.backendConnector.load(d,this.options.ns,v=>{!v&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(v)})}else s(null)}reloadResources(i,a,s){const u=Xo();return typeof i=="function"&&(s=i,i=void 0),typeof a=="function"&&(s=a,a=void 0),i||(i=this.languages),a||(a=this.options.ns),s||(s=Bc),this.services.backendConnector.reload(i,a,d=>{u.resolve(),s(d)}),u}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&dy.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let a=0;a<this.languages.length;a++){const s=this.languages[a];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,a){this.isLanguageChangingTo=i;const s=Xo();this.emit("languageChanging",i);const u=v=>{this.language=v,this.languages=this.services.languageUtils.toResolveHierarchy(v),this.resolvedLanguage=void 0,this.setResolvedLanguage(v)},d=(v,x)=>{x?this.isLanguageChangingTo===i&&(u(x),this.translator.changeLanguage(x),this.isLanguageChangingTo=void 0,this.emit("languageChanged",x),this.logger.log("languageChanged",x)):this.isLanguageChangingTo=void 0,s.resolve((..._)=>this.t(..._)),a&&a(v,(..._)=>this.t(..._))},p=v=>{!i&&!v&&this.services.languageDetector&&(v=[]);const x=je(v)?v:v&&v[0],_=this.store.hasLanguageSomeTranslations(x)?x:this.services.languageUtils.getBestMatchFromCodes(je(v)?[v]:v);_&&(this.language||u(_),this.translator.language||this.translator.changeLanguage(_),this.services.languageDetector?.cacheUserLanguage?.(_)),this.loadResources(_,S=>{d(S,_)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?p(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(p):this.services.languageDetector.detect(p):p(i),s}getFixedT(i,a,s){const u=(d,p,...v)=>{let x;typeof p!="object"?x=this.options.overloadTranslationOptionHandler([d,p].concat(v)):x={...p},x.lng=x.lng||u.lng,x.lngs=x.lngs||u.lngs,x.ns=x.ns||u.ns,x.keyPrefix!==""&&(x.keyPrefix=x.keyPrefix||s||u.keyPrefix);const _=this.options.keySeparator||".";let S;return x.keyPrefix&&Array.isArray(d)?S=d.map(T=>(typeof T=="function"&&(T=kh(T,{...this.options,...p})),`${x.keyPrefix}${_}${T}`)):(typeof d=="function"&&(d=kh(d,{...this.options,...p})),S=x.keyPrefix?`${x.keyPrefix}${_}${d}`:d),this.t(S,x)};return je(i)?u.lng=i:u.lngs=i,u.ns=a,u.keyPrefix=s,u}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const p=(v,x)=>{const _=this.services.backendConnector.state[`${v}|${x}`];return _===-1||_===0||_===2};if(a.precheck){const v=a.precheck(this,p);if(v!==void 0)return v}return!!(this.hasResourceBundle(s,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||p(s,i)&&(!u||p(d,i)))}loadNamespaces(i,a){const s=Xo();return this.options.ns?(je(i)&&(i=[i]),i.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{s.resolve(),a&&a(u)}),s):(a&&a(),Promise.resolve())}loadLanguages(i,a){const s=Xo();je(i)&&(i=[i]);const u=this.options.preload||[],d=i.filter(p=>u.indexOf(p)<0&&this.services.languageUtils.isSupportedCode(p));return d.length?(this.options.preload=u.concat(d),this.loadResources(p=>{s.resolve(),a&&a(p)}),s):(a&&a(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";try{const u=new Intl.Locale(i);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new _m(Tm());return i.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(s.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},a){return new al(i,a)}cloneInstance(i={},a=Bc){const s=i.forkResourceStore;s&&delete i.forkResourceStore;const u={...this.options,...i,isClone:!0},d=new al(u);if((i.debug!==void 0||i.prefix!==void 0)&&(d.logger=d.logger.clone(i)),["store","services","language"].forEach(v=>{d[v]=this[v]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},s){const v=Object.keys(this.store.data).reduce((x,_)=>(x[_]={...this.store.data[_]},x[_]=Object.keys(x[_]).reduce((S,T)=>(S[T]={...x[_][T]},S),x[_]),x),{});d.store=new ym(v,u),d.services.resourceStore=d.store}return d.translator=new Xc(d.services,u),d.translator.on("*",(v,...x)=>{d.emit(v,...x)}),d.init(u,a),d.translator.options=u,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const qt=al.createInstance();qt.createInstance=al.createInstance;qt.createInstance;qt.dir;qt.init;qt.loadResources;qt.reloadResources;qt.use;qt.changeLanguage;qt.getFixedT;qt.t;qt.exists;qt.setDefaultNamespace;qt.hasLoadedNamespace;qt.loadNamespaces;qt.loadLanguages;const u0=(c,i,a,s)=>{const u=[a,{code:i,...s||{}}];if(c?.services?.logger?.forward)return c.services.logger.forward(u,"warn","react-i18next::",!0);Ia(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),c?.services?.logger?.warn?c.services.logger.warn(...u):console?.warn&&console.warn(...u)},Cm={},fy=(c,i,a,s)=>{Ia(a)&&Cm[a]||(Ia(a)&&(Cm[a]=new Date),u0(c,i,a,s))},py=(c,i)=>()=>{if(c.isInitialized)i();else{const a=()=>{setTimeout(()=>{c.off("initialized",a)},0),i()};c.on("initialized",a)}},zh=(c,i,a)=>{c.loadNamespaces(i,py(c,a))},jm=(c,i,a,s)=>{if(Ia(a)&&(a=[a]),c.options.preload&&c.options.preload.indexOf(i)>-1)return zh(c,a,s);a.forEach(u=>{c.options.ns.indexOf(u)<0&&c.options.ns.push(u)}),c.loadLanguages(i,py(c,s))},d0=(c,i,a={})=>!i.languages||!i.languages.length?(fy(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(c,{lng:a.lng,precheck:(s,u)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!u(s.isLanguageChangingTo,c))return!1}}),Ia=c=>typeof c=="string",h0=c=>typeof c=="object"&&c!==null,f0=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,p0={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},g0=c=>p0[c],m0=c=>c.replace(f0,g0);let Mh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:m0};const y0=(c={})=>{Mh={...Mh,...c}},v0=()=>Mh;let gy;const _0=c=>{gy=c},x0=()=>gy,b0={type:"3rdParty",init(c){y0(c.options.react),_0(c)}},w0=X.createContext();class S0{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var _h={exports:{}},xh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function T0(){if(Am)return xh;Am=1;var c=su();function i(T,E){return T===E&&(T!==0||1/T===1/E)||T!==T&&E!==E}var a=typeof Object.is=="function"?Object.is:i,s=c.useState,u=c.useEffect,d=c.useLayoutEffect,p=c.useDebugValue;function v(T,E){var A=E(),R=s({inst:{value:A,getSnapshot:E}}),P=R[0].inst,M=R[1];return d(function(){P.value=A,P.getSnapshot=E,x(P)&&M({inst:P})},[T,A,E]),u(function(){return x(P)&&M({inst:P}),T(function(){x(P)&&M({inst:P})})},[T]),p(A),A}function x(T){var E=T.getSnapshot;T=T.value;try{var A=E();return!a(T,A)}catch{return!0}}function _(T,E){return E()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_:v;return xh.useSyncExternalStore=c.useSyncExternalStore!==void 0?c.useSyncExternalStore:S,xh}var Om;function E0(){return Om||(Om=1,_h.exports=T0()),_h.exports}var C0=E0();const j0=(c,i)=>Ia(i)?i:h0(i)&&Ia(i.defaultValue)?i.defaultValue:Array.isArray(c)?c[c.length-1]:c,A0={t:j0,ready:!1},O0=()=>()=>{},Kt=(c,i={})=>{const{i18n:a}=i,{i18n:s,defaultNS:u}=X.useContext(w0)||{},d=a||s||x0();d&&!d.reportNamespaces&&(d.reportNamespaces=new S0),d||fy(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const p=X.useMemo(()=>({...v0(),...d?.options?.react,...i}),[d,i]),{useSuspense:v,keyPrefix:x}=p,_=X.useMemo(()=>{const k=u||d?.options?.defaultNS;return Ia(k)?[k]:k||["translation"]},[c,u,d]);d?.reportNamespaces?.addUsedNamespaces?.(_);const S=X.useCallback(k=>{if(!d)return O0;const{bindI18n:F,bindI18nStore:Y}=p;return F&&d.on(F,k),Y&&d.store.on(Y,k),()=>{F&&F.split(" ").forEach(oe=>d.off(oe,k)),Y&&Y.split(" ").forEach(oe=>d.store.off(oe,k))}},[d,p]),T=X.useRef(),E=X.useCallback(()=>{if(!d)return A0;const k=!!(d.isInitialized||d.initializedStoreOnce)&&_.every(ce=>d0(ce,d,p)),F=d.getFixedT(i.lng||d.language,p.nsMode==="fallback"?_:_[0],x),Y=T.current;if(Y&&Y.ready===k&&Y.lng===(i.lng||d.language)&&Y.keyPrefix===x)return Y;const oe={t:F,ready:k,lng:i.lng||d.language,keyPrefix:x};return T.current=oe,oe},[d,_,x,p,i.lng]),[A,R]=X.useState(0),{t:P,ready:M}=C0.useSyncExternalStore(S,E,E);X.useEffect(()=>{if(d&&!M&&!v){const k=()=>R(F=>F+1);i.lng?jm(d,i.lng,_,k):zh(d,_,k)}},[d,i.lng,_,M,v,A]);const K=d||{},H=X.useMemo(()=>{const k=[P,K,M];return k.t=P,k.i18n=K,k.ready=M,k},[P,K,M]);if(d&&v&&!M)throw new Promise(k=>{const F=()=>k();i.lng?jm(d,i.lng,_,F):zh(d,_,F)});return H};var Ph=function(c,i){return Ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(a[u]=s[u])},Ph(c,i)};function my(c,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Ph(c,i);function a(){this.constructor=c}c.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}var Jc=function(){return Jc=Object.assign||function(i){for(var a,s=1,u=arguments.length;s<u;s++){a=arguments[s];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(i[d]=a[d])}return i},Jc.apply(this,arguments)};function Is(c,i){var a={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&i.indexOf(s)<0&&(a[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(c);u<s.length;u++)i.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(c,s[u])&&(a[s[u]]=c[s[u]]);return a}function yy(c,i,a,s){var u=arguments.length,d=u<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,a):s,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(c,i,a,s);else for(var v=c.length-1;v>=0;v--)(p=c[v])&&(d=(u<3?p(d):u>3?p(i,a,d):p(i,a))||d);return u>3&&d&&Object.defineProperty(i,a,d),d}function vy(c,i){return function(a,s){i(a,s,c)}}function _y(c,i,a,s,u,d){function p(K){if(K!==void 0&&typeof K!="function")throw new TypeError("Function expected");return K}for(var v=s.kind,x=v==="getter"?"get":v==="setter"?"set":"value",_=!i&&c?s.static?c:c.prototype:null,S=i||(_?Object.getOwnPropertyDescriptor(_,s.name):{}),T,E=!1,A=a.length-1;A>=0;A--){var R={};for(var P in s)R[P]=P==="access"?{}:s[P];for(var P in s.access)R.access[P]=s.access[P];R.addInitializer=function(K){if(E)throw new TypeError("Cannot add initializers after decoration has completed");d.push(p(K||null))};var M=(0,a[A])(v==="accessor"?{get:S.get,set:S.set}:S[x],R);if(v==="accessor"){if(M===void 0)continue;if(M===null||typeof M!="object")throw new TypeError("Object expected");(T=p(M.get))&&(S.get=T),(T=p(M.set))&&(S.set=T),(T=p(M.init))&&u.unshift(T)}else(T=p(M))&&(v==="field"?u.unshift(T):S[x]=T)}_&&Object.defineProperty(_,s.name,S),E=!0}function xy(c,i,a){for(var s=arguments.length>2,u=0;u<i.length;u++)a=s?i[u].call(c,a):i[u].call(c);return s?a:void 0}function by(c){return typeof c=="symbol"?c:"".concat(c)}function wy(c,i,a){return typeof i=="symbol"&&(i=i.description?"[".concat(i.description,"]"):""),Object.defineProperty(c,"name",{configurable:!0,value:a?"".concat(a," ",i):i})}function Sy(c,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,i)}function me(c,i,a,s){function u(d){return d instanceof a?d:new a(function(p){p(d)})}return new(a||(a=Promise))(function(d,p){function v(S){try{_(s.next(S))}catch(T){p(T)}}function x(S){try{_(s.throw(S))}catch(T){p(T)}}function _(S){S.done?d(S.value):u(S.value).then(v,x)}_((s=s.apply(c,i||[])).next())})}function Ty(c,i){var a={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},s,u,d,p=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return p.next=v(0),p.throw=v(1),p.return=v(2),typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(_){return function(S){return x([_,S])}}function x(_){if(s)throw new TypeError("Generator is already executing.");for(;p&&(p=0,_[0]&&(a=0)),a;)try{if(s=1,u&&(d=_[0]&2?u.return:_[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,_[1])).done)return d;switch(u=0,d&&(_=[_[0]&2,d.value]),_[0]){case 0:case 1:d=_;break;case 4:return a.label++,{value:_[1],done:!1};case 5:a.label++,u=_[1],_=[0];continue;case 7:_=a.ops.pop(),a.trys.pop();continue;default:if(d=a.trys,!(d=d.length>0&&d[d.length-1])&&(_[0]===6||_[0]===2)){a=0;continue}if(_[0]===3&&(!d||_[1]>d[0]&&_[1]<d[3])){a.label=_[1];break}if(_[0]===6&&a.label<d[1]){a.label=d[1],d=_;break}if(d&&a.label<d[2]){a.label=d[2],a.ops.push(_);break}d[2]&&a.ops.pop(),a.trys.pop();continue}_=i.call(c,a)}catch(S){_=[6,S],u=0}finally{s=d=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}}var lu=Object.create?(function(c,i,a,s){s===void 0&&(s=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(c,s,u)}):(function(c,i,a,s){s===void 0&&(s=a),c[s]=i[a]});function Ey(c,i){for(var a in c)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&lu(i,c,a)}function Qc(c){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&c[i],s=0;if(a)return a.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&s>=c.length&&(c=void 0),{value:c&&c[s++],done:!c}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yh(c,i){var a=typeof Symbol=="function"&&c[Symbol.iterator];if(!a)return c;var s=a.call(c),u,d=[],p;try{for(;(i===void 0||i-- >0)&&!(u=s.next()).done;)d.push(u.value)}catch(v){p={error:v}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(p)throw p.error}}return d}function Cy(){for(var c=[],i=0;i<arguments.length;i++)c=c.concat(Yh(arguments[i]));return c}function jy(){for(var c=0,i=0,a=arguments.length;i<a;i++)c+=arguments[i].length;for(var s=Array(c),u=0,i=0;i<a;i++)for(var d=arguments[i],p=0,v=d.length;p<v;p++,u++)s[u]=d[p];return s}function Ay(c,i,a){if(a||arguments.length===2)for(var s=0,u=i.length,d;s<u;s++)(d||!(s in i))&&(d||(d=Array.prototype.slice.call(i,0,s)),d[s]=i[s]);return c.concat(d||Array.prototype.slice.call(i))}function Bs(c){return this instanceof Bs?(this.v=c,this):new Bs(c)}function Oy(c,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(c,i||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(A){return function(R){return Promise.resolve(R).then(A,T)}}function v(A,R){s[A]&&(u[A]=function(P){return new Promise(function(M,K){d.push([A,P,M,K])>1||x(A,P)})},R&&(u[A]=R(u[A])))}function x(A,R){try{_(s[A](R))}catch(P){E(d[0][3],P)}}function _(A){A.value instanceof Bs?Promise.resolve(A.value.v).then(S,T):E(d[0][2],A)}function S(A){x("next",A)}function T(A){x("throw",A)}function E(A,R){A(R),d.shift(),d.length&&x(d[0][0],d[0][1])}}function Ry(c){var i,a;return i={},s("next"),s("throw",function(u){throw u}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(u,d){i[u]=c[u]?function(p){return(a=!a)?{value:Bs(c[u](p)),done:!1}:d?d(p):p}:d}}function Ly(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=c[Symbol.asyncIterator],a;return i?i.call(c):(c=typeof Qc=="function"?Qc(c):c[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(d){a[d]=c[d]&&function(p){return new Promise(function(v,x){p=c[d](p),u(v,x,p.done,p.value)})}}function u(d,p,v,x){Promise.resolve(x).then(function(_){d({value:_,done:v})},p)}}function ky(c,i){return Object.defineProperty?Object.defineProperty(c,"raw",{value:i}):c.raw=i,c}var R0=Object.create?(function(c,i){Object.defineProperty(c,"default",{enumerable:!0,value:i})}):function(c,i){c.default=i},Dh=function(c){return Dh=Object.getOwnPropertyNames||function(i){var a=[];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[a.length]=s);return a},Dh(c)};function zy(c){if(c&&c.__esModule)return c;var i={};if(c!=null)for(var a=Dh(c),s=0;s<a.length;s++)a[s]!=="default"&&lu(i,c,a[s]);return R0(i,c),i}function My(c){return c&&c.__esModule?c:{default:c}}function Py(c,i,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?c!==i||!s:!i.has(c))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(c):s?s.value:i.get(c)}function Dy(c,i,a,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?c!==i||!u:!i.has(c))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(c,a):u?u.value=a:i.set(c,a),a}function Ny(c,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof c=="function"?i===c:c.has(i)}function By(c,i,a){if(i!=null){if(typeof i!="object"&&typeof i!="function")throw new TypeError("Object expected.");var s,u;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=i[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=i[Symbol.dispose],a&&(u=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");u&&(s=function(){try{u.call(this)}catch(d){return Promise.reject(d)}}),c.stack.push({value:i,dispose:s,async:a})}else a&&c.stack.push({async:!0});return i}var L0=typeof SuppressedError=="function"?SuppressedError:function(c,i,a){var s=new Error(a);return s.name="SuppressedError",s.error=c,s.suppressed=i,s};function Uy(c){function i(d){c.error=c.hasError?new L0(d,c.error,"An error was suppressed during disposal."):d,c.hasError=!0}var a,s=0;function u(){for(;a=c.stack.pop();)try{if(!a.async&&s===1)return s=0,c.stack.push(a),Promise.resolve().then(u);if(a.dispose){var d=a.dispose.call(a.value);if(a.async)return s|=2,Promise.resolve(d).then(u,function(p){return i(p),u()})}else s|=1}catch(p){i(p)}if(s===1)return c.hasError?Promise.reject(c.error):Promise.resolve();if(c.hasError)throw c.error}return u()}function Iy(c,i){return typeof c=="string"&&/^\.\.?\//.test(c)?c.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,s,u,d,p){return s?i?".jsx":".js":u&&(!d||!p)?a:u+d+"."+p.toLowerCase()+"js"}):c}const k0={__extends:my,__assign:Jc,__rest:Is,__decorate:yy,__param:vy,__esDecorate:_y,__runInitializers:xy,__propKey:by,__setFunctionName:wy,__metadata:Sy,__awaiter:me,__generator:Ty,__createBinding:lu,__exportStar:Ey,__values:Qc,__read:Yh,__spread:Cy,__spreadArrays:jy,__spreadArray:Ay,__await:Bs,__asyncGenerator:Oy,__asyncDelegator:Ry,__asyncValues:Ly,__makeTemplateObject:ky,__importStar:zy,__importDefault:My,__classPrivateFieldGet:Py,__classPrivateFieldSet:Dy,__classPrivateFieldIn:Ny,__addDisposableResource:By,__disposeResources:Uy,__rewriteRelativeImportExtension:Iy},z0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:By,get __assign(){return Jc},__asyncDelegator:Ry,__asyncGenerator:Oy,__asyncValues:Ly,__await:Bs,__awaiter:me,__classPrivateFieldGet:Py,__classPrivateFieldIn:Ny,__classPrivateFieldSet:Dy,__createBinding:lu,__decorate:yy,__disposeResources:Uy,__esDecorate:_y,__exportStar:Ey,__extends:my,__generator:Ty,__importDefault:My,__importStar:zy,__makeTemplateObject:ky,__metadata:Sy,__param:vy,__propKey:by,__read:Yh,__rest:Is,__rewriteRelativeImportExtension:Iy,__runInitializers:xy,__setFunctionName:wy,__spread:Cy,__spreadArray:Ay,__spreadArrays:jy,__values:Qc,default:k0},Symbol.toStringTag,{value:"Module"})),M0="modulepreload",P0=function(c){return"/"+c},Rm={},Hs=function(i,a,s){let u=Promise.resolve();if(a&&a.length>0){let _=function(S){return Promise.all(S.map(T=>Promise.resolve(T).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var p=_;document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),x=v?.nonce||v?.getAttribute("nonce");u=_(a.map(S=>{if(S=P0(S),S in Rm)return;Rm[S]=!0;const T=S.endsWith(".css"),E=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${E}`))return;const A=document.createElement("link");if(A.rel=T?"stylesheet":M0,T||(A.as="script"),A.crossOrigin="",A.href=S,x&&A.setAttribute("nonce",x),document.head.appendChild(A),T)return new Promise((R,P)=>{A.addEventListener("load",R),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${S}`)))})}))}function d(v){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=v,window.dispatchEvent(x),!x.defaultPrevented)throw v}return u.then(v=>{for(const x of v||[])x.status==="rejected"&&d(x.reason);return i().catch(d)})},D0=c=>{let i;return c?i=c:typeof fetch>"u"?i=(...a)=>Hs(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...a)):i=fetch,(...a)=>i(...a)};class Fh extends Error{constructor(i,a="FunctionsError",s){super(i),this.name=a,this.context=s}}class Lm extends Fh{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class km extends Fh{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class zm extends Fh{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var Nh;(function(c){c.Any="any",c.ApNortheast1="ap-northeast-1",c.ApNortheast2="ap-northeast-2",c.ApSouth1="ap-south-1",c.ApSoutheast1="ap-southeast-1",c.ApSoutheast2="ap-southeast-2",c.CaCentral1="ca-central-1",c.EuCentral1="eu-central-1",c.EuWest1="eu-west-1",c.EuWest2="eu-west-2",c.EuWest3="eu-west-3",c.SaEast1="sa-east-1",c.UsEast1="us-east-1",c.UsWest1="us-west-1",c.UsWest2="us-west-2"})(Nh||(Nh={}));class N0{constructor(i,{headers:a={},customFetch:s,region:u=Nh.Any}={}){this.url=i,this.headers=a,this.region=u,this.fetch=D0(s)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i){return me(this,arguments,void 0,function*(a,s={}){var u;try{const{headers:d,method:p,body:v,signal:x}=s;let _={},{region:S}=s;S||(S=this.region);const T=new URL(`${this.url}/${a}`);S&&S!=="any"&&(_["x-region"]=S,T.searchParams.set("forceFunctionRegion",S));let E;v&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",E=v):typeof v=="string"?(_["Content-Type"]="text/plain",E=v):typeof FormData<"u"&&v instanceof FormData?E=v:(_["Content-Type"]="application/json",E=JSON.stringify(v)):E=v;const A=yield this.fetch(T.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:E,signal:x}).catch(K=>{throw K.name==="AbortError"?K:new Lm(K)}),R=A.headers.get("x-relay-error");if(R&&R==="true")throw new km(A);if(!A.ok)throw new zm(A);let P=((u=A.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),M;return P==="application/json"?M=yield A.json():P==="application/octet-stream"||P==="application/pdf"?M=yield A.blob():P==="text/event-stream"?M=A:P==="multipart/form-data"?M=yield A.formData():M=yield A.text(),{data:M,error:null,response:A}}catch(d){return d instanceof Error&&d.name==="AbortError"?{data:null,error:new Lm(d)}:{data:null,error:d,response:d instanceof zm||d instanceof km?d.context:void 0}}})}}var ln={};const $s=ly(z0);var Uc={},Ic={},Hc={},$c={},qc={},B0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Us=B0();const U0=Us.fetch,Hy=Us.fetch.bind(Us),$y=Us.Headers,I0=Us.Request,H0=Us.Response,Ha=Object.freeze(Object.defineProperty({__proto__:null,Headers:$y,Request:I0,Response:H0,default:Hy,fetch:U0},Symbol.toStringTag,{value:"Module"})),$0=ly(Ha);var Zc={},Mm;function qy(){if(Mm)return Zc;Mm=1,Object.defineProperty(Zc,"__esModule",{value:!0});class c extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Zc.default=c,Zc}var Pm;function Zy(){if(Pm)return qc;Pm=1,Object.defineProperty(qc,"__esModule",{value:!0});const c=$s,i=c.__importDefault($0),a=c.__importDefault(qy());class s{constructor(d){var p,v;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(p=d.shouldThrowOnError)!==null&&p!==void 0?p:!1,this.signal=d.signal,this.isMaybeSingle=(v=d.isMaybeSingle)!==null&&v!==void 0?v:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,p){return this.headers=new Headers(this.headers),this.headers.set(d,p),this}then(d,p){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const v=this.fetch;let x=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async _=>{var S,T,E,A;let R=null,P=null,M=null,K=_.status,H=_.statusText;if(_.ok){if(this.method!=="HEAD"){const oe=await _.text();oe===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((S=this.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?P=oe:P=JSON.parse(oe))}const F=(T=this.headers.get("Prefer"))===null||T===void 0?void 0:T.match(/count=(exact|planned|estimated)/),Y=(E=_.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");F&&Y&&Y.length>1&&(M=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(R={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,M=null,K=406,H="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const F=await _.text();try{R=JSON.parse(F),Array.isArray(R)&&_.status===404&&(P=[],R=null,K=200,H="OK")}catch{_.status===404&&F===""?(K=204,H="No Content"):R={message:F}}if(R&&this.isMaybeSingle&&(!((A=R?.details)===null||A===void 0)&&A.includes("0 rows"))&&(R=null,K=200,H="OK"),R&&this.shouldThrowOnError)throw new a.default(R)}return{error:R,data:P,count:M,status:K,statusText:H}});return this.shouldThrowOnError||(x=x.catch(_=>{var S,T,E;return{error:{message:`${(S=_?.name)!==null&&S!==void 0?S:"FetchError"}: ${_?.message}`,details:`${(T=_?.stack)!==null&&T!==void 0?T:""}`,hint:"",code:`${(E=_?.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),x.then(d,p)}returns(){return this}overrideTypes(){return this}}return qc.default=s,qc}var Dm;function Vy(){if(Dm)return $c;Dm=1,Object.defineProperty($c,"__esModule",{value:!0});const i=$s.__importDefault(Zy());class a extends i.default{select(u){let d=!1;const p=(u??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join("");return this.url.searchParams.set("select",p),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:p,foreignTable:v,referencedTable:x=v}={}){const _=x?`${x}.order`:"order",S=this.url.searchParams.get(_);return this.url.searchParams.set(_,`${S?`${S},`:""}${u}.${d?"asc":"desc"}${p===void 0?"":p?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:p=d}={}){const v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(v,`${u}`),this}range(u,d,{foreignTable:p,referencedTable:v=p}={}){const x=typeof v>"u"?"offset":`${v}.offset`,_=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(x,`${u}`),this.url.searchParams.set(_,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:p=!1,buffers:v=!1,wal:x=!1,format:_="text"}={}){var S;const T=[u?"analyze":null,d?"verbose":null,p?"settings":null,v?"buffers":null,x?"wal":null].filter(Boolean).join("|"),E=(S=this.headers.get("Accept"))!==null&&S!==void 0?S:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${_}; for="${E}"; options=${T};`),_==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return $c.default=a,$c}var Nm;function Xh(){if(Nm)return Hc;Nm=1,Object.defineProperty(Hc,"__esModule",{value:!0});const i=$s.__importDefault(Vy());class a extends i.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const p=Array.from(new Set(d)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(u,`in.(${p})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:p,type:v}={}){let x="";v==="plain"?x="pl":v==="phrase"?x="ph":v==="websearch"&&(x="w");const _=p===void 0?"":`(${p})`;return this.url.searchParams.append(u,`${x}fts${_}.${d}`),this}match(u){return Object.entries(u).forEach(([d,p])=>{this.url.searchParams.append(d,`eq.${p}`)}),this}not(u,d,p){return this.url.searchParams.append(u,`not.${d}.${p}`),this}or(u,{foreignTable:d,referencedTable:p=d}={}){const v=p?`${p}.or`:"or";return this.url.searchParams.append(v,`(${u})`),this}filter(u,d,p){return this.url.searchParams.append(u,`${d}.${p}`),this}}return Hc.default=a,Hc}var Bm;function Gy(){if(Bm)return Ic;Bm=1,Object.defineProperty(Ic,"__esModule",{value:!0});const i=$s.__importDefault(Xh());class a{constructor(u,{headers:d={},schema:p,fetch:v}){this.url=u,this.headers=new Headers(d),this.schema=p,this.fetch=v}select(u,d){const{head:p=!1,count:v}=d??{},x=p?"HEAD":"GET";let _=!1;const S=(u??"*").split("").map(T=>/\s/.test(T)&&!_?"":(T==='"'&&(_=!_),T)).join("");return this.url.searchParams.set("select",S),v&&this.headers.append("Prefer",`count=${v}`),new i.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:p=!0}={}){var v;const x="POST";if(d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const _=u.reduce((S,T)=>S.concat(Object.keys(T)),[]);if(_.length>0){const S=[...new Set(_)].map(T=>`"${T}"`);this.url.searchParams.set("columns",S.join(","))}}return new i.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:p=!1,count:v,defaultToNull:x=!0}={}){var _;const S="POST";if(this.headers.append("Prefer",`resolution=${p?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),v&&this.headers.append("Prefer",`count=${v}`),x||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const T=u.reduce((E,A)=>E.concat(Object.keys(A)),[]);if(T.length>0){const E=[...new Set(T)].map(A=>`"${A}"`);this.url.searchParams.set("columns",E.join(","))}}return new i.default({method:S,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}update(u,{count:d}={}){var p;const v="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}delete({count:u}={}){var d;const p="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new i.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ic.default=a,Ic}var Um;function q0(){if(Um)return Uc;Um=1,Object.defineProperty(Uc,"__esModule",{value:!0});const c=$s,i=c.__importDefault(Gy()),a=c.__importDefault(Xh());class s{constructor(d,{headers:p={},schema:v,fetch:x}={}){this.url=d,this.headers=new Headers(p),this.schemaName=v,this.fetch=x}from(d){const p=new URL(`${this.url}/${d}`);return new i.default(p,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new s(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,p={},{head:v=!1,get:x=!1,count:_}={}){var S;let T;const E=new URL(`${this.url}/rpc/${d}`);let A;v||x?(T=v?"HEAD":"GET",Object.entries(p).filter(([P,M])=>M!==void 0).map(([P,M])=>[P,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([P,M])=>{E.searchParams.append(P,M)})):(T="POST",A=p);const R=new Headers(this.headers);return _&&R.set("Prefer",`count=${_}`),new a.default({method:T,url:E,headers:R,schema:this.schemaName,body:A,fetch:(S=this.fetch)!==null&&S!==void 0?S:fetch})}}return Uc.default=s,Uc}var Im;function Z0(){if(Im)return ln;Im=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.PostgrestError=ln.PostgrestBuilder=ln.PostgrestTransformBuilder=ln.PostgrestFilterBuilder=ln.PostgrestQueryBuilder=ln.PostgrestClient=void 0;const c=$s,i=c.__importDefault(q0());ln.PostgrestClient=i.default;const a=c.__importDefault(Gy());ln.PostgrestQueryBuilder=a.default;const s=c.__importDefault(Xh());ln.PostgrestFilterBuilder=s.default;const u=c.__importDefault(Vy());ln.PostgrestTransformBuilder=u.default;const d=c.__importDefault(Zy());ln.PostgrestBuilder=d.default;const p=c.__importDefault(qy());return ln.PostgrestError=p.default,ln.default={PostgrestClient:i.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:p.default},ln}var V0=Z0();const G0=au(V0),{PostgrestClient:W0,PostgrestQueryBuilder:wS,PostgrestFilterBuilder:SS,PostgrestTransformBuilder:TS,PostgrestBuilder:ES,PostgrestError:CS}=G0;class K0{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const s=a.node,u=parseInt(s.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let a=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(a+=`

Suggested solution: ${i.workaround}`),new Error(a)}static createWebSocket(i,a){const s=this.getWebSocketConstructor();return new s(i,a)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const Y0="2.76.1",F0=`realtime-js/${Y0}`,X0="1.0.0",Bh=1e4,J0=1e3,Q0=100;var tl;(function(c){c[c.connecting=0]="connecting",c[c.open=1]="open",c[c.closing=2]="closing",c[c.closed=3]="closed"})(tl||(tl={}));var Wt;(function(c){c.closed="closed",c.errored="errored",c.joined="joined",c.joining="joining",c.leaving="leaving"})(Wt||(Wt={}));var pi;(function(c){c.close="phx_close",c.error="phx_error",c.join="phx_join",c.reply="phx_reply",c.leave="phx_leave",c.access_token="access_token"})(pi||(pi={}));var Uh;(function(c){c.websocket="websocket"})(Uh||(Uh={}));var Da;(function(c){c.Connecting="connecting",c.Open="open",c.Closing="closing",c.Closed="closed"})(Da||(Da={}));class ex{constructor(){this.HEADER_LENGTH=1}decode(i,a){return i.constructor===ArrayBuffer?a(this._binaryDecode(i)):a(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const a=new DataView(i),s=new TextDecoder;return this._decodeBroadcast(i,a,s)}_decodeBroadcast(i,a,s){const u=a.getUint8(1),d=a.getUint8(2);let p=this.HEADER_LENGTH+2;const v=s.decode(i.slice(p,p+u));p=p+u;const x=s.decode(i.slice(p,p+d));p=p+d;const _=JSON.parse(s.decode(i.slice(p,i.byteLength)));return{ref:null,topic:v,event:x,payload:_}}}class Wy{constructor(i,a){this.callback=i,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(c){c.abstime="abstime",c.bool="bool",c.date="date",c.daterange="daterange",c.float4="float4",c.float8="float8",c.int2="int2",c.int4="int4",c.int4range="int4range",c.int8="int8",c.int8range="int8range",c.json="json",c.jsonb="jsonb",c.money="money",c.numeric="numeric",c.oid="oid",c.reltime="reltime",c.text="text",c.time="time",c.timestamp="timestamp",c.timestamptz="timestamptz",c.timetz="timetz",c.tsrange="tsrange",c.tstzrange="tstzrange"})(bt||(bt={}));const Hm=(c,i,a={})=>{var s;const u=(s=a.skipTypes)!==null&&s!==void 0?s:[];return i?Object.keys(i).reduce((d,p)=>(d[p]=tx(p,c,i,u),d),{}):{}},tx=(c,i,a,s)=>{const u=i.find(v=>v.name===c),d=u?.type,p=a[c];return d&&!s.includes(d)?Ky(d,p):Ih(p)},Ky=(c,i)=>{if(c.charAt(0)==="_"){const a=c.slice(1,c.length);return ax(i,a)}switch(c){case bt.bool:return nx(i);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return ix(i);case bt.json:case bt.jsonb:return rx(i);case bt.timestamp:return sx(i);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return Ih(i);default:return Ih(i)}},Ih=c=>c,nx=c=>{switch(c){case"t":return!0;case"f":return!1;default:return c}},ix=c=>{if(typeof c=="string"){const i=parseFloat(c);if(!Number.isNaN(i))return i}return c},rx=c=>{if(typeof c=="string")try{return JSON.parse(c)}catch(i){return console.log(`JSON parse error: ${i}`),c}return c},ax=(c,i)=>{if(typeof c!="string")return c;const a=c.length-1,s=c[a];if(c[0]==="{"&&s==="}"){let d;const p=c.slice(1,a);try{d=JSON.parse("["+p+"]")}catch{d=p?p.split(","):[]}return d.map(v=>Ky(i,v))}return c},sx=c=>typeof c=="string"?c.replace(" ","T"):c,Yy=c=>{const i=new URL(c);return i.protocol=i.protocol.replace(/^ws/i,"http"),i.pathname=i.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),i.pathname===""||i.pathname==="/"?i.pathname="/api/broadcast":i.pathname=i.pathname+"/api/broadcast",i.href};class bh{constructor(i,a,s={},u=Bh){this.channel=i,this.event=a,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,a){var s;return this._hasReceived(i)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:i,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:a}){this.recHooks.filter(s=>s.status===i).forEach(s=>s.callback(a))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var $m;(function(c){c.SYNC="sync",c.JOIN="join",c.LEAVE="leave"})($m||($m={}));class nl{constructor(i,a){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:d,onLeave:p,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nl.syncState(this.state,u,d,p),this.pendingDiffs.forEach(x=>{this.state=nl.syncDiff(this.state,x,d,p)}),this.pendingDiffs=[],v()}),this.channel._on(s.diff,{},u=>{const{onJoin:d,onLeave:p,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=nl.syncDiff(this.state,u,d,p),v())}),this.onJoin((u,d,p)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:p})}),this.onLeave((u,d,p)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,a,s,u){const d=this.cloneDeep(i),p=this.transformState(a),v={},x={};return this.map(d,(_,S)=>{p[_]||(x[_]=S)}),this.map(p,(_,S)=>{const T=d[_];if(T){const E=S.map(M=>M.presence_ref),A=T.map(M=>M.presence_ref),R=S.filter(M=>A.indexOf(M.presence_ref)<0),P=T.filter(M=>E.indexOf(M.presence_ref)<0);R.length>0&&(v[_]=R),P.length>0&&(x[_]=P)}else v[_]=S}),this.syncDiff(d,{joins:v,leaves:x},s,u)}static syncDiff(i,a,s,u){const{joins:d,leaves:p}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(d,(v,x)=>{var _;const S=(_=i[v])!==null&&_!==void 0?_:[];if(i[v]=this.cloneDeep(x),S.length>0){const T=i[v].map(A=>A.presence_ref),E=S.filter(A=>T.indexOf(A.presence_ref)<0);i[v].unshift(...E)}s(v,S,x)}),this.map(p,(v,x)=>{let _=i[v];if(!_)return;const S=x.map(T=>T.presence_ref);_=_.filter(T=>S.indexOf(T.presence_ref)<0),i[v]=_,u(v,_,x),_.length===0&&delete i[v]}),i}static map(i,a){return Object.getOwnPropertyNames(i).map(s=>a(s,i[s]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((a,s)=>{const u=i[s];return"metas"in u?a[s]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):a[s]=u,a},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qm;(function(c){c.ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE"})(qm||(qm={}));var il;(function(c){c.BROADCAST="broadcast",c.PRESENCE="presence",c.POSTGRES_CHANGES="postgres_changes",c.SYSTEM="system"})(il||(il={}));var nr;(function(c){c.SUBSCRIBED="SUBSCRIBED",c.TIMED_OUT="TIMED_OUT",c.CLOSED="CLOSED",c.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class Jh{constructor(i,a={config:{}},s){var u,d;if(this.topic=i,this.params=a,this.socket=s,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new bh(this,pi.join,this.params,this.timeout),this.rejoinTimer=new Wy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pi.reply,{},(p,v)=>{this._trigger(this._replyEventName(v),p)}),this.presence=new nl(this),this.broadcastEndpointURL=Yy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(i,a=this.timeout){var s,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:p,presence:v,private:x}}=this.params,_=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(A=>A.filter))!==null&&u!==void 0?u:[],S=!!this.bindings[il.PRESENCE]&&this.bindings[il.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,T={},E={broadcast:p,presence:Object.assign(Object.assign({},v),{enabled:S}),postgres_changes:_,private:x};this.socket.accessTokenValue&&(T.access_token=this.socket.accessTokenValue),this._onError(A=>i?.(nr.CHANNEL_ERROR,A)),this._onClose(()=>i?.(nr.CLOSED)),this.updateJoinPayload(Object.assign({config:E},T)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:A})=>{var R;if(this.socket.setAuth(),A===void 0){i?.(nr.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,M=(R=P?.length)!==null&&R!==void 0?R:0,K=[];for(let H=0;H<M;H++){const k=P[H],{filter:{event:F,schema:Y,table:oe,filter:ce}}=k,Ae=A&&A[H];if(Ae&&Ae.event===F&&Ae.schema===Y&&Ae.table===oe&&Ae.filter===ce)K.push(Object.assign(Object.assign({},k),{id:Ae.id}));else{this.unsubscribe(),this.state=Wt.errored,i?.(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=K,i&&i(nr.SUBSCRIBED);return}}).receive("error",A=>{this.state=Wt.errored,i?.(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{i?.(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,a={}){return await this.send({type:"presence",event:"track",payload:i},a.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,a,s){return this.state===Wt.joined&&i===il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,a,s)}async httpSend(i,a,s={}){var u;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const p={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})},v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(v.status===202)return{success:!0};let x=v.statusText;try{const _=await v.json();x=_.error||_.message||x}catch{}return Promise.reject(new Error(x))}async send(i,a={}){var s,u;if(!this._canPush()&&i.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:p}=i,x={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:p,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=_.body)===null||u===void 0?void 0:u.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var p,v,x;const _=this._push(i.type,i,a.timeout||this.timeout);i.type==="broadcast"&&!(!((x=(v=(p=this.params)===null||p===void 0?void 0:p.config)===null||v===void 0?void 0:v.broadcast)===null||x===void 0)&&x.ack)&&d("ok"),_.receive("ok",()=>d("ok")),_.receive("error",()=>d("error")),_.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Wt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pi.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new bh(this,pi.leave,{},i),s.receive("ok",()=>{a(),u("ok")}).receive("timeout",()=>{a(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(i,a,s){const u=new AbortController,d=setTimeout(()=>u.abort(),s),p=await this.socket.fetch(i,Object.assign(Object.assign({},a),{signal:u.signal}));return clearTimeout(d),p}_push(i,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new bh(this,i,a,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>Q0){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(i,a,s){return a}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,a,s){var u,d;const p=i.toLocaleLowerCase(),{close:v,error:x,leave:_,join:S}=pi;if(s&&[v,x,_,S].indexOf(p)>=0&&s!==this._joinRef())return;let E=this._onMessage(p,a,s);if(a&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(A=>{var R,P,M;return((R=A.filter)===null||R===void 0?void 0:R.event)==="*"||((M=(P=A.filter)===null||P===void 0?void 0:P.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===p}).map(A=>A.callback(E,s)):(d=this.bindings[p])===null||d===void 0||d.filter(A=>{var R,P,M,K,H,k;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in A){const F=A.id,Y=(R=A.filter)===null||R===void 0?void 0:R.event;return F&&((P=a.ids)===null||P===void 0?void 0:P.includes(F))&&(Y==="*"||Y?.toLocaleLowerCase()===((M=a.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const F=(H=(K=A?.filter)===null||K===void 0?void 0:K.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return F==="*"||F===((k=a?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===p}).map(A=>{if(typeof E=="object"&&"ids"in E){const R=E.data,{schema:P,table:M,commit_timestamp:K,type:H,errors:k}=R;E=Object.assign(Object.assign({},{schema:P,table:M,commit_timestamp:K,eventType:H,new:{},old:{},errors:k}),this._getPayloadRecords(R))}A.callback(E,s)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,a,s){const u=i.toLocaleLowerCase(),d={type:u,filter:a,callback:s};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(i,a){const s=i.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===s&&Jh.isEqual(u.filter,a))})),this}static isEqual(i,a){if(Object.keys(i).length!==Object.keys(a).length)return!1;for(const s in i)if(i[s]!==a[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(pi.close,{},i)}_onError(i){this._on(pi.error,{},a=>i(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const a={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(a.new=Hm(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(a.old=Hm(i.columns,i.old_record)),a}}const wh=()=>{},Vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ox=[1e3,2e3,5e3,1e4],lx=1e4,cx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ux{constructor(i,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bh,this.transport=null,this.heartbeatIntervalMs=Vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wh,this.ref=0,this.reconnectTimer=null,this.logger=wh,this.conn=null,this.sendBuffer=[],this.serializer=new ex,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...p)=>Hs(async()=>{const{default:v}=await Promise.resolve().then(()=>Ha);return{default:v}},void 0).then(({default:v})=>v(...p)).catch(v=>{throw new Error(`Failed to load @supabase/node-fetch: ${v.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...p)=>d(...p)},!(!((s=a?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${i}/${Uh.websocket}`,this.httpEndpoint=Yy(i),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=K0.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const a=i.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:X0}))}disconnect(i,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},i?this.conn.close(i,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const a=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const i=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,a,s){this.logger(i,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case tl.connecting:return Da.Connecting;case tl.open:return Da.Open;case tl.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,a={config:{}}){const s=`realtime:${i}`,u=this.getChannels().find(d=>d.topic===s);if(u)return u;{const d=new Jh(`realtime:${i}`,a,this);return this.channels.push(d),d}}push(i){const{topic:a,event:s,payload:u,ref:d}=i,p=()=>{this.encode(i,v=>{var x;(x=this.conn)===null||x===void 0||x.send(v)})};this.log("push",`${a} ${s} (${d})`,u),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(J0,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let a=this.channels.find(s=>s.topic===i&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${i}"`),a.unsubscribe())}_remove(i){this.channels=this.channels.filter(a=>a.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(_){this.log("error","error in heartbeat callback",_)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:u,payload:d,ref:p}=a,v=p?`(${p})`:"",x=d.status||"";this.log("receive",`${x} ${s} ${u} ${v}`.trim(),d),this.channels.filter(_=>_._isMember(s)).forEach(_=>_._trigger(u,d,p)),this._triggerStateCallbacks("message",a)})}_clearTimer(i){var a;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var a;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(pi.error))}_appendParams(i,a){if(Object.keys(a).length===0)return i;const s=i.match(/\?/)?"&":"?",u=new URLSearchParams(a);return`${i}${s}${u}`}_workerObjectUrl(i){let a;if(i)a=i;else{const s=new Blob([cx],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(i,a=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(i=null){let a;i?a=i:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(s=>{const u={access_token:a,version:F0};a&&s.updateJoinPayload(u),s.joinedOnce&&s._isJoined()&&s._push(pi.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${i}`,a)})}_triggerStateCallbacks(i,a){try{this.stateChangeCallbacks[i].forEach(s=>{try{s(a)}catch(u){this.log("error",`error in ${i} callback`,u)}})}catch(s){this.log("error",`error triggering ${i} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Wy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var a,s,u,d,p,v,x,_,S;if(this.transport=(a=i?.transport)!==null&&a!==void 0?a:null,this.timeout=(s=i?.timeout)!==null&&s!==void 0?s:Bh,this.heartbeatIntervalMs=(u=i?.heartbeatIntervalMs)!==null&&u!==void 0?u:Vc.HEARTBEAT_INTERVAL,this.worker=(d=i?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(p=i?.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(v=i?.heartbeatCallback)!==null&&v!==void 0?v:wh,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=i?.reconnectAfterMs)!==null&&x!==void 0?x:(T=>ox[T-1]||lx),this.encode=(_=i?.encode)!==null&&_!==void 0?_:((T,E)=>E(JSON.stringify(T))),this.decode=(S=i?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class Qh extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function jt(c){return typeof c=="object"&&c!==null&&"__isStorageError"in c}class dx extends Qh{constructor(i,a,s){super(i),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hh extends Qh{constructor(i,a){super(i),this.name="StorageUnknownError",this.originalError=a}}const ef=c=>{let i;return c?i=c:typeof fetch>"u"?i=(...a)=>Hs(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...a)):i=fetch,(...a)=>i(...a)},hx=()=>me(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hs(()=>Promise.resolve().then(()=>Ha),void 0)).Response:Response}),$h=c=>{if(Array.isArray(c))return c.map(a=>$h(a));if(typeof c=="function"||c!==Object(c))return c;const i={};return Object.entries(c).forEach(([a,s])=>{const u=a.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[u]=$h(s)}),i},fx=c=>{if(typeof c!="object"||c===null)return!1;const i=Object.getPrototypeOf(c);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in c)&&!(Symbol.iterator in c)},Sh=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),px=(c,i,a)=>me(void 0,void 0,void 0,function*(){const s=yield hx();c instanceof s&&!a?.noResolveJson?c.json().then(u=>{const d=c.status||500,p=u?.statusCode||d+"";i(new dx(Sh(u),d,p))}).catch(u=>{i(new Hh(Sh(u),u))}):i(new Hh(Sh(c),c))}),gx=(c,i,a,s)=>{const u={method:c,headers:i?.headers||{}};return c==="GET"||!s?u:(fx(s)?(u.headers=Object.assign({"Content-Type":"application/json"},i?.headers),u.body=JSON.stringify(s)):u.body=s,i?.duplex&&(u.duplex=i.duplex),Object.assign(Object.assign({},u),a))};function cl(c,i,a,s,u,d){return me(this,void 0,void 0,function*(){return new Promise((p,v)=>{c(a,gx(i,s,u,d)).then(x=>{if(!x.ok)throw x;return s?.noResolveJson?x:x.json()}).then(x=>p(x)).catch(x=>px(x,v,s))})})}function sl(c,i,a,s){return me(this,void 0,void 0,function*(){return cl(c,"GET",i,a,s)})}function fi(c,i,a,s,u){return me(this,void 0,void 0,function*(){return cl(c,"POST",i,s,u,a)})}function qh(c,i,a,s,u){return me(this,void 0,void 0,function*(){return cl(c,"PUT",i,s,u,a)})}function mx(c,i,a,s){return me(this,void 0,void 0,function*(){return cl(c,"HEAD",i,Object.assign(Object.assign({},a),{noResolveJson:!0}),s)})}function tf(c,i,a,s,u){return me(this,void 0,void 0,function*(){return cl(c,"DELETE",i,s,u,a)})}class yx{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a}then(i,a){return this.execute().then(i,a)}execute(){return me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}}var Fy;class vx{constructor(i,a){this.downloadFn=i,this.shouldThrowOnError=a,this[Fy]="BlobDownloadBuilder",this.promise=null}asStream(){return new yx(this.downloadFn,this.shouldThrowOnError)}then(i,a){return this.getPromise().then(i,a)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}}Fy=Symbol.toStringTag;const _x={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xx{constructor(i,a={},s,u){this.shouldThrowOnError=!1,this.url=i,this.headers=a,this.bucketId=s,this.fetch=ef(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(i,a,s,u){return me(this,void 0,void 0,function*(){try{let d;const p=Object.assign(Object.assign({},Zm),u);let v=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(p.upsert)});const x=p.metadata;typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),x&&d.append("metadata",this.encodeMetadata(x)),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",p.cacheControl),x&&d.append("metadata",this.encodeMetadata(x))):(d=s,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType,x&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),u?.headers&&(v=Object.assign(Object.assign({},v),u.headers));const _=this._removeEmptyFolders(a),S=this._getFinalPath(_),T=yield(i=="PUT"?qh:fi)(this.fetch,`${this.url}/object/${S}`,d,Object.assign({headers:v},p?.duplex?{duplex:p.duplex}:{}));return{data:{path:_,id:T.Id,fullPath:T.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(jt(d))return{data:null,error:d};throw d}})}upload(i,a,s){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,a,s)})}uploadToSignedUrl(i,a,s,u){return me(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),p=this._getFinalPath(d),v=new URL(this.url+`/object/upload/sign/${p}`);v.searchParams.set("token",a);try{let x;const _=Object.assign({upsert:Zm.upsert},u),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(_.upsert)});typeof Blob<"u"&&s instanceof Blob?(x=new FormData,x.append("cacheControl",_.cacheControl),x.append("",s)):typeof FormData<"u"&&s instanceof FormData?(x=s,x.append("cacheControl",_.cacheControl)):(x=s,S["cache-control"]=`max-age=${_.cacheControl}`,S["content-type"]=_.contentType);const T=yield qh(this.fetch,v.toString(),x,{headers:S});return{data:{path:d,fullPath:T.Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(jt(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(i,a){return me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const u=Object.assign({},this.headers);a?.upsert&&(u["x-upsert"]="true");const d=yield fi(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:u}),p=new URL(this.url+d.url),v=p.searchParams.get("token");if(!v)throw new Qh("No token returned by API");return{data:{signedUrl:p.toString(),path:i,token:v},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}update(i,a,s){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,a,s)})}move(i,a,s){return me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(jt(u))return{data:null,error:u};throw u}})}copy(i,a,s){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield fi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(jt(u))return{data:null,error:u};throw u}})}createSignedUrl(i,a,s){return me(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),d=yield fi(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const p=s?.download?`&download=${s.download===!0?"":s.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${p}`)},{data:d,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(jt(u))return{data:null,error:u};throw u}})}createSignedUrls(i,a,s){return me(this,void 0,void 0,function*(){try{const u=yield fi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:i},{headers:this.headers}),d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${d}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(jt(u))return{data:null,error:u};throw u}})}download(i,a){const u=typeof a?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(a?.transform||{}),p=d?`?${d}`:"",v=this._getFinalPath(i),x=()=>sl(this.fetch,`${this.url}/${u}/${v}${p}`,{headers:this.headers,noResolveJson:!0});return new vx(x,this.shouldThrowOnError)}info(i){return me(this,void 0,void 0,function*(){const a=this._getFinalPath(i);try{const s=yield sl(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:$h(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}exists(i){return me(this,void 0,void 0,function*(){const a=this._getFinalPath(i);try{return yield mx(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s)&&s instanceof Hh){const u=s.originalError;if([400,404].includes(u?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(i,a){const s=this._getFinalPath(i),u=[],d=a?.download?`download=${a.download===!0?"":a.download}`:"";d!==""&&u.push(d);const v=typeof a?.transform<"u"?"render/image":"object",x=this.transformOptsToQueryString(a?.transform||{});x!==""&&u.push(x);let _=u.join("&");return _!==""&&(_=`?${_}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${s}${_}`)}}}remove(i){return me(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}list(i,a,s){return me(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},_x),a),{prefix:i||""});return{data:yield fi(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},s),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(jt(u))return{data:null,error:u};throw u}})}listV2(i,a){return me(this,void 0,void 0,function*(){try{const s=Object.assign({},i);return{data:yield fi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}}const Xy="2.76.1",Jy={"X-Client-Info":`storage-js/${Xy}`};class bx{constructor(i,a={},s,u){this.shouldThrowOnError=!1;const d=new URL(i);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jy),a),this.fetch=ef(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return me(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}getBucket(i){return me(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}createBucket(i){return me(this,arguments,void 0,function*(a,s={public:!1}){try{return{data:yield fi(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(jt(u))return{data:null,error:u};throw u}})}updateBucket(i,a){return me(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}emptyBucket(i){return me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}deleteBucket(i){return me(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}}class wx{constructor(i,a={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jy),a),this.fetch=ef(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return me(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket`,{name:i},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}listBuckets(i){return me(this,void 0,void 0,function*(){try{const a=new URLSearchParams;i?.limit!==void 0&&a.set("limit",i.limit.toString()),i?.offset!==void 0&&a.set("offset",i.offset.toString()),i?.sortColumn&&a.set("sortColumn",i.sortColumn),i?.sortOrder&&a.set("sortOrder",i.sortOrder),i?.search&&a.set("search",i.search);const s=a.toString(),u=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,d=yield sl(this.fetch,u,{headers:this.headers});return{data:Array.isArray(d)?d.filter(v=>v.type==="ANALYTICS"):[],error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}deleteBucket(i){return me(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}}const nf={"X-Client-Info":`storage-js/${Xy}`,"Content-Type":"application/json"};class Qy extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Un(c){return typeof c=="object"&&c!==null&&"__isStorageVectorsError"in c}class Th extends Qy{constructor(i,a,s){super(i),this.name="StorageVectorsApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sx extends Qy{constructor(i,a){super(i),this.name="StorageVectorsUnknownError",this.originalError=a}}var Vm;(function(c){c.InternalError="InternalError",c.S3VectorConflictException="S3VectorConflictException",c.S3VectorNotFoundException="S3VectorNotFoundException",c.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",c.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",c.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Vm||(Vm={}));const rf=c=>{let i;return c?i=c:typeof fetch>"u"?i=(...a)=>Hs(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...a)):i=fetch,(...a)=>i(...a)},Tx=c=>{if(typeof c!="object"||c===null)return!1;const i=Object.getPrototypeOf(c);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in c)&&!(Symbol.iterator in c)},Gm=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),Ex=(c,i,a)=>me(void 0,void 0,void 0,function*(){if(c&&typeof c=="object"&&"status"in c&&"ok"in c&&typeof c.status=="number"&&!a?.noResolveJson){const u=c.status||500,d=c;if(typeof d.json=="function")d.json().then(p=>{const v=p?.statusCode||p?.code||u+"";i(new Th(Gm(p),u,v))}).catch(()=>{const p=u+"",v=d.statusText||`HTTP ${u} error`;i(new Th(v,u,p))});else{const p=u+"",v=d.statusText||`HTTP ${u} error`;i(new Th(v,u,p))}}else i(new Sx(Gm(c),c))}),Cx=(c,i,a,s)=>{const u={method:c,headers:i?.headers||{}};return s?(Tx(s)?(u.headers=Object.assign({"Content-Type":"application/json"},i?.headers),u.body=JSON.stringify(s)):u.body=s,Object.assign(Object.assign({},u),a)):u};function jx(c,i,a,s,u,d){return me(this,void 0,void 0,function*(){return new Promise((p,v)=>{c(a,Cx(i,s,u,d)).then(x=>{if(!x.ok)throw x;if(s?.noResolveJson)return x;const _=x.headers.get("content-type");return!_||!_.includes("application/json")?{}:x.json()}).then(x=>p(x)).catch(x=>Ex(x,v,s))})})}function In(c,i,a,s,u){return me(this,void 0,void 0,function*(){return jx(c,"POST",i,s,u,a)})}class Ax{constructor(i,a={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nf),a),this.fetch=rf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(i){return me(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateIndex`,i,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}getIndex(i,a){return me(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:i,indexName:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Un(s))return{data:null,error:s};throw s}})}listIndexes(i){return me(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/ListIndexes`,i,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}deleteIndex(i,a){return me(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:i,indexName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Un(s))return{data:null,error:s};throw s}})}}class Ox{constructor(i,a={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nf),a),this.fetch=rf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(i){return me(this,void 0,void 0,function*(){try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/PutVectors`,i,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}getVectors(i){return me(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectors`,i,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}listVectors(i){return me(this,void 0,void 0,function*(){try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:yield In(this.fetch,`${this.url}/ListVectors`,i,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}queryVectors(i){return me(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/QueryVectors`,i,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}deleteVectors(i){return me(this,void 0,void 0,function*(){try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/DeleteVectors`,i,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}}class Rx{constructor(i,a={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nf),a),this.fetch=rf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(i){return me(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}getBucket(i){return me(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:i},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}listBuckets(){return me(this,arguments,void 0,function*(i={}){try{return{data:yield In(this.fetch,`${this.url}/ListVectorBuckets`,i,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}deleteBucket(i){return me(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Un(a))return{data:null,error:a};throw a}})}}class Lx extends Rx{constructor(i,a={}){super(i,a.headers||{},a.fetch)}from(i){return new kx(this.url,this.headers,i,this.fetch)}}class kx extends Ax{constructor(i,a,s,u){super(i,a,u),this.vectorBucketName=s}createIndex(i){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return me(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const i=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return me(this,arguments,void 0,function*(a={}){return i.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(i){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return me(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,i)})}deleteIndex(i){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return me(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,i)})}index(i){return new zx(this.url,this.headers,this.vectorBucketName,i,this.fetch)}}class zx extends Ox{constructor(i,a,s,u,d){super(i,a,d),this.vectorBucketName=s,this.indexName=u}putVectors(i){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return me(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(i){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return me(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const i=Object.create(null,{listVectors:{get:()=>super.listVectors}});return me(this,arguments,void 0,function*(a={}){return i.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(i){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return me(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(i){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return me(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Mx extends bx{constructor(i,a={},s,u){super(i,a,s,u)}from(i){return new xx(this.url,this.headers,i,this.fetch)}get vectors(){return new Lx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wx(this.url+"/iceberg",this.headers,this.fetch)}}const Px="2.76.1";let Jo="";typeof Deno<"u"?Jo="deno":typeof document<"u"?Jo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jo="react-native":Jo="node";const Dx={"X-Client-Info":`supabase-js-${Jo}/${Px}`},Nx={headers:Dx},Bx={schema:"public"},Ux={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ix={},Hx=c=>{let i;return c?i=c:typeof fetch>"u"?i=Hy:i=fetch,(...a)=>i(...a)},$x=()=>typeof Headers>"u"?$y:Headers,qx=(c,i,a)=>{const s=Hx(a),u=$x();return async(d,p)=>{var v;const x=(v=await i())!==null&&v!==void 0?v:c;let _=new u(p?.headers);return _.has("apikey")||_.set("apikey",c),_.has("Authorization")||_.set("Authorization",`Bearer ${x}`),s(d,Object.assign(Object.assign({},p),{headers:_}))}};function Zx(c){return c.endsWith("/")?c:c+"/"}function Vx(c,i){var a,s;const{db:u,auth:d,realtime:p,global:v}=c,{db:x,auth:_,realtime:S,global:T}=i,E={db:Object.assign(Object.assign({},x),u),auth:Object.assign(Object.assign({},_),d),realtime:Object.assign(Object.assign({},S),p),storage:{},global:Object.assign(Object.assign(Object.assign({},T),v),{headers:Object.assign(Object.assign({},(a=T?.headers)!==null&&a!==void 0?a:{}),(s=v?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return c.accessToken?E.accessToken=c.accessToken:delete E.accessToken,E}function Gx(c){const i=c?.trim();if(!i)throw new Error("supabaseUrl is required.");if(!i.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Zx(i))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ev="2.76.1",Ps=30*1e3,Zh=3,Eh=Zh*Ps,Wx="http://localhost:9999",Kx="supabase.auth.token",Yx={"X-Client-Info":`gotrue-js/${ev}`},Vh="X-Supabase-Api-Version",tv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Fx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xx=600*1e3;class ol extends Error{constructor(i,a,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function we(c){return typeof c=="object"&&c!==null&&"__isAuthError"in c}class Jx extends ol{constructor(i,a,s){super(i,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function Qx(c){return we(c)&&c.name==="AuthApiError"}class Na extends ol{constructor(i,a){super(i),this.name="AuthUnknownError",this.originalError=a}}class Gr extends ol{constructor(i,a,s,u){super(i,s,u),this.name=a,this.status=s}}class Zr extends Gr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eb(c){return we(c)&&c.name==="AuthSessionMissingError"}class Rs extends Gr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gc extends Gr{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class Wc extends Gr{constructor(i,a=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tb(c){return we(c)&&c.name==="AuthImplicitGrantRedirectError"}class Wm extends Gr{constructor(i,a=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gh extends Gr{constructor(i,a){super(i,"AuthRetryableFetchError",a,void 0)}}function Ch(c){return we(c)&&c.name==="AuthRetryableFetchError"}class Km extends Gr{constructor(i,a,s){super(i,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class Wh extends Gr{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ym=` 	
\r=`.split(""),nb=(()=>{const c=new Array(128);for(let i=0;i<c.length;i+=1)c[i]=-1;for(let i=0;i<Ym.length;i+=1)c[Ym[i].charCodeAt(0)]=-2;for(let i=0;i<eu.length;i+=1)c[eu[i].charCodeAt(0)]=i;return c})();function Fm(c,i,a){if(c!==null)for(i.queue=i.queue<<8|c,i.queuedBits+=8;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;a(eu[s]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;a(eu[s]),i.queuedBits-=6}}function nv(c,i,a){const s=nb[c];if(s>-1)for(i.queue=i.queue<<6|s,i.queuedBits+=6;i.queuedBits>=8;)a(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(c)}"`)}}function Xm(c){const i=[],a=p=>{i.push(String.fromCodePoint(p))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=p=>{ab(p,s,a)};for(let p=0;p<c.length;p+=1)nv(c.charCodeAt(p),u,d);return i.join("")}function ib(c,i){if(c<=127){i(c);return}else if(c<=2047){i(192|c>>6),i(128|c&63);return}else if(c<=65535){i(224|c>>12),i(128|c>>6&63),i(128|c&63);return}else if(c<=1114111){i(240|c>>18),i(128|c>>12&63),i(128|c>>6&63),i(128|c&63);return}throw new Error(`Unrecognized Unicode codepoint: ${c.toString(16)}`)}function rb(c,i){for(let a=0;a<c.length;a+=1){let s=c.charCodeAt(a);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(c.charCodeAt(a+1)-56320&65535|u)+65536,a+=1}ib(s,i)}}function ab(c,i,a){if(i.utf8seq===0){if(c<=127){a(c);return}for(let s=1;s<6;s+=1)if((c>>7-s&1)===0){i.utf8seq=s;break}if(i.utf8seq===2)i.codepoint=c&31;else if(i.utf8seq===3)i.codepoint=c&15;else if(i.utf8seq===4)i.codepoint=c&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(c<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|c&63,i.utf8seq-=1,i.utf8seq===0&&a(i.codepoint)}}function Ns(c){const i=[],a={queue:0,queuedBits:0},s=u=>{i.push(u)};for(let u=0;u<c.length;u+=1)nv(c.charCodeAt(u),a,s);return new Uint8Array(i)}function sb(c){const i=[];return rb(c,a=>i.push(a)),new Uint8Array(i)}function Ba(c){const i=[],a={queue:0,queuedBits:0},s=u=>{i.push(u)};return c.forEach(u=>Fm(u,a,s)),Fm(null,a,s),i.join("")}function ob(c){return Math.round(Date.now()/1e3)+c}function lb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){const i=Math.random()*16|0;return(c=="x"?i:i&3|8).toString(16)})}const Bn=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},iv=()=>{if(!Bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const c=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(c,c),globalThis.localStorage.removeItem(c),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function cb(c){const i={},a=new URL(c);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((u,d)=>{i[d]=u})}catch{}return a.searchParams.forEach((s,u)=>{i[u]=s}),i}const rv=c=>{let i;return c?i=c:typeof fetch>"u"?i=(...a)=>Hs(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...a)):i=fetch,(...a)=>i(...a)},ub=c=>typeof c=="object"&&c!==null&&"status"in c&&"ok"in c&&"json"in c&&typeof c.json=="function",Ds=async(c,i,a)=>{await c.setItem(i,JSON.stringify(a))},Ma=async(c,i)=>{const a=await c.getItem(i);if(!a)return null;try{return JSON.parse(a)}catch{return a}},$r=async(c,i)=>{await c.removeItem(i)};class cu{constructor(){this.promise=new cu.promiseConstructor((i,a)=>{this.resolve=i,this.reject=a})}}cu.promiseConstructor=Promise;function jh(c){const i=c.split(".");if(i.length!==3)throw new Wh("Invalid JWT structure");for(let s=0;s<i.length;s++)if(!Fx.test(i[s]))throw new Wh("JWT not in base64url format");return{header:JSON.parse(Xm(i[0])),payload:JSON.parse(Xm(i[1])),signature:Ns(i[2]),raw:{header:i[0],payload:i[1]}}}async function db(c){return await new Promise(i=>{setTimeout(()=>i(null),c)})}function hb(c,i){return new Promise((s,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const p=await c(d);if(!i(d,null,p)){s(p);return}}catch(p){if(!i(d,p)){u(p);return}}})()})}function fb(c){return("0"+c.toString(16)).substr(-2)}function pb(){const i=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let u="";for(let d=0;d<56;d++)u+=a.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(i),Array.from(i,fb).join("")}async function gb(c){const a=new TextEncoder().encode(c),s=await crypto.subtle.digest("SHA-256",a),u=new Uint8Array(s);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function mb(c){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),c;const a=await gb(c);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ls(c,i,a=!1){const s=pb();let u=s;a&&(u+="/PASSWORD_RECOVERY"),await Ds(c,`${i}-code-verifier`,u);const d=await mb(s);return[d,s===d?"plain":"s256"]}const yb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vb(c){const i=c.headers.get(Vh);if(!i||!i.match(yb))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function _b(c){if(!c)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(c<=i)throw new Error("JWT has expired")}function xb(c){switch(c){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ks(c){if(!bb.test(c))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ah(){const c={};return new Proxy(c,{get:(i,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jm(c){return JSON.parse(JSON.stringify(c))}const Pa=c=>c.msg||c.message||c.error_description||c.error||JSON.stringify(c),wb=[502,503,504];async function Qm(c){var i;if(!ub(c))throw new Gh(Pa(c),0);if(wb.includes(c.status))throw new Gh(Pa(c),c.status);let a;try{a=await c.json()}catch(d){throw new Na(Pa(d),d)}let s;const u=vb(c);if(u&&u.getTime()>=tv["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new Km(Pa(a),c.status,((i=a.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(s==="session_not_found")throw new Zr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((d,p)=>d&&typeof p=="string",!0))throw new Km(Pa(a),c.status,a.weak_password.reasons);throw new Jx(Pa(a),c.status||500,s)}const Sb=(c,i,a,s)=>{const u={method:c,headers:i?.headers||{}};return c==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),a))};async function ke(c,i,a,s){var u;const d=Object.assign({},s?.headers);d[Vh]||(d[Vh]=tv["2024-01-01"].name),s?.jwt&&(d.Authorization=`Bearer ${s.jwt}`);const p=(u=s?.query)!==null&&u!==void 0?u:{};s?.redirectTo&&(p.redirect_to=s.redirectTo);const v=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",x=await Tb(c,i,a+v,{headers:d,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(x):{data:Object.assign({},x),error:null}}async function Tb(c,i,a,s,u,d){const p=Sb(i,s,u,d);let v;try{v=await c(a,Object.assign({},p))}catch(x){throw console.error(x),new Gh(Pa(x),0)}if(v.ok||await Qm(v),s?.noResolveJson)return v;try{return await v.json()}catch(x){await Qm(x)}}function hi(c){var i;let a=null;jb(c)&&(a=Object.assign({},c),c.expires_at||(a.expires_at=ob(c.expires_in)));const s=(i=c.user)!==null&&i!==void 0?i:c;return{data:{session:a,user:s},error:null}}function ey(c){const i=hi(c);return!i.error&&c.weak_password&&typeof c.weak_password=="object"&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.message&&typeof c.weak_password.message=="string"&&c.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(i.data.weak_password=c.weak_password),i}function Vr(c){var i;return{data:{user:(i=c.user)!==null&&i!==void 0?i:c},error:null}}function Eb(c){return{data:c,error:null}}function Cb(c){const{action_link:i,email_otp:a,hashed_token:s,redirect_to:u,verification_type:d}=c,p=Is(c,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:i,email_otp:a,hashed_token:s,redirect_to:u,verification_type:d},x=Object.assign({},p);return{data:{properties:v,user:x},error:null}}function ty(c){return c}function jb(c){return c.access_token&&c.refresh_token&&c.expires_in}const Oh=["global","local","others"];class Ab{constructor({url:i="",headers:a={},fetch:s}){this.url=i,this.headers=a,this.fetch=rv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(i,a=Oh[0]){if(Oh.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oh.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}async inviteUserByEmail(i,a={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Vr})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async generateLink(i){try{const{options:a}=i,s=Is(i,["options"]),u=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(u.new_email=s?.newEmail,delete u.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Cb,redirectTo:a?.redirectTo})}catch(a){if(we(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(i){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Vr})}catch(a){if(we(a))return{data:{user:null},error:a};throw a}}async listUsers(i){var a,s,u,d,p,v,x;try{const _={nextPage:null,lastPage:0,total:0},S=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=i?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(d=(u=i?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:ty});if(S.error)throw S.error;const T=await S.json(),E=(p=S.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(x=(v=S.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&x!==void 0?x:[];return A.length>0&&(A.forEach(R=>{const P=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(R.split(";")[1].split("=")[1]);_[`${M}Page`]=P}),_.total=parseInt(E)),{data:Object.assign(Object.assign({},T),_),error:null}}catch(_){if(we(_))return{data:{users:[]},error:_};throw _}}async getUserById(i){ks(i);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Vr})}catch(a){if(we(a))return{data:{user:null},error:a};throw a}}async updateUserById(i,a){ks(i);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:a,headers:this.headers,xform:Vr})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async deleteUser(i,a=!1){ks(i);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:a},xform:Vr})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async _listFactors(i){ks(i.userId);try{const{data:a,error:s}=await ke(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:a,error:s}}catch(a){if(we(a))return{data:null,error:a};throw a}}async _deleteFactor(i){ks(i.userId),ks(i.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}}async _listOAuthClients(i){var a,s,u,d,p,v,x;try{const _={nextPage:null,lastPage:0,total:0},S=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=i?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(d=(u=i?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:ty});if(S.error)throw S.error;const T=await S.json(),E=(p=S.headers.get("x-total-count"))!==null&&p!==void 0?p:0,A=(x=(v=S.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&x!==void 0?x:[];return A.length>0&&(A.forEach(R=>{const P=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(R.split(";")[1].split("=")[1]);_[`${M}Page`]=P}),_.total=parseInt(E)),{data:Object.assign(Object.assign({},T),_),error:null}}catch(_){if(we(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(i){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:i,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _getOAuthClient(i){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${i}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(i){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${i}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(i){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${i}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}}function ny(c={}){return{getItem:i=>c[i]||null,setItem:(i,a)=>{c[i]=a},removeItem:i=>{delete c[i]}}}const zs={debug:!!(globalThis&&iv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class av extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class Ob extends av{}async function Rb(c,i,a){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",c,i);const s=new globalThis.AbortController;return i>0&&setTimeout(()=>{s.abort(),zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",c)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(c,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",c,u.name);try{return await a()}finally{zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",c,u.name)}}else{if(i===0)throw zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",c),new Ob(`Acquiring an exclusive Navigator LockManager lock "${c}" immediately failed`);if(zs.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function Lb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sv(c){if(!/^0x[a-fA-F0-9]{40}$/.test(c))throw new Error(`@supabase/auth-js: Address "${c}" is invalid.`);return c.toLowerCase()}function kb(c){return parseInt(c,16)}function zb(c){const i=new TextEncoder().encode(c);return"0x"+Array.from(i,s=>s.toString(16).padStart(2,"0")).join("")}function Mb(c){var i;const{chainId:a,domain:s,expirationTime:u,issuedAt:d=new Date,nonce:p,notBefore:v,requestId:x,resources:_,scheme:S,uri:T,version:E}=c;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!T)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((i=c.statement)===null||i===void 0)&&i.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${c.statement}`)}const A=sv(c.address),R=S?`${S}://${s}`:s,P=c.statement?`${c.statement}
`:"",M=`${R} wants you to sign in with your Ethereum account:
${A}

${P}`;let K=`URI: ${T}
Version: ${E}
Chain ID: ${a}${p?`
Nonce: ${p}`:""}
Issued At: ${d.toISOString()}`;if(u&&(K+=`
Expiration Time: ${u.toISOString()}`),v&&(K+=`
Not Before: ${v.toISOString()}`),x&&(K+=`
Request ID: ${x}`),_){let H=`
Resources:`;for(const k of _){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);H+=`
- ${k}`}K+=H}return`${M}
${K}`}class Ht extends Error{constructor({message:i,code:a,cause:s,name:u}){var d;super(i,{cause:s}),this.__isWebAuthnError=!0,this.name=(d=u??(s instanceof Error?s.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=a}}class tu extends Ht{constructor(i,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:i}),this.name="WebAuthnUnknownError",this.originalError=a}}function Pb({error:c,options:i}){var a,s,u;const{publicKey:d}=i;if(!d)throw Error("options was missing required publicKey property");if(c.name==="AbortError"){if(i.signal instanceof AbortSignal)return new Ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:c})}else if(c.name==="ConstraintError"){if(((a=d.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:c});if(i.mediation==="conditional"&&((s=d.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:c});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:c})}else{if(c.name==="InvalidStateError")return new Ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:c});if(c.name==="NotAllowedError")return new Ht({message:c.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c});if(c.name==="NotSupportedError")return d.pubKeyCredParams.filter(v=>v.type==="public-key").length===0?new Ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:c}):new Ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:c});if(c.name==="SecurityError"){const p=window.location.hostname;if(ov(p)){if(d.rp.id!==p)return new Ht({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:c})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:c})}else if(c.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new Ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:c})}else if(c.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:c})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c})}function Db({error:c,options:i}){const{publicKey:a}=i;if(!a)throw Error("options was missing required publicKey property");if(c.name==="AbortError"){if(i.signal instanceof AbortSignal)return new Ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:c})}else{if(c.name==="NotAllowedError")return new Ht({message:c.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c});if(c.name==="SecurityError"){const s=window.location.hostname;if(ov(s)){if(a.rpId!==s)return new Ht({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:c})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:c})}else if(c.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:c})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:c})}class Nb{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const i=new AbortController;return this.controller=i,i.signal}cancelCeremony(){if(this.controller){const i=new Error("Manually cancelling existing WebAuthn API call");i.name="AbortError",this.controller.abort(i),this.controller=void 0}}}const Bb=new Nb;function Ub(c){if(!c)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(c);const{challenge:i,user:a,excludeCredentials:s}=c,u=Is(c,["challenge","user","excludeCredentials"]),d=Ns(i).buffer,p=Object.assign(Object.assign({},a),{id:Ns(a.id).buffer}),v=Object.assign(Object.assign({},u),{challenge:d,user:p});if(s&&s.length>0){v.excludeCredentials=new Array(s.length);for(let x=0;x<s.length;x++){const _=s[x];v.excludeCredentials[x]=Object.assign(Object.assign({},_),{id:Ns(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return v}function Ib(c){if(!c)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(c);const{challenge:i,allowCredentials:a}=c,s=Is(c,["challenge","allowCredentials"]),u=Ns(i).buffer,d=Object.assign(Object.assign({},s),{challenge:u});if(a&&a.length>0){d.allowCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const v=a[p];d.allowCredentials[p]=Object.assign(Object.assign({},v),{id:Ns(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return d}function Hb(c){var i;if("toJSON"in c&&typeof c.toJSON=="function")return c.toJSON();const a=c;return{id:c.id,rawId:c.id,response:{attestationObject:Ba(new Uint8Array(c.response.attestationObject)),clientDataJSON:Ba(new Uint8Array(c.response.clientDataJSON))},type:"public-key",clientExtensionResults:c.getClientExtensionResults(),authenticatorAttachment:(i=a.authenticatorAttachment)!==null&&i!==void 0?i:void 0}}function $b(c){var i;if("toJSON"in c&&typeof c.toJSON=="function")return c.toJSON();const a=c,s=c.getClientExtensionResults(),u=c.response;return{id:c.id,rawId:c.id,response:{authenticatorData:Ba(new Uint8Array(u.authenticatorData)),clientDataJSON:Ba(new Uint8Array(u.clientDataJSON)),signature:Ba(new Uint8Array(u.signature)),userHandle:u.userHandle?Ba(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(i=a.authenticatorAttachment)!==null&&i!==void 0?i:void 0}}function ov(c){return c==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(c)}function iy(){var c,i;return!!(Bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((c=navigator?.credentials)===null||c===void 0?void 0:c.create)=="function"&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.get)=="function")}async function qb(c){try{const i=await navigator.credentials.create(c);return i?i instanceof PublicKeyCredential?{data:i,error:null}:{data:null,error:new tu("Browser returned unexpected credential type",i)}:{data:null,error:new tu("Empty credential response",i)}}catch(i){return{data:null,error:Pb({error:i,options:c})}}}async function Zb(c){try{const i=await navigator.credentials.get(c);return i?i instanceof PublicKeyCredential?{data:i,error:null}:{data:null,error:new tu("Browser returned unexpected credential type",i)}:{data:null,error:new tu("Empty credential response",i)}}catch(i){return{data:null,error:Db({error:i,options:c})}}}const Vb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Gb={userVerification:"preferred",hints:["security-key"]};function nu(...c){const i=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),a=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of c)if(u)for(const d in u){const p=u[d];if(p!==void 0)if(Array.isArray(p))s[d]=p;else if(a(p))s[d]=p;else if(i(p)){const v=s[d];i(v)?s[d]=nu(v,p):s[d]=nu(p)}else s[d]=p}return s}function Wb(c,i){return nu(Vb,c,i||{})}function Kb(c,i){return nu(Gb,c,i||{})}class Yb{constructor(i){this.client=i,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(i){return this.client.mfa.enroll(Object.assign(Object.assign({},i),{factorType:"webauthn"}))}async _challenge({factorId:i,webauthn:a,friendlyName:s,signal:u},d){try{const{data:p,error:v}=await this.client.mfa.challenge({factorId:i,webauthn:a});if(!p)return{data:null,error:v};const x=u??Bb.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:_}=p.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${s}`),_.displayName||(_.displayName=_.name)}switch(p.webauthn.type){case"create":{const _=Wb(p.webauthn.credential_options.publicKey,d?.create),{data:S,error:T}=await qb({publicKey:_,signal:x});return S?{data:{factorId:i,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:S}},error:null}:{data:null,error:T}}case"request":{const _=Kb(p.webauthn.credential_options.publicKey,d?.request),{data:S,error:T}=await Zb(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:_,signal:x}));return S?{data:{factorId:i,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:S}},error:null}:{data:null,error:T}}}}catch(p){return we(p)?{data:null,error:p}:{data:null,error:new Na("Unexpected error in challenge",p)}}}async _verify({challengeId:i,factorId:a,webauthn:s}){return this.client.mfa.verify({factorId:a,challengeId:i,webauthn:s})}async _authenticate({factorId:i,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}},d){if(!a)return{data:null,error:new ol("rpId is required for WebAuthn authentication")};try{if(!iy())return{data:null,error:new Na("Browser does not support WebAuthn",null)};const{data:p,error:v}=await this.challenge({factorId:i,webauthn:{rpId:a,rpOrigins:s},signal:u},{request:d});if(!p)return{data:null,error:v};const{webauthn:x}=p;return this._verify({factorId:i,challengeId:p.challengeId,webauthn:{type:x.type,rpId:a,rpOrigins:s,credential_response:x.credential_response}})}catch(p){return we(p)?{data:null,error:p}:{data:null,error:new Na("Unexpected error in authenticate",p)}}}async _register({friendlyName:i,rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u},d){if(!a)return{data:null,error:new ol("rpId is required for WebAuthn registration")};try{if(!iy())return{data:null,error:new Na("Browser does not support WebAuthn",null)};const{data:p,error:v}=await this._enroll({friendlyName:i});if(!p)return await this.client.mfa.listFactors().then(S=>{var T;return(T=S.data)===null||T===void 0?void 0:T.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===i&&E.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:v};const{data:x,error:_}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:a,rpOrigins:s},signal:u},{create:d});return x?this._verify({factorId:p.id,challengeId:x.challengeId,webauthn:{rpId:a,rpOrigins:s,type:x.webauthn.type,credential_response:x.webauthn.credential_response}}):{data:null,error:_}}catch(p){return we(p)?{data:null,error:p}:{data:null,error:new Na("Unexpected error in register",p)}}}}Lb();const Fb={url:Wx,storageKey:Kx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ry(c,i,a){return await a()}const Ms={};class ll{get jwks(){var i,a;return(a=(i=Ms[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(i){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,a;return(a=(i=Ms[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){Ms[this.storageKey]=Object.assign(Object.assign({},Ms[this.storageKey]),{cachedAt:i})}constructor(i){var a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ll.nextInstanceID,ll.nextInstanceID+=1,this.instanceID>0&&Bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Fb),i);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Ab({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=rv(u.fetch),this.lock=u.lock||ry,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Bn()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Rb:this.lock=ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yb(this)},this.persistSession?(u.storage?this.storage=u.storage:iv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ny(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ny(this.memoryStorage)),Bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ev}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const a=cb(window.location.href);let s="none";if(this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce"),Bn()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:d}=await this._getSessionFromURL(a,s);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),tb(d)){const x=(i=d.details)===null||i===void 0?void 0:i.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:p,redirectType:v}=u;return this._debug("#_initialize()","detected session in URL",p,"redirect type",v),await this._saveSession(p),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return we(a)?{error:a}:{error:new Na("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var a,s,u;try{const d=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=i?.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=i?.options)===null||u===void 0?void 0:u.captchaToken}},xform:hi}),{data:p,error:v}=d;if(v||!p)return{data:{user:null,session:null},error:v};const x=p.session,_=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:_,session:x},error:null}}catch(d){if(we(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var a,s,u;try{let d;if("email"in i){const{email:S,password:T,options:E}=i;let A=null,R=null;this.flowType==="pkce"&&([A,R]=await Ls(this.storage,this.storageKey)),d=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:S,password:T,data:(a=E?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:A,code_challenge_method:R},xform:hi})}else if("phone"in i){const{phone:S,password:T,options:E}=i;d=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:T,data:(s=E?.data)!==null&&s!==void 0?s:{},channel:(u=E?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:hi})}else throw new Gc("You must provide either an email or phone number and a password");const{data:p,error:v}=d;if(v||!p)return{data:{user:null,session:null},error:v};const x=p.session,_=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:_,session:x},error:null}}catch(d){if(we(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let a;if("email"in i){const{email:d,password:p,options:v}=i;a=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:p,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ey})}else if("phone"in i){const{phone:d,password:p,options:v}=i;a=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:p,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ey})}else throw new Gc("You must provide either an email or phone number and a password");const{data:s,error:u}=a;return u?{data:{user:null,session:null},error:u}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Rs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(i){var a,s,u,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(a=i.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=i.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:a}=i;switch(a){case"ethereum":return await this.signInWithEthereum(i);case"solana":return await this.signInWithSolana(i);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(i){var a,s,u,d,p,v,x,_,S,T,E;let A,R;if("message"in i)A=i.message,R=i.signature;else{const{chain:P,wallet:M,statement:K,options:H}=i;let k;if(Bn())if(typeof M=="object")k=M;else{const Te=window;if("ethereum"in Te&&typeof Te.ethereum=="object"&&"request"in Te.ethereum&&typeof Te.ethereum.request=="function")k=Te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=M}const F=new URL((a=H?.url)!==null&&a!==void 0?a:window.location.href),Y=await k.request({method:"eth_requestAccounts"}).then(Te=>Te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const oe=sv(Y[0]);let ce=(s=H?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!ce){const Te=await k.request({method:"eth_chainId"});ce=kb(Te)}const Ae={domain:F.host,address:oe,statement:K,uri:F.href,version:"1",chainId:ce,nonce:(u=H?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(p=(d=H?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(v=H?.signInWithEthereum)===null||v===void 0?void 0:v.expirationTime,notBefore:(x=H?.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(_=H?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(S=H?.signInWithEthereum)===null||S===void 0?void 0:S.resources};A=Mb(Ae),R=await k.request({method:"personal_sign",params:[zb(A),oe]})}try{const{data:P,error:M}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:R},!((T=i.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(E=i.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:hi});if(M)throw M;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Rs}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:M})}catch(P){if(we(P))return{data:{user:null,session:null},error:P};throw P}}async signInWithSolana(i){var a,s,u,d,p,v,x,_,S,T,E,A;let R,P;if("message"in i)R=i.message,P=i.signature;else{const{chain:M,wallet:K,statement:H,options:k}=i;let F;if(Bn())if(typeof K=="object")F=K;else{const oe=window;if("solana"in oe&&typeof oe.solana=="object"&&("signIn"in oe.solana&&typeof oe.solana.signIn=="function"||"signMessage"in oe.solana&&typeof oe.solana.signMessage=="function"))F=oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof K!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=K}const Y=new URL((a=k?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in F&&F.signIn){const oe=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),H?{statement:H}:null));let ce;if(Array.isArray(oe)&&oe[0]&&typeof oe[0]=="object")ce=oe[0];else if(oe&&typeof oe=="object"&&"signedMessage"in oe&&"signature"in oe)ce=oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)R=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),P=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${Y.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(u=(s=k?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=k?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((p=k?.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((v=k?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((x=k?.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((_=k?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((T=(S=k?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||T===void 0)&&T.length?["Resources",...k.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const oe=await F.signMessage(new TextEncoder().encode(R),"utf8");if(!oe||!(oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=oe}}try{const{data:M,error:K}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Ba(P)},!((E=i.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(A=i.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:hi});if(K)throw K;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Rs}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:K})}catch(M){if(we(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(i){const a=await Ma(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(a??"").split("/");try{const{data:d,error:p}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:hi});if(await $r(this.storage,`${this.storageKey}-code-verifier`),p)throw p;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new Rs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:p})}catch(d){if(we(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:a,provider:s,token:u,access_token:d,nonce:p}=i,v=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:d,nonce:p,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:hi}),{data:x,error:_}=v;return _?{data:{user:null,session:null},error:_}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Rs}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:_})}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(i){var a,s,u,d,p;try{if("email"in i){const{email:v,options:x}=i;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Ls(this.storage,this.storageKey));const{error:T}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(a=x?.data)!==null&&a!==void 0?a:{},create_user:(s=x?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:_,code_challenge_method:S},redirectTo:x?.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in i){const{phone:v,options:x}=i,{data:_,error:S}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(u=x?.data)!==null&&u!==void 0?u:{},create_user:(d=x?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:x?.captchaToken},channel:(p=x?.channel)!==null&&p!==void 0?p:"sms"}});return{data:{user:null,session:null,messageId:_?.message_id},error:S}}throw new Gc("You must provide either an email or phone number.")}catch(v){if(we(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(i){var a,s;try{let u,d;"options"in i&&(u=(a=i.options)===null||a===void 0?void 0:a.redirectTo,d=(s=i.options)===null||s===void 0?void 0:s.captchaToken);const{data:p,error:v}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:hi});if(v)throw v;if(!p)throw new Error("An error occurred on token verification.");const x=p.session,_=p.user;return x?.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:_,session:x},error:null}}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var a,s,u;try{let d=null,p=null;return this.flowType==="pkce"&&([d,p]=await Ls(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(s=(a=i.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=i?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:Eb})}catch(d){if(we(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:a},error:s}=i;if(s)throw s;if(!a)throw new Zr;const{error:u}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(we(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const a=`${this.url}/resend`;if("email"in i){const{email:s,type:u,options:d}=i,{error:p}=await ke(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:p}}else if("phone"in i){const{phone:s,type:u,options:d}=i,{data:p,error:v}=await ke(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:p?.message_id},error:v}}throw new Gc("You must provide either an email or phone number and a type")}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(i,a){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await i(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const a=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?i=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const s=i.expires_at?i.expires_at*1e3-Date.now()<Eh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",i.expires_at),!s){if(this.userStorage){const p=await Ma(this.userStorage,this.storageKey+"-user");p?.user?i.user=p.user:i.user=Ah()}if(this.storage.isServer&&i.user){let p=this.suppressGetSessionWarning;i=new Proxy(i,{get:(x,_,S)=>(!p&&_==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),p=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,_,S))})}return{data:{session:i},error:null}}const{data:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Vr}):await this._useSession(async a=>{var s,u,d;const{data:p,error:v}=a;if(v)throw v;return!(!((s=p.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Vr})})}catch(a){if(we(a))return eb(a)&&(await this._removeSession(),await $r(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(i,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,a))}async _updateUser(i,a={}){try{return await this._useSession(async s=>{const{data:u,error:d}=s;if(d)throw d;if(!u.session)throw new Zr;const p=u.session;let v=null,x=null;this.flowType==="pkce"&&i.email!=null&&([v,x]=await Ls(this.storage,this.storageKey));const{data:_,error:S}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:v,code_challenge_method:x}),jwt:p.access_token,xform:Vr});if(S)throw S;return p.user=_.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),{data:{user:p.user},error:null}})}catch(s){if(we(s))return{data:{user:null},error:s};throw s}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Zr;const a=Date.now()/1e3;let s=a,u=!0,d=null;const{payload:p}=jh(i.access_token);if(p.exp&&(s=p.exp,u=s<=a),u){const{data:v,error:x}=await this._callRefreshToken(i.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!v)return{data:{user:null,session:null},error:null};d=v}else{const{data:v,error:x}=await this._getUser(i.access_token);if(x)throw x;d={access_token:i.access_token,refresh_token:i.refresh_token,user:v.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(a){if(we(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async a=>{var s;if(!i){const{data:p,error:v}=a;if(v)throw v;i=(s=p.session)!==null&&s!==void 0?s:void 0}if(!i?.refresh_token)throw new Zr;const{data:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(we(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(i,a){try{if(!Bn())throw new Wc("No browser detected.");if(i.error||i.error_description||i.error_code)throw new Wc(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Wm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wc("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Wm("No code detected.");const{data:H,error:k}=await this._exchangeCodeForSession(i.code);if(k)throw k;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:d,refresh_token:p,expires_in:v,expires_at:x,token_type:_}=i;if(!d||!v||!p||!_)throw new Wc("No session defined in URL");const S=Math.round(Date.now()/1e3),T=parseInt(v);let E=S+T;x&&(E=parseInt(x));const A=E-S;A*1e3<=Ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${T}s`);const R=E-T;S-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,E,S):S-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,E,S);const{data:P,error:M}=await this._getUser(d);if(M)throw M;const K={provider_token:s,provider_refresh_token:u,access_token:d,expires_in:T,expires_at:E,refresh_token:p,token_type:_,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:K,redirectType:i.type},error:null}}catch(s){if(we(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const a=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&a)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:u,error:d}=a;if(d)return{error:d};const p=(s=u.session)===null||s===void 0?void 0:s.access_token;if(p){const{error:v}=await this.admin.signOut(p,i);if(v&&!(Qx(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return i!=="others"&&(await this._removeSession(),await $r(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const a=lb(),s={id:a,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(i){return await this._useSession(async a=>{var s,u;try{const{data:{session:d},error:p}=a;if(p)throw p;await((s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,a={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Ls(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(d){if(we(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(i=a.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}}async linkIdentity(i){return"token"in i?this.linkIdentityIdToken(i):this.linkIdentityOAuth(i)}async linkIdentityOAuth(i){var a;try{const{data:s,error:u}=await this._useSession(async d=>{var p,v,x,_,S;const{data:T,error:E}=d;if(E)throw E;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(p=i.options)===null||p===void 0?void 0:p.redirectTo,scopes:(v=i.options)===null||v===void 0?void 0:v.scopes,queryParams:(x=i.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",A,{headers:this.headers,jwt:(S=(_=T.session)===null||_===void 0?void 0:_.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return Bn()&&!(!((a=i.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:i.provider,url:s?.url},error:null}}catch(s){if(we(s))return{data:{provider:i.provider,url:null},error:s};throw s}}async linkIdentityIdToken(i){return await this._useSession(async a=>{var s;try{const{error:u,data:{session:d}}=a;if(u)throw u;const{options:p,provider:v,token:x,access_token:_,nonce:S}=i,T=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=d?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:v,id_token:x,access_token:_,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:hi}),{data:E,error:A}=T;return A?{data:{user:null,session:null},error:A}:!E||!E.session||!E.user?{data:{user:null,session:null},error:new Rs}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),{data:E,error:A})}catch(u){if(we(u))return{data:{user:null,session:null},error:u};throw u}})}async unlinkIdentity(i){try{return await this._useSession(async a=>{var s,u;const{data:d,error:p}=a;if(p)throw p;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(u=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _refreshAccessToken(i){const a=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await hb(async u=>(u>0&&await db(200*Math.pow(2,u-1)),this._debug(a,"refreshing attempt",u),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:hi})),(u,d)=>{const p=200*Math.pow(2,u);return d&&Ch(d)&&Date.now()+p-s<Ps})}catch(s){if(this._debug(a,"error",s),we(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(a,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",a,"url",s),Bn()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:i,url:s},error:null}}async _recoverAndRefresh(){var i,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await Ma(this.storage,this.storageKey);if(u&&this.userStorage){let p=await Ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:u.user},await Ds(this.userStorage,this.storageKey+"-user",p)),u.user=(i=p?.user)!==null&&i!==void 0?i:Ah()}else if(u&&!u.user&&!u.user){const p=await Ma(this.storage,this.storageKey+"-user");p&&p?.user?(u.user=p.user,await $r(this.storage,this.storageKey+"-user"),await Ds(this.storage,this.storageKey,u)):u.user=Ah()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const d=((a=u.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Eh;if(this._debug(s,`session has${d?"":" not"} expired with margin of ${Eh}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:p}=await this._callRefreshToken(u.refresh_token);p&&(console.error(p),Ch(p)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:v}=await this._getUser(u.access_token);!v&&p?.user?(u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(s,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(i){var a,s;if(!i)throw new Zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new cu;const{data:d,error:p}=await this._refreshAccessToken(i);if(p)throw p;if(!d.session)throw new Zr;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const v={data:d.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(d){if(this._debug(u,"error",d),we(d)){const p={data:null,error:d};return Ch(d)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(p),p}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,a,s=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:i,session:a});const d=[],p=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(i,a)}catch(x){d.push(x)}});if(await Promise.all(p),d.length>0){for(let v=0;v<d.length;v+=1)console.error(d[v]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const a=Object.assign({},i),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await Ds(this.userStorage,this.storageKey+"-user",{user:a.user});const u=Object.assign({},a);delete u.user;const d=Jm(u);await Ds(this.storage,this.storageKey,d)}else{const u=Jm(a);await Ds(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await $r(this.storage,this.storageKey),await $r(this.storage,this.storageKey+"-code-verifier"),await $r(this.storage,this.storageKey+"-user"),this.userStorage&&await $r(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Bn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),Ps);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-i)/Ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ps}ms, refresh threshold is ${Zh} ticks`),u<=Zh&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof av)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const a=`#_onVisibilityChanged(${i})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,a,s){const u=[`provider=${encodeURIComponent(a)}`];if(s?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[d,p]=await Ls(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(p)}`});u.push(v.toString())}if(s?.queryParams){const d=new URLSearchParams(s.queryParams);u.push(d.toString())}return s?.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${i}?${u.join("&")}`}async _unenroll(i){try{return await this._useSession(async a=>{var s;const{data:u,error:d}=a;return d?{data:null,error:d}:await ke(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _enroll(i){try{return await this._useSession(async a=>{var s,u;const{data:d,error:p}=a;if(p)return{data:null,error:p};const v=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:i.factorType==="totp"?{issuer:i.issuer}:{}),{data:x,error:_}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(s=d?.session)===null||s===void 0?void 0:s.access_token});return _?{data:null,error:_}:(i.factorType==="totp"&&x.type==="totp"&&(!((u=x?.totp)===null||u===void 0)&&u.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:u,error:d}=a;if(d)return{data:null,error:d};const p=Object.assign({challenge_id:i.challengeId},"webauthn"in i?{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_response:i.webauthn.type==="create"?Hb(i.webauthn.credential_response):$b(i.webauthn.credential_response)})}:{code:i.code}),{data:v,error:x}=await ke(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:p,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return x?{data:null,error:x}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),{data:v,error:x})})}catch(a){if(we(a))return{data:null,error:a};throw a}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:u,error:d}=a;if(d)return{data:null,error:d};const p=await ke(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:i,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});if(p.error)return p;const{data:v}=p;if(v.type!=="webauthn")return{data:v,error:null};switch(v.webauthn.type){case"create":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:Ub(v.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:Ib(v.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(we(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(i){const{data:a,error:s}=await this._challenge({factorId:i.factorId});return s?{data:null,error:s}:await this._verify({factorId:i.factorId,challengeId:a.id,code:i.code})}async _listFactors(){var i;const{data:{user:a},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(i=a?.factors)!==null&&i!==void 0?i:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var a,s;const{data:{session:u},error:d}=i;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=jh(u.access_token);let v=null;p.aal&&(v=p.aal);let x=v;((s=(a=u.user.factors)===null||a===void 0?void 0:a.filter(T=>T.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(x="aal2");const S=p.amr||[];return{data:{currentLevel:v,nextLevel:x,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(i,a={keys:[]}){let s=a.keys.find(v=>v.kid===i);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(v=>v.kid===i),s&&this.jwks_cached_at+Xx>u)return s;const{data:d,error:p}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,s=d.keys.find(v=>v.kid===i),!s)?null:s}async getClaims(i,a={}){try{let s=i;if(!s){const{data:A,error:R}=await this.getSession();if(R||!A.session)return{data:null,error:R};s=A.session.access_token}const{header:u,payload:d,signature:p,raw:{header:v,payload:x}}=jh(s);a?.allowExpired||_b(d.exp);const _=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!_){const{error:A}=await this.getUser(s);if(A)throw A;return{data:{claims:d,header:u,signature:p},error:null}}const S=xb(u.alg),T=await crypto.subtle.importKey("jwk",_,S,!0,["verify"]);if(!await crypto.subtle.verify(S,T,p,sb(`${v}.${x}`)))throw new Wh("Invalid JWT signature");return{data:{claims:d,header:u,signature:p},error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}}}ll.nextInstanceID=0;const Xb=ll;class Jb extends Xb{constructor(i){super(i)}}class Qb{constructor(i,a,s){var u,d,p;this.supabaseUrl=i,this.supabaseKey=a;const v=Gx(i);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const x=`sb-${v.hostname.split(".")[0]}-auth-token`,_={db:Bx,realtime:Ix,auth:Object.assign(Object.assign({},Ux),{storageKey:x}),global:Nx},S=Vx(s??{},_);this.storageKey=(u=S.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=S.global.headers)!==null&&d!==void 0?d:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(T,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((p=S.auth)!==null&&p!==void 0?p:{},this.headers,S.global.fetch),this.fetch=qx(a,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},S.realtime)),this.rest=new W0(new URL("rest/v1",v).href,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),this.storage=new Mx(this.storageUrl.href,this.headers,this.fetch,s?.storage),S.accessToken||this._listenForAuthEvents()}get functions(){return new N0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,a,s)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i,a;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:s,storage:u,userStorage:d,storageKey:p,flowType:v,lock:x,debug:_},S,T){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jb({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),S),storageKey:p,autoRefreshToken:i,persistSession:a,detectSessionInUrl:s,storage:u,userStorage:d,flowType:v,lock:x,debug:_,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new ux(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s?.access_token)})}_handleTokenChanged(i,a,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ew=(c,i,a)=>new Qb(c,i,a);function tw(){if(typeof window<"u"||typeof process>"u")return!1;const c=process.version;if(c==null)return!1;const i=c.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}tw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nw="https://nqwejzbayquzsvcodunl.supabase.co",iw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5xd2VqemJheXF1enN2Y29kdW5sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzOTA0MjAsImV4cCI6MjA3Mzk2NjQyMH0.01yifC-tfEbBHD5u315fpb_nZrqMZCbma_UrMacMb78",Fe=ew(nw,iw);class rw{async signUp(i,a,s){return Fe.auth.signUp({email:i,password:a,options:{data:{username:s,reputation:0,language:"en",onboarding_completed:!1,onboarding_step:0}}})}async signIn(i,a){return Fe.auth.signInWithPassword({email:i,password:a})}async signOut(){return Fe.auth.signOut()}async getCurrentUser(){const{data:{user:i}}=await Fe.auth.getUser();return i}async getSession(){return Fe.auth.getSession()}async createUserProfile(i,a){const{data:s,error:u}=await Fe.from("users").insert([{user_id:i,...a,reputation:0,language:"en",onboarding_completed:!1,onboarding_step:0}]).select().single();return{data:s,error:u}}async getUserProfile(i){const{data:a,error:s}=await Fe.from("users").select("*").eq("user_id",i).maybeSingle();return{data:a,error:s}}async updateUserProfile(i,a){const{data:s,error:u}=await Fe.from("users").update(a).eq("user_id",i).select().single();return{data:s,error:u}}async completeOnboarding(i,a){const s={first_name:a.firstName,last_name:a.lastName,phone:a.phone,location:a.location,interests:a.interests,language:a.language,onboarding_completed:!0,onboarding_step:4,profile_completed_at:new Date().toISOString()};return this.updateUserProfile(i,s)}async updateOnboardingStep(i,a){return this.updateUserProfile(i,{onboarding_step:a})}async syncUserWithProfile(i){try{const{data:a,error:s}=await this.getUserProfile(i.id);if(s&&s.code!=="PGRST116")return console.error("Error fetching user profile:",s),null;if(a)return{id:i.id,email:i.email,...a};{const u={username:i.user_metadata?.username||i.email?.split("@")[0]||"User",email:i.email,reputation:0,language:"en",onboarding_completed:!1,onboarding_step:0},{data:d,error:p}=await this.createUserProfile(i.id,u);return p?(console.error("Error creating user profile:",p),null):{id:i.id,email:i.email,...d}}}catch(a){return console.error("Error syncing user with profile:",a),null}}onAuthStateChange(i){return Fe.auth.onAuthStateChange((a,s)=>{i(s?.user||null)})}async resetPassword(i){return Fe.auth.resetPasswordForEmail(i)}async updatePassword(i){return Fe.auth.updateUser({password:i})}async getUserReports(i){return Fe.from("reports").select("upvotes, downvotes").eq("user_id",i)}async getUserRecentReports(i,a=5){return Fe.from("reports").select("*").eq("user_id",i).order("created_at",{ascending:!1}).limit(a)}async getAllUsersByReputation(){return Fe.from("users").select("user_id, reputation").order("reputation",{ascending:!1})}async getUserReportsCount(i){return Fe.from("reports").select("id",{count:"exact"}).eq("user_id",i)}async getUserVote(i,a){return Fe.from("votes").select("vote_type").eq("user_id",i).eq("report_id",a).maybeSingle()}async addVote(i,a,s){return Fe.from("votes").insert([{user_id:i,report_id:a,vote_type:s}])}async removeVote(i,a){return Fe.from("votes").delete().eq("user_id",i).eq("report_id",a)}async updateVote(i,a,s){return Fe.from("votes").update({vote_type:s}).eq("user_id",i).eq("report_id",a)}async getNearbyReports(i=10){return Fe.from("reports").select("*").order("created_at",{ascending:!1}).limit(i)}async deleteAccount(i){const{error:a}=await Fe.from("users").delete().eq("user_id",i);if(a)return console.error("Error deleting user profile:",a),{error:a};const{error:s}=await Fe.from("votes").delete().eq("user_id",i);s&&console.error("Error deleting user votes:",s);const{error:u}=await Fe.from("reports").delete().eq("user_id",i);u&&console.error("Error deleting user reports:",u);const{error:d}=await Fe.auth.admin.deleteUser(i);return d?(console.error("Error deleting auth user:",d),{error:d}):{error:null}}}const jn=new rw,lv=X.createContext(void 0),aw=({children:c})=>{const[i,a]=X.useState({user:null,isAuthenticated:!1,isLoading:!0,onboardingCompleted:!1});X.useEffect(()=>{s();const{data:{subscription:T}}=jn.onAuthStateChange(async E=>{if(E){const A=await jn.syncUserWithProfile(E);A&&a({user:A,isAuthenticated:!0,isLoading:!1,onboardingCompleted:A.onboarding_completed||!1})}else a({user:null,isAuthenticated:!1,isLoading:!1,onboardingCompleted:!1})});return()=>{T.unsubscribe()}},[]);const s=async()=>{try{const{data:{session:T}}=await jn.getSession();if(T?.user){const E=await jn.syncUserWithProfile(T.user);E&&a({user:E,isAuthenticated:!0,isLoading:!1,onboardingCompleted:E.onboarding_completed||!1})}else a(E=>({...E,isLoading:!1}))}catch(T){console.error("Error checking auth state:",T),a(E=>({...E,isLoading:!1}))}},S={...i,signIn:async(T,E)=>{try{return a(R=>({...R,isLoading:!0})),await jn.signIn(T,E)}catch(A){throw a(R=>({...R,isLoading:!1})),A}},signUp:async(T,E,A)=>{try{return a(P=>({...P,isLoading:!0})),await jn.signUp(T,E,A)}catch(R){throw a(P=>({...P,isLoading:!1})),R}},signOut:async()=>{try{await jn.signOut(),a({user:null,isAuthenticated:!1,isLoading:!1,onboardingCompleted:!1})}catch(T){throw console.error("Error signing out:",T),T}},updateProfile:async T=>{if(!i.user)throw new Error("No user logged in");try{const E=await jn.updateUserProfile(i.user.id,T);return E.data&&a(A=>({...A,user:{...A.user,...E.data},onboardingCompleted:E.data.onboarding_completed||A.onboardingCompleted})),E}catch(E){throw console.error("Error updating profile:",E),E}},refreshProfile:async()=>{if(i.user)try{const{data:{session:T}}=await jn.getSession();if(T?.user){const E=await jn.syncUserWithProfile(T.user);E&&a(A=>({...A,user:E,onboardingCompleted:E.onboarding_completed||!1}))}}catch(T){console.error("Error refreshing profile:",T)}},checkOnboardingStatus:()=>i.onboardingCompleted};return m.jsx(lv.Provider,{value:S,children:c})},ul=()=>{const c=X.useContext(lv);if(c===void 0)throw new Error("useAuth must be used within an AuthProvider");return c},cv=X.createContext(void 0),sw=({children:c})=>{const{i18n:i}=Kt(),[a,s]=X.useState("en"),u=["ar"];X.useEffect(()=>{const v=localStorage.getItem("language")||"en";s(v),i.changeLanguage(v);const x=u.includes(v)?"rtl":"ltr";document.documentElement.dir=x,document.documentElement.lang=v,u.includes(v)?document.body.classList.add("rtl"):document.body.classList.remove("rtl")},[i]);const d=async(v,x,_)=>{try{s(v),await i.changeLanguage(v),localStorage.setItem("language",v),_&&x&&await x({language:v});const S=u.includes(v)?"rtl":"ltr";document.documentElement.dir=S,document.documentElement.lang=v,u.includes(v)?document.body.classList.add("rtl"):document.body.classList.remove("rtl")}catch(S){console.error("Error changing language:",S)}},p=u.includes(a);return m.jsx(cv.Provider,{value:{currentLanguage:a,changeLanguage:d,isRTL:p},children:c})},ow=()=>{const c=X.useContext(cv);if(c===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return c};function uv(c,i){const a=X.useRef(i);X.useEffect(function(){i!==a.current&&c.attributionControl!=null&&(a.current!=null&&c.attributionControl.removeAttribution(a.current),i!=null&&c.attributionControl.addAttribution(i)),a.current=i},[c,i])}function lw(c,i,a){i.center!==a.center&&c.setLatLng(i.center),i.radius!=null&&i.radius!==a.radius&&c.setRadius(i.radius)}var cw=cy();const uw=1;function dw(c){return Object.freeze({__version:uw,map:c})}function dv(c,i){return Object.freeze({...c,...i})}const af=X.createContext(null);function uu(){const c=X.use(af);if(c==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return c}function hv(c){function i(a,s){const{instance:u,context:d}=c(a).current;X.useImperativeHandle(s,()=>u);const{children:p}=a;return p==null?null:Ua.createElement(af,{value:d},p)}return X.forwardRef(i)}function hw(c){function i(a,s){const[u,d]=X.useState(!1),{instance:p}=c(a,d).current;X.useImperativeHandle(s,()=>p),X.useEffect(function(){u&&p.update()},[p,u,a.children]);const v=p._contentNode;return v?cw.createPortal(a.children,v):null}return X.forwardRef(i)}function fw(c){function i(a,s){const{instance:u}=c(a).current;return X.useImperativeHandle(s,()=>u),null}return X.forwardRef(i)}function sf(c,i){const a=X.useRef(void 0);X.useEffect(function(){return i!=null&&c.instance.on(i),a.current=i,function(){a.current!=null&&c.instance.off(a.current),a.current=null}},[c,i])}function du(c,i){const a=c.pane??i.pane;return a?{...c,pane:a}:c}function pw(c,i){return function(s,u){const d=uu(),p=c(du(s,d),d);return uv(d.map,s.attribution),sf(p.current,s.eventHandlers),i(p.current,d,s,u),p}}var Qo={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var gw=Qo.exports,ay;function mw(){return ay||(ay=1,(function(c,i){(function(a,s){s(i)})(gw,(function(a){var s="1.9.4";function u(n){var o,h,y,b;for(h=1,y=arguments.length;h<y;h++){b=arguments[h];for(o in b)n[o]=b[o]}return n}var d=Object.create||(function(){function n(){}return function(o){return n.prototype=o,new n}})();function p(n,o){var h=Array.prototype.slice;if(n.bind)return n.bind.apply(n,h.call(arguments,1));var y=h.call(arguments,2);return function(){return n.apply(o,y.length?y.concat(h.call(arguments)):arguments)}}var v=0;function x(n){return"_leaflet_id"in n||(n._leaflet_id=++v),n._leaflet_id}function _(n,o,h){var y,b,C,z;return z=function(){y=!1,b&&(C.apply(h,b),b=!1)},C=function(){y?b=arguments:(n.apply(h,arguments),setTimeout(z,o),y=!0)},C}function S(n,o,h){var y=o[1],b=o[0],C=y-b;return n===y&&h?n:((n-b)%C+C)%C+b}function T(){return!1}function E(n,o){if(o===!1)return n;var h=Math.pow(10,o===void 0?6:o);return Math.round(n*h)/h}function A(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function R(n){return A(n).split(/\s+/)}function P(n,o){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?d(n.options):{});for(var h in o)n.options[h]=o[h];return n.options}function M(n,o,h){var y=[];for(var b in n)y.push(encodeURIComponent(h?b.toUpperCase():b)+"="+encodeURIComponent(n[b]));return(!o||o.indexOf("?")===-1?"?":"&")+y.join("&")}var K=/\{ *([\w_ -]+) *\}/g;function H(n,o){return n.replace(K,function(h,y){var b=o[y];if(b===void 0)throw new Error("No value provided for variable "+h);return typeof b=="function"&&(b=b(o)),b})}var k=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function F(n,o){for(var h=0;h<n.length;h++)if(n[h]===o)return h;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var ce=0;function Ae(n){var o=+new Date,h=Math.max(0,16-(o-ce));return ce=o+h,window.setTimeout(n,h)}var Te=window.requestAnimationFrame||oe("RequestAnimationFrame")||Ae,Ke=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ve(n,o,h){if(h&&Te===Ae)n.call(o);else return Te.call(window,p(n,o))}function Oe(n){n&&Ke.call(window,n)}var ct={__proto__:null,extend:u,create:d,bind:p,get lastId(){return v},stamp:x,throttle:_,wrapNum:S,falseFn:T,formatNum:E,trim:A,splitWords:R,setOptions:P,getParamString:M,template:H,isArray:k,indexOf:F,emptyImageUrl:Y,requestFn:Te,cancelFn:Ke,requestAnimFrame:ve,cancelAnimFrame:Oe};function Ce(){}Ce.extend=function(n){var o=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=o.__super__=this.prototype,y=d(h);y.constructor=o,o.prototype=y;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(o[b]=this[b]);return n.statics&&u(o,n.statics),n.includes&&(vt(n.includes),u.apply(null,[y].concat(n.includes))),u(y,n),delete y.statics,delete y.includes,y.options&&(y.options=h.options?d(h.options):{},u(y.options,n.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,z=y._initHooks.length;C<z;C++)y._initHooks[C].call(this)}},o},Ce.include=function(n){var o=this.prototype.options;return u(this.prototype,n),n.options&&(this.prototype.options=o,this.mergeOptions(n.options)),this},Ce.mergeOptions=function(n){return u(this.prototype.options,n),this},Ce.addInitHook=function(n){var o=Array.prototype.slice.call(arguments,1),h=typeof n=="function"?n:function(){this[n].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function vt(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=k(n)?n:[n];for(var o=0;o<n.length;o++)n[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(n,o,h){if(typeof n=="object")for(var y in n)this._on(y,n[y],o);else{n=R(n);for(var b=0,C=n.length;b<C;b++)this._on(n[b],o,h)}return this},off:function(n,o,h){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var y in n)this._off(y,n[y],o);else{n=R(n);for(var b=arguments.length===1,C=0,z=n.length;C<z;C++)b?this._off(n[C]):this._off(n[C],o,h)}return this},_on:function(n,o,h,y){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(n,o,h)===!1){h===this&&(h=void 0);var b={fn:o,ctx:h};y&&(b.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(b)}},_off:function(n,o,h){var y,b,C;if(this._events&&(y=this._events[n],!!y)){if(arguments.length===1){if(this._firingCount)for(b=0,C=y.length;b<C;b++)y[b].fn=T;delete this._events[n];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var z=this._listens(n,o,h);if(z!==!1){var I=y[z];this._firingCount&&(I.fn=T,this._events[n]=y=y.slice()),y.splice(z,1)}}},fire:function(n,o,h){if(!this.listens(n,h))return this;var y=u({},o,{type:n,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var b=this._events[n];if(b){this._firingCount=this._firingCount+1||1;for(var C=0,z=b.length;C<z;C++){var I=b[C],G=I.fn;I.once&&this.off(n,G,I.ctx),G.call(I.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(n,o,h,y){typeof n!="string"&&console.warn('"string" type argument expected');var b=o;typeof o!="function"&&(y=!!o,b=void 0,h=void 0);var C=this._events&&this._events[n];if(C&&C.length&&this._listens(n,b,h)!==!1)return!0;if(y){for(var z in this._eventParents)if(this._eventParents[z].listens(n,o,h,y))return!0}return!1},_listens:function(n,o,h){if(!this._events)return!1;var y=this._events[n]||[];if(!o)return!!y.length;h===this&&(h=void 0);for(var b=0,C=y.length;b<C;b++)if(y[b].fn===o&&y[b].ctx===h)return b;return!1},once:function(n,o,h){if(typeof n=="object")for(var y in n)this._on(y,n[y],o,!0);else{n=R(n);for(var b=0,C=n.length;b<C;b++)this._on(n[b],o,h,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[x(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[x(n)],this},_propagateEvent:function(n){for(var o in this._eventParents)this._eventParents[o].fire(n.type,u({layer:n.target,propagatedFrom:n.target},n),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var se=Ce.extend(Z);function N(n,o,h){this.x=h?Math.round(n):n,this.y=h?Math.round(o):o}var le=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(n){return this.clone()._add(re(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(re(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new N(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new N(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(n){n=re(n);var o=n.x-this.x,h=n.y-this.y;return Math.sqrt(o*o+h*h)},equals:function(n){return n=re(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=re(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function re(n,o,h){return n instanceof N?n:k(n)?new N(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new N(n.x,n.y):new N(n,o,h)}function O(n,o){if(n)for(var h=o?[n,o]:n,y=0,b=h.length;y<b;y++)this.extend(h[y])}O.prototype={extend:function(n){var o,h;if(!n)return this;if(n instanceof N||typeof n[0]=="number"||"x"in n)o=h=re(n);else if(n=V(n),o=n.min,h=n.max,!o||!h)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=h.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(n){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var o,h;return typeof n[0]=="number"||n instanceof N?n=re(n):n=V(n),n instanceof O?(o=n.min,h=n.max):o=h=n,o.x>=this.min.x&&h.x<=this.max.x&&o.y>=this.min.y&&h.y<=this.max.y},intersects:function(n){n=V(n);var o=this.min,h=this.max,y=n.min,b=n.max,C=b.x>=o.x&&y.x<=h.x,z=b.y>=o.y&&y.y<=h.y;return C&&z},overlaps:function(n){n=V(n);var o=this.min,h=this.max,y=n.min,b=n.max,C=b.x>o.x&&y.x<h.x,z=b.y>o.y&&y.y<h.y;return C&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var o=this.min,h=this.max,y=Math.abs(o.x-h.x)*n,b=Math.abs(o.y-h.y)*n;return V(re(o.x-y,o.y-b),re(h.x+y,h.y+b))},equals:function(n){return n?(n=V(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function V(n,o){return!n||n instanceof O?n:new O(n,o)}function ie(n,o){if(n)for(var h=o?[n,o]:n,y=0,b=h.length;y<b;y++)this.extend(h[y])}ie.prototype={extend:function(n){var o=this._southWest,h=this._northEast,y,b;if(n instanceof he)y=n,b=n;else if(n instanceof ie){if(y=n._southWest,b=n._northEast,!y||!b)return this}else return n?this.extend(de(n)||ae(n)):this;return!o&&!h?(this._southWest=new he(y.lat,y.lng),this._northEast=new he(b.lat,b.lng)):(o.lat=Math.min(y.lat,o.lat),o.lng=Math.min(y.lng,o.lng),h.lat=Math.max(b.lat,h.lat),h.lng=Math.max(b.lng,h.lng)),this},pad:function(n){var o=this._southWest,h=this._northEast,y=Math.abs(o.lat-h.lat)*n,b=Math.abs(o.lng-h.lng)*n;return new ie(new he(o.lat-y,o.lng-b),new he(h.lat+y,h.lng+b))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof he||"lat"in n?n=de(n):n=ae(n);var o=this._southWest,h=this._northEast,y,b;return n instanceof ie?(y=n.getSouthWest(),b=n.getNorthEast()):y=b=n,y.lat>=o.lat&&b.lat<=h.lat&&y.lng>=o.lng&&b.lng<=h.lng},intersects:function(n){n=ae(n);var o=this._southWest,h=this._northEast,y=n.getSouthWest(),b=n.getNorthEast(),C=b.lat>=o.lat&&y.lat<=h.lat,z=b.lng>=o.lng&&y.lng<=h.lng;return C&&z},overlaps:function(n){n=ae(n);var o=this._southWest,h=this._northEast,y=n.getSouthWest(),b=n.getNorthEast(),C=b.lat>o.lat&&y.lat<h.lat,z=b.lng>o.lng&&y.lng<h.lng;return C&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,o){return n?(n=ae(n),this._southWest.equals(n.getSouthWest(),o)&&this._northEast.equals(n.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(n,o){return n instanceof ie?n:new ie(n,o)}function he(n,o,h){if(isNaN(n)||isNaN(o))throw new Error("Invalid LatLng object: ("+n+", "+o+")");this.lat=+n,this.lng=+o,h!==void 0&&(this.alt=+h)}he.prototype={equals:function(n,o){if(!n)return!1;n=de(n);var h=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return h<=(o===void 0?1e-9:o)},toString:function(n){return"LatLng("+E(this.lat,n)+", "+E(this.lng,n)+")"},distanceTo:function(n){return _t.distance(this,de(n))},wrap:function(){return _t.wrapLatLng(this)},toBounds:function(n){var o=180*n/40075017,h=o/Math.cos(Math.PI/180*this.lat);return ae([this.lat-o,this.lng-h],[this.lat+o,this.lng+h])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function de(n,o,h){return n instanceof he?n:k(n)&&typeof n[0]!="object"?n.length===3?new he(n[0],n[1],n[2]):n.length===2?new he(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new he(n.lat,"lng"in n?n.lng:n.lon,n.alt):o===void 0?null:new he(n,o,h)}var Me={latLngToPoint:function(n,o){var h=this.projection.project(n),y=this.scale(o);return this.transformation._transform(h,y)},pointToLatLng:function(n,o){var h=this.scale(o),y=this.transformation.untransform(n,h);return this.projection.unproject(y)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var o=this.projection.bounds,h=this.scale(n),y=this.transformation.transform(o.min,h),b=this.transformation.transform(o.max,h);return new O(y,b)},infinite:!1,wrapLatLng:function(n){var o=this.wrapLng?S(n.lng,this.wrapLng,!0):n.lng,h=this.wrapLat?S(n.lat,this.wrapLat,!0):n.lat,y=n.alt;return new he(h,o,y)},wrapLatLngBounds:function(n){var o=n.getCenter(),h=this.wrapLatLng(o),y=o.lat-h.lat,b=o.lng-h.lng;if(y===0&&b===0)return n;var C=n.getSouthWest(),z=n.getNorthEast(),I=new he(C.lat-y,C.lng-b),G=new he(z.lat-y,z.lng-b);return new ie(I,G)}},_t=u({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(n,o){var h=Math.PI/180,y=n.lat*h,b=o.lat*h,C=Math.sin((o.lat-n.lat)*h/2),z=Math.sin((o.lng-n.lng)*h/2),I=C*C+Math.cos(y)*Math.cos(b)*z*z,G=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*G}}),pt=6378137,Jn={R:pt,MAX_LATITUDE:85.0511287798,project:function(n){var o=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,n.lat),-h),b=Math.sin(y*o);return new N(this.R*n.lng*o,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(n){var o=180/Math.PI;return new he((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*o,n.x*o/this.R)},bounds:(function(){var n=pt*Math.PI;return new O([-n,-n],[n,n])})()};function An(n,o,h,y){if(k(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=o,this._c=h,this._d=y}An.prototype={transform:function(n,o){return this._transform(n.clone(),o)},_transform:function(n,o){return o=o||1,n.x=o*(this._a*n.x+this._b),n.y=o*(this._c*n.y+this._d),n},untransform:function(n,o){return o=o||1,new N((n.x/o-this._b)/this._a,(n.y/o-this._d)/this._c)}};function xt(n,o,h,y){return new An(n,o,h,y)}var Ue=u({},_t,{code:"EPSG:3857",projection:Jn,transformation:(function(){var n=.5/(Math.PI*Jn.R);return xt(n,.5,-n,.5)})()}),cn=u({},Ue,{code:"EPSG:900913"});function it(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function rt(n,o){var h="",y,b,C,z,I,G;for(y=0,C=n.length;y<C;y++){for(I=n[y],b=0,z=I.length;b<z;b++)G=I[b],h+=(b?"L":"M")+G.x+" "+G.y;h+=o?ye.svg?"z":"x":""}return h||"M0 0"}var st=document.documentElement.style,Xe="ActiveXObject"in window,ze=Xe&&!document.addEventListener,pe="msLaunchUri"in navigator&&!("documentMode"in document),be=gn("webkit"),Ze=gn("android"),Ye=gn("android 2")||gn("android 3"),gt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qn=Ze&&gn("Google")&&gt<537&&!("AudioNode"in window),At=!!window.opera,pn=!pe&&gn("chrome"),ei=gn("gecko")&&!be&&!At&&!Xe,Zs=!pn&&gn("safari"),Vs=gn("phantom"),hl="OTransition"in st,gu=navigator.platform.indexOf("Win")===0,rr=Xe&&"transition"in st,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ye,ti="MozPerspective"in st,un=!window.L_DISABLE_3D&&(rr||Qt||ti)&&!hl&&!Vs,Wr=typeof orientation<"u"||gn("mobile"),mu=Wr&&be,yu=Wr&&Qt,Kr=!window.PointerEvent&&window.MSPointerEvent,Yr=!!(window.PointerEvent||Kr),Fr="ontouchstart"in window||!!window.TouchEvent,ki=!window.L_NO_TOUCH&&(Fr||Yr),$a=Wr&&At,Xr=Wr&&ei,vu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fl=(function(){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",T,o),window.removeEventListener("testPassiveEventSupport",T,o)}catch{}return n})(),Gs=(function(){return!!document.createElement("canvas").getContext})(),zi=!!(document.createElementNS&&it("svg").createSVGRect),_u=!!zi&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),pl=!zi&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var o=n.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),gl=navigator.platform.indexOf("Mac")===0,ml=navigator.platform.indexOf("Linux")===0;function gn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ye={ie:Xe,ielt9:ze,edge:pe,webkit:be,android:Ze,android23:Ye,androidStock:Qn,opera:At,chrome:pn,gecko:ei,safari:Zs,phantom:Vs,opera12:hl,win:gu,ie3d:rr,webkit3d:Qt,gecko3d:ti,any3d:un,mobile:Wr,mobileWebkit:mu,mobileWebkit3d:yu,msPointer:Kr,pointer:Yr,touch:ki,touchNative:Fr,mobileOpera:$a,mobileGecko:Xr,retina:vu,passiveEvents:fl,canvas:Gs,svg:zi,vml:pl,inlineSvg:_u,mac:gl,linux:ml},Ws=ye.msPointer?"MSPointerDown":"pointerdown",Ks=ye.msPointer?"MSPointerMove":"pointermove",ni=ye.msPointer?"MSPointerUp":"pointerup",Pt=ye.msPointer?"MSPointerCancel":"pointercancel",Yt={touchstart:Ws,touchmove:Ks,touchend:ni,touchcancel:Pt},Mi={touchstart:sr,touchmove:mi,touchend:mi,touchcancel:mi},gi={},yl=!1;function xu(n,o,h){return o==="touchstart"&&ar(),Mi[o]?(h=Mi[o].bind(this,h),n.addEventListener(Yt[o],h,!1),h):(console.warn("wrong event specified:",o),T)}function vl(n,o,h){if(!Yt[o]){console.warn("wrong event specified:",o);return}n.removeEventListener(Yt[o],h,!1)}function Jr(n){gi[n.pointerId]=n}function Ys(n){gi[n.pointerId]&&(gi[n.pointerId]=n)}function Pi(n){delete gi[n.pointerId]}function ar(){yl||(document.addEventListener(Ws,Jr,!0),document.addEventListener(Ks,Ys,!0),document.addEventListener(ni,Pi,!0),document.addEventListener(Pt,Pi,!0),yl=!0)}function mi(n,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var h in gi)o.touches.push(gi[h]);o.changedTouches=[o],n(o)}}function sr(n,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Ot(o),mi(n,o)}function Dt(n){var o={},h,y;for(y in n)h=n[y],o[y]=h&&h.bind?h.bind(n):h;return n=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var _l=200;function xl(n,o){n.addEventListener("dblclick",o);var h=0,y;function b(C){if(C.detail!==1){y=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var z=aa(C);if(!(z.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!z.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var I=Date.now();I-h<=_l?(y++,y===2&&o(Dt(C))):y=1,h=I}}}return n.addEventListener("click",b),{dblclick:o,simDblclick:b}}function Di(n,o){n.removeEventListener("dblclick",o.dblclick),n.removeEventListener("click",o.simDblclick)}var yi=ta(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qr=ta(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Fs=Qr==="webkitTransition"||Qr==="OTransition"?Qr+"End":"transitionend";function Xs(n){return typeof n=="string"?document.getElementById(n):n}function ea(n,o){var h=n.style[o]||n.currentStyle&&n.currentStyle[o];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(n,null);h=y?y[o]:null}return h==="auto"?null:h}function Ie(n,o,h){var y=document.createElement(n);return y.className=o||"",h&&h.appendChild(y),y}function ut(n){var o=n.parentNode;o&&o.removeChild(n)}function mn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Zt(n){var o=n.parentNode;o&&o.lastChild!==n&&o.appendChild(n)}function Ni(n){var o=n.parentNode;o&&o.firstChild!==n&&o.insertBefore(n,o.firstChild)}function Js(n,o){if(n.classList!==void 0)return n.classList.contains(o);var h=qa(n);return h.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(h)}function Re(n,o){if(n.classList!==void 0)for(var h=R(o),y=0,b=h.length;y<b;y++)n.classList.add(h[y]);else if(!Js(n,o)){var C=qa(n);or(n,(C?C+" ":"")+o)}}function Tt(n,o){n.classList!==void 0?n.classList.remove(o):or(n,A((" "+qa(n)+" ").replace(" "+o+" "," ")))}function or(n,o){n.className.baseVal===void 0?n.className=o:n.className.baseVal=o}function qa(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function wt(n,o){"opacity"in n.style?n.style.opacity=o:"filter"in n.style&&Qs(n,o)}function Qs(n,o){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=n.filters.item(y)}catch{if(o===1)return}o=Math.round(o*100),h?(h.Enabled=o!==100,h.Opacity=o):n.style.filter+=" progid:"+y+"(opacity="+o+")"}function ta(n){for(var o=document.documentElement.style,h=0;h<n.length;h++)if(n[h]in o)return n[h];return!1}function ii(n,o,h){var y=o||new N(0,0);n.style[yi]=(ye.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function mt(n,o){n._leaflet_pos=o,ye.any3d?ii(n,o):(n.style.left=o.x+"px",n.style.top=o.y+"px")}function vi(n){return n._leaflet_pos||new N(0,0)}var lr,Hn,eo;if("onselectstart"in document)lr=function(){Ee(window,"selectstart",Ot)},Hn=function(){at(window,"selectstart",Ot)};else{var cr=ta(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);lr=function(){if(cr){var n=document.documentElement.style;eo=n[cr],n[cr]="none"}},Hn=function(){cr&&(document.documentElement.style[cr]=eo,eo=void 0)}}function Za(){Ee(window,"dragstart",Ot)}function na(){at(window,"dragstart",Ot)}var Va,to;function ur(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(yn(),Va=n,to=n.style.outlineStyle,n.style.outlineStyle="none",Ee(window,"keydown",yn))}function yn(){Va&&(Va.style.outlineStyle=to,Va=void 0,to=void 0,at(window,"keydown",yn))}function Ga(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ia(n){var o=n.getBoundingClientRect();return{x:o.width/n.offsetWidth||1,y:o.height/n.offsetHeight||1,boundingClientRect:o}}var dr={__proto__:null,TRANSFORM:yi,TRANSITION:Qr,TRANSITION_END:Fs,get:Xs,getStyle:ea,create:Ie,remove:ut,empty:mn,toFront:Zt,toBack:Ni,hasClass:Js,addClass:Re,removeClass:Tt,setClass:or,getClass:qa,setOpacity:wt,testProp:ta,setTransform:ii,setPosition:mt,getPosition:vi,get disableTextSelection(){return lr},get enableTextSelection(){return Hn},disableImageDrag:Za,enableImageDrag:na,preventOutline:ur,restoreOutline:yn,getSizedParentNode:Ga,getScale:ia};function Ee(n,o,h,y){if(o&&typeof o=="object")for(var b in o)Rn(n,b,o[b],h);else{o=R(o);for(var C=0,z=o.length;C<z;C++)Rn(n,o[C],h,y)}return this}var On="_leaflet_events";function at(n,o,h,y){if(arguments.length===1)no(n),delete n[On];else if(o&&typeof o=="object")for(var b in o)ra(n,b,o[b],h);else if(o=R(o),arguments.length===2)no(n,function(I){return F(o,I)!==-1});else for(var C=0,z=o.length;C<z;C++)ra(n,o[C],h,y);return this}function no(n,o){for(var h in n[On]){var y=h.split(/\d/)[0];(!o||o(y))&&ra(n,y,null,null,h)}}var Bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rn(n,o,h,y){var b=o+x(h)+(y?"_"+x(y):"");if(n[On]&&n[On][b])return this;var C=function(I){return h.call(y||n,I||window.event)},z=C;!ye.touchNative&&ye.pointer&&o.indexOf("touch")===0?C=xu(n,o,C):ye.touch&&o==="dblclick"?C=xl(n,C):"addEventListener"in n?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?n.addEventListener(Bi[o]||o,C,ye.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(C=function(I){I=I||window.event,ri(n,I)&&z(I)},n.addEventListener(Bi[o],C,!1)):n.addEventListener(o,z,!1):n.attachEvent("on"+o,C),n[On]=n[On]||{},n[On][b]=C}function ra(n,o,h,y,b){b=b||o+x(h)+(y?"_"+x(y):"");var C=n[On]&&n[On][b];if(!C)return this;!ye.touchNative&&ye.pointer&&o.indexOf("touch")===0?vl(n,o,C):ye.touch&&o==="dblclick"?Di(n,C):"removeEventListener"in n?n.removeEventListener(Bi[o]||o,C,!1):n.detachEvent("on"+o,C),n[On][b]=null}function Ln(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function $n(n){return Rn(n,"wheel",Ln),this}function Ui(n){return Ee(n,"mousedown touchstart dblclick contextmenu",Ln),n._leaflet_disable_click=!0,this}function Ot(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function _i(n){return Ot(n),Ln(n),this}function aa(n){if(n.composedPath)return n.composedPath();for(var o=[],h=n.target;h;)o.push(h),h=h.parentNode;return o}function sa(n,o){if(!o)return new N(n.clientX,n.clientY);var h=ia(o),y=h.boundingClientRect;return new N((n.clientX-y.left)/h.x-o.clientLeft,(n.clientY-y.top)/h.y-o.clientTop)}var bl=ye.linux&&ye.chrome?window.devicePixelRatio:ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function en(n){return ye.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/bl:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ri(n,o){var h=o.relatedTarget;if(!h)return!0;try{for(;h&&h!==n;)h=h.parentNode}catch{return!1}return h!==n}var Wa={__proto__:null,on:Ee,off:at,stopPropagation:Ln,disableScrollPropagation:$n,disableClickPropagation:Ui,preventDefault:Ot,stop:_i,getPropagationPath:aa,getMousePosition:sa,getWheelDelta:en,isExternalTarget:ri,addListener:Ee,removeListener:at},hr=se.extend({run:function(n,o,h,y){this.stop(),this._el=n,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=vi(n),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ve(this._animate,this),this._step()},_step:function(n){var o=+new Date-this._startTime,h=this._duration*1e3;o<h?this._runFrame(this._easeOut(o/h),n):(this._runFrame(1),this._complete())},_runFrame:function(n,o){var h=this._startPos.add(this._offset.multiplyBy(n));o&&h._round(),mt(this._el,h),this.fire("step")},_complete:function(){Oe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ve=se.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,o){o=P(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(de(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qr&&ye.any3d&&!ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ee(this._proxy,Fs,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,o,h){if(o=o===void 0?this._zoom:this._limitZoom(o),n=this._limitCenter(de(n),o,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=u({animate:h.animate},h.zoom),h.pan=u({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,o,h.zoom):this._tryAnimatedPan(n,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(n,o,h.pan&&h.pan.noMoveStart),this},setZoom:function(n,o){return this._loaded?this.setView(this.getCenter(),n,{zoom:o}):(this._zoom=n,this)},zoomIn:function(n,o){return n=n||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,o)},zoomOut:function(n,o){return n=n||(ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,o)},setZoomAround:function(n,o,h){var y=this.getZoomScale(o),b=this.getSize().divideBy(2),C=n instanceof N?n:this.latLngToContainerPoint(n),z=C.subtract(b).multiplyBy(1-1/y),I=this.containerPointToLatLng(b.add(z));return this.setView(I,o,{zoom:h})},_getBoundsCenterZoom:function(n,o){o=o||{},n=n.getBounds?n.getBounds():ae(n);var h=re(o.paddingTopLeft||o.padding||[0,0]),y=re(o.paddingBottomRight||o.padding||[0,0]),b=this.getBoundsZoom(n,!1,h.add(y));if(b=typeof o.maxZoom=="number"?Math.min(o.maxZoom,b):b,b===1/0)return{center:n.getCenter(),zoom:b};var C=y.subtract(h).divideBy(2),z=this.project(n.getSouthWest(),b),I=this.project(n.getNorthEast(),b),G=this.unproject(z.add(I).divideBy(2).add(C),b);return{center:G,zoom:b}},fitBounds:function(n,o){if(n=ae(n),!n.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(n,o);return this.setView(h.center,h.zoom,o)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,o){return this.setView(n,this._zoom,{pan:o})},panBy:function(n,o){if(n=re(n).round(),o=o||{},!n.x&&!n.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Re(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,h,o.duration||.25,o.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,o,h){if(h=h||{},h.animate===!1||!ye.any3d)return this.setView(n,o,h);this._stop();var y=this.project(this.getCenter()),b=this.project(n),C=this.getSize(),z=this._zoom;n=de(n),o=o===void 0?z:o;var I=Math.max(C.x,C.y),G=I*this.getZoomScale(z,o),te=b.distanceTo(y)||1,ue=1.42,_e=ue*ue;function De(Ct){var li=Ct?-1:1,qi=Ct?G:I,vo=G*G-I*I+li*_e*_e*te*te,wa=2*qi*_e*te,Sa=vo/wa,Ai=Math.sqrt(Sa*Sa+1)-Sa,ci=Ai<1e-9?-18:Math.log(Ai);return ci}function Vt(Ct){return(Math.exp(Ct)-Math.exp(-Ct))/2}function Rt(Ct){return(Math.exp(Ct)+Math.exp(-Ct))/2}function hn(Ct){return Vt(Ct)/Rt(Ct)}var Je=De(0);function Qe(Ct){return I*(Rt(Je)/Rt(Je+ue*Ct))}function He(Ct){return I*(Rt(Je)*hn(Je+ue*Ct)-Vt(Je))/_e}function Ci(Ct){return 1-Math.pow(1-Ct,1.5)}var bn=Date.now(),os=(De(1)-Je)/ue,ji=h.duration?1e3*h.duration:1e3*os*.8;function yo(){var Ct=(Date.now()-bn)/ji,li=Ci(Ct)*os;Ct<=1?(this._flyToFrame=ve(yo,this),this._move(this.unproject(y.add(b.subtract(y).multiplyBy(He(li)/te)),z),this.getScaleZoom(I/Qe(li),z),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),yo.call(this),this},flyToBounds:function(n,o){var h=this._getBoundsCenterZoom(n,o);return this.flyTo(h.center,h.zoom,o)},setMaxBounds:function(n){return n=ae(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var o=this.options.minZoom;return this.options.minZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var o=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,o){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,ae(n));return h.equals(y)||this.panTo(y,o),this._enforcingBounds=!1,this},panInside:function(n,o){o=o||{};var h=re(o.paddingTopLeft||o.padding||[0,0]),y=re(o.paddingBottomRight||o.padding||[0,0]),b=this.project(this.getCenter()),C=this.project(n),z=this.getPixelBounds(),I=V([z.min.add(h),z.max.subtract(y)]),G=I.getSize();if(!I.contains(C)){this._enforcingBounds=!0;var te=C.subtract(I.getCenter()),ue=I.extend(C).getSize().subtract(G);b.x+=te.x<0?-ue.x:ue.x,b.y+=te.y<0?-ue.y:ue.y,this.panTo(this.unproject(b),o),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=u({animate:!1,pan:!0},n===!0?{animate:!0}:n);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=o.divideBy(2).round(),b=h.divideBy(2).round(),C=y.subtract(b);return!C.x&&!C.y?this:(n.animate&&n.pan?this.panBy(C):(n.pan&&this._rawPanBy(C),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=u({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=p(this._handleGeolocationResponse,this),h=p(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,h,n):navigator.geolocation.getCurrentPosition(o,h,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var o=n.code,h=n.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var o=n.coords.latitude,h=n.coords.longitude,y=new he(o,h),b=y.toBounds(n.coords.accuracy*2),C=this._locateOptions;if(C.setView){var z=this.getBoundsZoom(b);this.setView(y,C.maxZoom?Math.min(z,C.maxZoom):z)}var I={latlng:y,bounds:b,timestamp:n.timestamp};for(var G in n.coords)typeof n.coords[G]=="number"&&(I[G]=n.coords[G]);this.fire("locationfound",I)}},addHandler:function(n,o){if(!o)return this;var h=this[n]=new o(this);return this._handlers.push(h),this.options[n]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Oe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ut(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,o){var h="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),y=Ie("div",h,o||this._mapPane);return n&&(this._panes[n]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),o=this.unproject(n.getBottomLeft()),h=this.unproject(n.getTopRight());return new ie(o,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,o,h){n=ae(n),h=re(h||[0,0]);var y=this.getZoom()||0,b=this.getMinZoom(),C=this.getMaxZoom(),z=n.getNorthWest(),I=n.getSouthEast(),G=this.getSize().subtract(h),te=V(this.project(I,y),this.project(z,y)).getSize(),ue=ye.any3d?this.options.zoomSnap:1,_e=G.x/te.x,De=G.y/te.y,Vt=o?Math.max(_e,De):Math.min(_e,De);return y=this.getScaleZoom(Vt,y),ue&&(y=Math.round(y/(ue/100))*(ue/100),y=o?Math.ceil(y/ue)*ue:Math.floor(y/ue)*ue),Math.max(b,Math.min(C,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,o){var h=this._getTopLeftPoint(n,o);return new O(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,o){var h=this.options.crs;return o=o===void 0?this._zoom:o,h.scale(n)/h.scale(o)},getScaleZoom:function(n,o){var h=this.options.crs;o=o===void 0?this._zoom:o;var y=h.zoom(n*h.scale(o));return isNaN(y)?1/0:y},project:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(de(n),o)},unproject:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(re(n),o)},layerPointToLatLng:function(n){var o=re(n).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(n){var o=this.project(de(n))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(de(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ae(n))},distance:function(n,o){return this.options.crs.distance(de(n),de(o))},containerPointToLayerPoint:function(n){return re(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return re(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var o=this.containerPointToLayerPoint(re(n));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(n)))},mouseEventToContainerPoint:function(n){return sa(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var o=this._container=Xs(n);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ee(o,"scroll",this._onScroll,this),this._containerId=x(o)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ye.any3d,Re(n,"leaflet-container"+(ye.touch?" leaflet-touch":"")+(ye.retina?" leaflet-retina":"")+(ye.ielt9?" leaflet-oldie":"")+(ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=ea(n,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mt(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Re(n.markerPane,"leaflet-zoom-hide"),Re(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,o,h){mt(this._mapPane,new N(0,0));var y=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var b=this._zoom!==o;this._moveStart(b,h)._move(n,o)._moveEnd(b),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(n,o){return n&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(n,o,h,y){o===void 0&&(o=this._zoom);var b=this._zoom!==o;return this._zoom=o,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),y?h&&h.pinch&&this.fire("zoom",h):((b||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Oe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){mt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[x(this._container)]=this;var o=n?at:Ee;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),ye.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Oe(this._resizeRequest),this._resizeRequest=ve(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,o){for(var h=[],y,b=o==="mouseout"||o==="mouseover",C=n.target||n.srcElement,z=!1;C;){if(y=this._targets[x(C)],y&&(o==="click"||o==="preclick")&&this._draggableMoved(y)){z=!0;break}if(y&&y.listens(o,!0)&&(b&&!ri(C,n)||(h.push(y),b))||C===this._container)break;C=C.parentNode}return!h.length&&!z&&!b&&this.listens(o,!0)&&(h=[this]),h},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var o=n.target||n.srcElement;if(!(!this._loaded||o._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(o))){var h=n.type;h==="mousedown"&&ur(o),this._fireDOMEvent(n,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,o,h){if(n.type==="click"){var y=u({},n);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var b=this._findEventTargets(n,o);if(h){for(var C=[],z=0;z<h.length;z++)h[z].listens(o,!0)&&C.push(h[z]);b=C.concat(b)}if(b.length){o==="contextmenu"&&Ot(n);var I=b[0],G={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var te=I.getLatLng&&(!I._radius||I._radius<=10);G.containerPoint=te?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(n),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=te?I.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(z=0;z<b.length;z++)if(b[z].fire(o,G,!0),G.originalEvent._stopped||b[z].options.bubblingMouseEvents===!1&&F(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,o=this._handlers.length;n<o;n++)this._handlers[n].disable()},whenReady:function(n,o){return this._loaded?n.call(o||this,{target:this}):this.on("load",n,o),this},_getMapPanePos:function(){return vi(this._mapPane)||new N(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,o){var h=n&&o!==void 0?this._getNewPixelOrigin(n,o):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,o){var h=this.getSize()._divideBy(2);return this.project(n,o)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,o,h){var y=this._getNewPixelOrigin(h,o);return this.project(n,o)._subtract(y)},_latLngBoundsToNewLayerBounds:function(n,o,h){var y=this._getNewPixelOrigin(h,o);return V([this.project(n.getSouthWest(),o)._subtract(y),this.project(n.getNorthWest(),o)._subtract(y),this.project(n.getSouthEast(),o)._subtract(y),this.project(n.getNorthEast(),o)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,o,h){if(!h)return n;var y=this.project(n,o),b=this.getSize().divideBy(2),C=new O(y.subtract(b),y.add(b)),z=this._getBoundsOffset(C,h,o);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?n:this.unproject(y.add(z),o)},_limitOffset:function(n,o){if(!o)return n;var h=this.getPixelBounds(),y=new O(h.min.add(n),h.max.add(n));return n.add(this._getBoundsOffset(y,o))},_getBoundsOffset:function(n,o,h){var y=V(this.project(o.getNorthEast(),h),this.project(o.getSouthWest(),h)),b=y.min.subtract(n.min),C=y.max.subtract(n.max),z=this._rebound(b.x,-C.x),I=this._rebound(b.y,-C.y);return new N(z,I)},_rebound:function(n,o){return n+o>0?Math.round(n-o)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(o))},_limitZoom:function(n){var o=this.getMinZoom(),h=this.getMaxZoom(),y=ye.any3d?this.options.zoomSnap:1;return y&&(n=Math.round(n/y)*y),Math.max(o,Math.min(h,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,o){var h=this._getCenterOffset(n)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,o),!0)},_createAnimProxy:function(){var n=this._proxy=Ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(o){var h=yi,y=this._proxy.style[h];ii(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),o=this.getZoom();ii(this._proxy,this.project(n,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,o,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(o),b=this._getCenterOffset(n)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(b)?!1:(ve(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(n,o,!0)},this),!0)},_animateZoom:function(n,o,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=o,Re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:o,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function io(n,o){return new Ve(n,o)}var dn=Ce.extend({options:{position:"topright"},initialize:function(n){P(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var o=this._map;return o&&o.removeControl(this),this.options.position=n,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var o=this._container=this.onAdd(n),h=this.getPosition(),y=n._controlCorners[h];return Re(o,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(o,y.firstChild):y.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ai=function(n){return new dn(n)};Ve.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},o="leaflet-",h=this._controlContainer=Ie("div",o+"control-container",this._container);function y(b,C){var z=o+b+" "+o+C;n[b+C]=Ie("div",z,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ut(this._controlCorners[n]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var oa=dn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,o,h,y){return h<y?-1:y<h?1:0}},initialize:function(n,o,h){P(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in n)this._addLayer(n[y],y);for(y in o)this._addLayer(o[y],y,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return dn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,o){return this._addLayer(n,o),this._map?this._update():this},addOverlay:function(n,o){return this._addLayer(n,o,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var o=this._getLayer(x(n));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",o=this._container=Ie("div",n),h=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Ui(o),$n(o);var y=this._section=Ie("section",n+"-list");h&&(this._map.on("click",this.collapse,this),Ee(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Ie("a",n+"-toggle",o);b.href="#",b.title="Layers",b.setAttribute("role","button"),Ee(b,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){Ot(C),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Ie("div",n+"-base",y),this._separator=Ie("div",n+"-separator",y),this._overlaysList=Ie("div",n+"-overlays",y),o.appendChild(y)},_getLayer:function(n){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&x(this._layers[o].layer)===n)return this._layers[o]},_addLayer:function(n,o,h){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:o,overlay:h}),this.options.sortLayers&&this._layers.sort(p(function(y,b){return this.options.sortFunction(y.layer,b.layer,y.name,b.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mn(this._baseLayersList),mn(this._overlaysList),this._layerControlInputs=[];var n,o,h,y,b=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),o=o||y.overlay,n=n||!y.overlay,b+=y.overlay?0:1;return this.options.hideSingleBase&&(n=n&&b>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=o&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var o=this._getLayer(x(n.target)),h=o.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;h&&this._map.fire(h,o)},_createRadioElement:function(n,o){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(o?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(n){var o=document.createElement("label"),h=this._map.hasLayer(n.layer),y;n.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+x(this),h),this._layerControlInputs.push(y),y.layerId=x(n.layer),Ee(y,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+n.name;var C=document.createElement("span");o.appendChild(C),C.appendChild(y),C.appendChild(b);var z=n.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,o,h,y=[],b=[];this._handlingClick=!0;for(var C=n.length-1;C>=0;C--)o=n[C],h=this._getLayer(o.layerId).layer,o.checked?y.push(h):o.checked||b.push(h);for(C=0;C<b.length;C++)this._map.hasLayer(b[C])&&this._map.removeLayer(b[C]);for(C=0;C<y.length;C++)this._map.hasLayer(y[C])||this._map.addLayer(y[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,o,h,y=this._map.getZoom(),b=n.length-1;b>=0;b--)o=n[b],h=this._getLayer(o.layerId).layer,o.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Ee(n,"click",Ot),this.expand();var o=this;setTimeout(function(){at(n,"click",Ot),o._preventClick=!1})}}),wl=function(n,o,h){return new oa(n,o,h)},ro=dn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var o="leaflet-control-zoom",h=Ie("div",o+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,o+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,o+"-out",h,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,o,h,y,b){var C=Ie("a",h,y);return C.innerHTML=n,C.href="#",C.title=o,C.setAttribute("role","button"),C.setAttribute("aria-label",o),Ui(C),Ee(C,"click",_i),Ee(C,"click",b,this),Ee(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var n=this._map,o="leaflet-disabled";Tt(this._zoomInButton,o),Tt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Re(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Re(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ve.mergeOptions({zoomControl:!0}),Ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ro,this.addControl(this.zoomControl))});var bu=function(n){return new ro(n)},Sl=dn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var o="leaflet-control-scale",h=Ie("div",o),y=this.options;return this._addScales(y,o+"-line",h),n.on(y.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),h},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,o,h){n.metric&&(this._mScale=Ie("div",o,h)),n.imperial&&(this._iScale=Ie("div",o,h))},_update:function(){var n=this._map,o=n.getSize().y/2,h=n.distance(n.containerPointToLatLng([0,o]),n.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(h)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var o=this._getRoundNum(n),h=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,h,o/n)},_updateImperial:function(n){var o=n*3.2808399,h,y,b;o>5280?(h=o/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(b=this._getRoundNum(o),this._updateScale(this._iScale,b+" ft",b/o))},_updateScale:function(n,o,h){n.style.width=Math.round(this.options.maxWidth*h)+"px",n.innerHTML=o},_getRoundNum:function(n){var o=Math.pow(10,(Math.floor(n)+"").length-1),h=n/o;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,o*h}}),ao=function(n){return new Sl(n)},wu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',so=dn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ye.inlineSvg?wu+" ":"")+"Leaflet</a>"},initialize:function(n){P(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Ie("div","leaflet-control-attribution"),Ui(this._container);for(var o in n._layers)n._layers[o].getAttribution&&this.addAttribution(n._layers[o].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var o in this._attributions)this._attributions[o]&&n.push(o);var h=[];this.options.prefix&&h.push(this.options.prefix),n.length&&h.push(n.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ve.mergeOptions({attributionControl:!0}),Ve.addInitHook(function(){this.options.attributionControl&&new so().addTo(this)});var Su=function(n){return new so(n)};dn.Layers=oa,dn.Zoom=ro,dn.Scale=Sl,dn.Attribution=so,ai.layers=wl,ai.zoom=bu,ai.scale=ao,ai.attribution=Su;var qn=Ce.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(n,o){return n.addHandler(o,this),this};var Tu={Events:Z},oo=ye.touch?"touchstart mousedown":"mousedown",xi=se.extend({options:{clickTolerance:3},initialize:function(n,o,h,y){P(this,y),this._element=n,this._dragStartTarget=o||n,this._preventOutline=h},enable:function(){this._enabled||(Ee(this._dragStartTarget,oo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xi._dragging===this&&this.finishDrag(!0),at(this._dragStartTarget,oo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Js(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){xi._dragging===this&&this.finishDrag();return}if(!(xi._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(xi._dragging=this,this._preventOutline&&ur(this._element),Za(),lr(),!this._moving)){this.fire("down");var o=n.touches?n.touches[0]:n,h=Ga(this._element);this._startPoint=new N(o.clientX,o.clientY),this._startPos=vi(this._element),this._parentScale=ia(h);var y=n.type==="mousedown";Ee(document,y?"mousemove":"touchmove",this._onMove,this),Ee(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var o=n.touches&&n.touches.length===1?n.touches[0]:n,h=new N(o.clientX,o.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ot(n),this._moved||(this.fire("dragstart"),this._moved=!0,Re(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),mt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Tt(document.body,"leaflet-dragging"),this._lastTarget&&(Tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),at(document,"mousemove touchmove",this._onMove,this),at(document,"mouseup touchend touchcancel",this._onUp,this),na(),Hn();var o=this._moved&&this._moving;this._moving=!1,xi._dragging=!1,o&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Tl(n,o,h){var y,b=[1,4,2,8],C,z,I,G,te,ue,_e,De;for(C=0,ue=n.length;C<ue;C++)n[C]._code=Ii(n[C],o);for(I=0;I<4;I++){for(_e=b[I],y=[],C=0,ue=n.length,z=ue-1;C<ue;z=C++)G=n[C],te=n[z],G._code&_e?te._code&_e||(De=Ka(te,G,_e,o,h),De._code=Ii(De,o),y.push(De)):(te._code&_e&&(De=Ka(te,G,_e,o,h),De._code=Ii(De,o),y.push(De)),y.push(G));n=y}return n}function El(n,o){var h,y,b,C,z,I,G,te,ue;if(!n||n.length===0)throw new Error("latlngs not passed");vn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var _e=de([0,0]),De=ae(n),Vt=De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest());Vt<1700&&(_e=lo(n));var Rt=n.length,hn=[];for(h=0;h<Rt;h++){var Je=de(n[h]);hn.push(o.project(de([Je.lat-_e.lat,Je.lng-_e.lng])))}for(I=G=te=0,h=0,y=Rt-1;h<Rt;y=h++)b=hn[h],C=hn[y],z=b.y*C.x-C.y*b.x,G+=(b.x+C.x)*z,te+=(b.y+C.y)*z,I+=z*3;I===0?ue=hn[0]:ue=[G/I,te/I];var Qe=o.unproject(re(ue));return de([Qe.lat+_e.lat,Qe.lng+_e.lng])}function lo(n){for(var o=0,h=0,y=0,b=0;b<n.length;b++){var C=de(n[b]);o+=C.lat,h+=C.lng,y++}return de([o/y,h/y])}var co={__proto__:null,clipPolygon:Tl,polygonCenter:El,centroid:lo};function Cl(n,o){if(!o||!n.length)return n.slice();var h=o*o;return n=Cu(n,h),n=Al(n,h),n}function jl(n,o,h){return Math.sqrt(la(n,o,h,!0))}function Eu(n,o,h){return la(n,o,h)}function Al(n,o){var h=n.length,y=typeof Uint8Array<"u"?Uint8Array:Array,b=new y(h);b[0]=b[h-1]=1,uo(n,b,o,0,h-1);var C,z=[];for(C=0;C<h;C++)b[C]&&z.push(n[C]);return z}function uo(n,o,h,y,b){var C=0,z,I,G;for(I=y+1;I<=b-1;I++)G=la(n[I],n[y],n[b],!0),G>C&&(z=I,C=G);C>h&&(o[z]=1,uo(n,o,h,y,z),uo(n,o,h,z,b))}function Cu(n,o){for(var h=[n[0]],y=1,b=0,C=n.length;y<C;y++)ju(n[y],n[b])>o&&(h.push(n[y]),b=y);return b<C-1&&h.push(n[C-1]),h}var Ol;function Rl(n,o,h,y,b){var C=y?Ol:Ii(n,h),z=Ii(o,h),I,G,te;for(Ol=z;;){if(!(C|z))return[n,o];if(C&z)return!1;I=C||z,G=Ka(n,o,I,h,b),te=Ii(G,h),I===C?(n=G,C=te):(o=G,z=te)}}function Ka(n,o,h,y,b){var C=o.x-n.x,z=o.y-n.y,I=y.min,G=y.max,te,ue;return h&8?(te=n.x+C*(G.y-n.y)/z,ue=G.y):h&4?(te=n.x+C*(I.y-n.y)/z,ue=I.y):h&2?(te=G.x,ue=n.y+z*(G.x-n.x)/C):h&1&&(te=I.x,ue=n.y+z*(I.x-n.x)/C),new N(te,ue,b)}function Ii(n,o){var h=0;return n.x<o.min.x?h|=1:n.x>o.max.x&&(h|=2),n.y<o.min.y?h|=4:n.y>o.max.y&&(h|=8),h}function ju(n,o){var h=o.x-n.x,y=o.y-n.y;return h*h+y*y}function la(n,o,h,y){var b=o.x,C=o.y,z=h.x-b,I=h.y-C,G=z*z+I*I,te;return G>0&&(te=((n.x-b)*z+(n.y-C)*I)/G,te>1?(b=h.x,C=h.y):te>0&&(b+=z*te,C+=I*te)),z=n.x-b,I=n.y-C,y?z*z+I*I:new N(b,C)}function vn(n){return!k(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Ya(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vn(n)}function fr(n,o){var h,y,b,C,z,I,G,te;if(!n||n.length===0)throw new Error("latlngs not passed");vn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ue=de([0,0]),_e=ae(n),De=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());De<1700&&(ue=lo(n));var Vt=n.length,Rt=[];for(h=0;h<Vt;h++){var hn=de(n[h]);Rt.push(o.project(de([hn.lat-ue.lat,hn.lng-ue.lng])))}for(h=0,y=0;h<Vt-1;h++)y+=Rt[h].distanceTo(Rt[h+1])/2;if(y===0)te=Rt[0];else for(h=0,C=0;h<Vt-1;h++)if(z=Rt[h],I=Rt[h+1],b=z.distanceTo(I),C+=b,C>y){G=(C-y)/b,te=[I.x-G*(I.x-z.x),I.y-G*(I.y-z.y)];break}var Je=o.unproject(re(te));return de([Je.lat+ue.lat,Je.lng+ue.lng])}var Au={__proto__:null,simplify:Cl,pointToSegmentDistance:jl,closestPointOnSegment:Eu,clipSegment:Rl,_getEdgeIntersection:Ka,_getBitCode:Ii,_sqClosestPointOnSegment:la,isFlat:vn,_flat:Ya,polylineCenter:fr},Fa={project:function(n){return new N(n.lng,n.lat)},unproject:function(n){return new he(n.y,n.x)},bounds:new O([-180,-90],[180,90])},Xa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var o=Math.PI/180,h=this.R,y=n.lat*o,b=this.R_MINOR/h,C=Math.sqrt(1-b*b),z=C*Math.sin(y),I=Math.tan(Math.PI/4-y/2)/Math.pow((1-z)/(1+z),C/2);return y=-h*Math.log(Math.max(I,1e-10)),new N(n.lng*o*h,y)},unproject:function(n){for(var o=180/Math.PI,h=this.R,y=this.R_MINOR/h,b=Math.sqrt(1-y*y),C=Math.exp(-n.y/h),z=Math.PI/2-2*Math.atan(C),I=0,G=.1,te;I<15&&Math.abs(G)>1e-7;I++)te=b*Math.sin(z),te=Math.pow((1-te)/(1+te),b/2),G=Math.PI/2-2*Math.atan(C*te)-z,z+=G;return new he(z*o,n.x*o/h)}},Ll={__proto__:null,LonLat:Fa,Mercator:Xa,SphericalMercator:Jn},kl=u({},_t,{code:"EPSG:3395",projection:Xa,transformation:(function(){var n=.5/(Math.PI*Xa.R);return xt(n,.5,-n,.5)})()}),ho=u({},_t,{code:"EPSG:4326",projection:Fa,transformation:xt(1/180,1,-1/180,.5)}),pr=u({},Me,{projection:Fa,transformation:xt(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,o){var h=o.lng-n.lng,y=o.lat-n.lat;return Math.sqrt(h*h+y*y)},infinite:!0});Me.Earth=_t,Me.EPSG3395=kl,Me.EPSG3857=Ue,Me.EPSG900913=cn,Me.EPSG4326=ho,Me.Simple=pr;var kn=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[x(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[x(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var o=n.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var h=this.getEvents();o.on(h,this),this.once("remove",function(){o.off(h,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Ve.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var o=x(n);return this._layers[o]?this:(this._layers[o]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var o=x(n);return this._layers[o]?(this._loaded&&n.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return x(n)in this._layers},eachLayer:function(n,o){for(var h in this._layers)n.call(o,this._layers[h]);return this},_addLayers:function(n){n=n?k(n)?n:[n]:[];for(var o=0,h=n.length;o<h;o++)this.addLayer(n[o])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[x(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var o=x(n);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,o=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var b=this._zoomBoundLayers[y].options;n=b.minZoom===void 0?n:Math.min(n,b.minZoom),o=b.maxZoom===void 0?o:Math.max(o,b.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=n===1/0?void 0:n,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var gr=kn.extend({initialize:function(n,o){P(this,o),this._layers={};var h,y;if(n)for(h=0,y=n.length;h<y;h++)this.addLayer(n[h])},addLayer:function(n){var o=this.getLayerId(n);return this._layers[o]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var o=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(n){var o=typeof n=="number"?n:this.getLayerId(n);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var o=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[n]&&y[n].apply(y,o);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,o){for(var h in this._layers)n.call(o,this._layers[h]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return x(n)}}),Ou=function(n,o){return new gr(n,o)},Zn=gr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),gr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),gr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new ie;for(var o in this._layers){var h=this._layers[o];n.extend(h.getBounds?h.getBounds():h.getLatLng())}return n}}),zl=function(n,o){return new Zn(n,o)},Vn=Ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){P(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,o){var h=this._getIconUrl(n);if(!h){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(y,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(n,o){var h=this.options,y=h[o+"Size"];typeof y=="number"&&(y=[y,y]);var b=re(y),C=re(o==="shadow"&&h.shadowAnchor||h.iconAnchor||b&&b.divideBy(2,!0));n.className="leaflet-marker-"+o+" "+(h.className||""),C&&(n.style.marginLeft=-C.x+"px",n.style.marginTop=-C.y+"px"),b&&(n.style.width=b.x+"px",n.style.height=b.y+"px")},_createImg:function(n,o){return o=o||document.createElement("img"),o.src=n,o},_getIconUrl:function(n){return ye.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function ca(n){return new Vn(n)}var ua=Vn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ua.imagePath!="string"&&(ua.imagePath=this._detectIconPath()),(this.options.imagePath||ua.imagePath)+Vn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var o=function(h,y,b){var C=y.exec(h);return C&&C[b]};return n=o(n,/^url\((['"])?(.+)\1\)$/,2),n&&o(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Ie("div","leaflet-default-icon-path",document.body),o=ea(n,"background-image")||ea(n,"backgroundImage");if(document.body.removeChild(n),o=this._stripUrl(o),o)return o;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),da=qn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new xi(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Re(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var o=this._marker,h=o._map,y=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,C=vi(o._icon),z=h.getPixelBounds(),I=h.getPixelOrigin(),G=V(z.min._subtract(I).add(b),z.max._subtract(I).subtract(b));if(!G.contains(C)){var te=re((Math.max(G.max.x,C.x)-G.max.x)/(z.max.x-G.max.x)-(Math.min(G.min.x,C.x)-G.min.x)/(z.min.x-G.min.x),(Math.max(G.max.y,C.y)-G.max.y)/(z.max.y-G.max.y)-(Math.min(G.min.y,C.y)-G.min.y)/(z.min.y-G.min.y)).multiplyBy(y);h.panBy(te,{animate:!1}),this._draggable._newPos._add(te),this._draggable._startPos._add(te),mt(o._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ve(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Oe(this._panRequest),this._panRequest=ve(this._adjustPan.bind(this,n)))},_onDrag:function(n){var o=this._marker,h=o._shadow,y=vi(o._icon),b=o._map.layerPointToLatLng(y);h&&mt(h,y),o._latlng=b,n.latlng=b,n.oldLatLng=this._oldLatLng,o.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Oe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ha=kn.extend({options:{icon:new ua,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,o){P(this,o),this._latlng=de(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var o=this._latlng;return this._latlng=de(n),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=n.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,n.title&&(h.title=n.title),h.tagName==="IMG"&&(h.alt=n.alt||"")),Re(h,o),n.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(h,"focus",this._panOnFocus,this);var b=n.icon.createShadow(this._shadow),C=!1;b!==this._shadow&&(this._removeShadow(),C=!0),b&&(Re(b,o),b.alt=""),this._shadow=b,n.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&C&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&mt(this._icon,n),this._shadow&&mt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),da)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new da(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&wt(this._icon,n),this._shadow&&wt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var o=this.options.icon.options,h=o.iconSize?re(o.iconSize):re(0,0),y=o.iconAnchor?re(o.iconAnchor):re(0,0);n.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ml(n,o){return new ha(n,o)}var Gn=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return P(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mr=Gn.extend({options:{fill:!0,radius:10},initialize:function(n,o){P(this,o),this._latlng=de(n),this._radius=this.options.radius},setLatLng:function(n){var o=this._latlng;return this._latlng=de(n),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var o=n&&n.radius||this._radius;return Gn.prototype.setStyle.call(this,n),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,o=this._radiusY||n,h=this._clickTolerance(),y=[n+h,o+h];this._pxBounds=new O(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Pl(n,o){return new mr(n,o)}var Ja=mr.extend({initialize:function(n,o,h){if(typeof o=="number"&&(o=u({},h,{radius:o})),P(this,o),this._latlng=de(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Gn.prototype.setStyle,_project:function(){var n=this._latlng.lng,o=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===_t.distance){var b=Math.PI/180,C=this._mRadius/_t.R/b,z=h.project([o+C,n]),I=h.project([o-C,n]),G=z.add(I).divideBy(2),te=h.unproject(G).lat,ue=Math.acos((Math.cos(C*b)-Math.sin(o*b)*Math.sin(te*b))/(Math.cos(o*b)*Math.cos(te*b)))/b;(isNaN(ue)||ue===0)&&(ue=C/Math.cos(Math.PI/180*o)),this._point=G.subtract(h.getPixelOrigin()),this._radius=isNaN(ue)?0:G.x-h.project([te,n-ue]).x,this._radiusY=G.y-z.y}else{var _e=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(_e).x}this._updateBounds()}});function Dl(n,o,h){return new Ja(n,o,h)}var si=Gn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,o){P(this,o),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var o=1/0,h=null,y=la,b,C,z=0,I=this._parts.length;z<I;z++)for(var G=this._parts[z],te=1,ue=G.length;te<ue;te++){b=G[te-1],C=G[te];var _e=y(n,b,C,!0);_e<o&&(o=_e,h=y(n,b,C))}return h&&(h.distance=Math.sqrt(o)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,o){return o=o||this._defaultShape(),n=de(n),o.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new ie,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var o=[],h=vn(n),y=0,b=n.length;y<b;y++)h?(o[y]=de(n[y]),this._bounds.extend(o[y])):o[y]=this._convertLatLngs(n[y]);return o},_project:function(){var n=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),o=new N(n,n);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(n,o,h){var y=n[0]instanceof he,b=n.length,C,z;if(y){for(z=[],C=0;C<b;C++)z[C]=this._map.latLngToLayerPoint(n[C]),h.extend(z[C]);o.push(z)}else for(C=0;C<b;C++)this._projectLatlngs(n[C],o,h)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,h,y,b,C,z,I,G;for(h=0,b=0,C=this._rings.length;h<C;h++)for(G=this._rings[h],y=0,z=G.length;y<z-1;y++)I=Rl(G[y],G[y+1],n,y,!0),I&&(o[b]=o[b]||[],o[b].push(I[0]),(I[1]!==G[y+1]||y===z-2)&&(o[b].push(I[1]),b++))}},_simplifyPoints:function(){for(var n=this._parts,o=this.options.smoothFactor,h=0,y=n.length;h<y;h++)n[h]=Cl(n[h],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,o){var h,y,b,C,z,I,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(h=0,C=this._parts.length;h<C;h++)for(I=this._parts[h],y=0,z=I.length,b=z-1;y<z;b=y++)if(!(!o&&y===0)&&jl(n,I[b],I[y])<=G)return!0;return!1}});function Ru(n,o){return new si(n,o)}si._flat=Ya;var yr=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return El(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var o=si.prototype._convertLatLngs.call(this,n),h=o.length;return h>=2&&o[0]instanceof he&&o[0].equals(o[h-1])&&o.pop(),o},_setLatLngs:function(n){si.prototype._setLatLngs.call(this,n),vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,o=this.options.weight,h=new N(o,o);if(n=new O(n.min.subtract(h),n.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,b=this._rings.length,C;y<b;y++)C=Tl(this._rings[y],n,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var o=!1,h,y,b,C,z,I,G,te;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(C=0,G=this._parts.length;C<G;C++)for(h=this._parts[C],z=0,te=h.length,I=te-1;z<te;I=z++)y=h[z],b=h[I],y.y>n.y!=b.y>n.y&&n.x<(b.x-y.x)*(n.y-y.y)/(b.y-y.y)+y.x&&(o=!o);return o||si.prototype._containsPoint.call(this,n,!0)}});function Lu(n,o){return new yr(n,o)}var oi=Zn.extend({initialize:function(n,o){P(this,o),this._layers={},n&&this.addData(n)},addData:function(n){var o=k(n)?n:n.features,h,y,b;if(o){for(h=0,y=o.length;h<y;h++)b=o[h],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var C=this.options;if(C.filter&&!C.filter(n))return this;var z=Ft(n,C);return z?(z.feature=ts(n),z.defaultOptions=z.options,this.resetStyle(z),C.onEachFeature&&C.onEachFeature(n,z),this.addLayer(z)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=u({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(o){this._setLayerStyle(o,n)},this)},_setLayerStyle:function(n,o){n.setStyle&&(typeof o=="function"&&(o=o(n.feature)),n.setStyle(o))}});function Ft(n,o){var h=n.type==="Feature"?n.geometry:n,y=h?h.coordinates:null,b=[],C=o&&o.pointToLayer,z=o&&o.coordsToLatLng||Qa,I,G,te,ue;if(!y&&!h)return null;switch(h.type){case"Point":return I=z(y),vr(C,n,I,o);case"MultiPoint":for(te=0,ue=y.length;te<ue;te++)I=z(y[te]),b.push(vr(C,n,I,o));return new Zn(b);case"LineString":case"MultiLineString":return G=fa(y,h.type==="LineString"?0:1,z),new si(G,o);case"Polygon":case"MultiPolygon":return G=fa(y,h.type==="Polygon"?1:2,z),new yr(G,o);case"GeometryCollection":for(te=0,ue=h.geometries.length;te<ue;te++){var _e=Ft({geometry:h.geometries[te],type:"Feature",properties:n.properties},o);_e&&b.push(_e)}return new Zn(b);case"FeatureCollection":for(te=0,ue=h.features.length;te<ue;te++){var De=Ft(h.features[te],o);De&&b.push(De)}return new Zn(b);default:throw new Error("Invalid GeoJSON object.")}}function vr(n,o,h,y){return n?n(o,h):new ha(h,y&&y.markersInheritOptions&&y)}function Qa(n){return new he(n[1],n[0],n[2])}function fa(n,o,h){for(var y=[],b=0,C=n.length,z;b<C;b++)z=o?fa(n[b],o-1,h):(h||Qa)(n[b]),y.push(z);return y}function es(n,o){return n=de(n),n.alt!==void 0?[E(n.lng,o),E(n.lat,o),E(n.alt,o)]:[E(n.lng,o),E(n.lat,o)]}function pa(n,o,h,y){for(var b=[],C=0,z=n.length;C<z;C++)b.push(o?pa(n[C],vn(n[C])?0:o-1,h,y):es(n[C],y));return!o&&h&&b.length>0&&b.push(b[0].slice()),b}function bi(n,o){return n.feature?u({},n.feature,{geometry:o}):ts(o)}function ts(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var wi={toGeoJSON:function(n){return bi(this,{type:"Point",coordinates:es(this.getLatLng(),n)})}};ha.include(wi),Ja.include(wi),mr.include(wi),si.include({toGeoJSON:function(n){var o=!vn(this._latlngs),h=pa(this._latlngs,o?1:0,!1,n);return bi(this,{type:(o?"Multi":"")+"LineString",coordinates:h})}}),yr.include({toGeoJSON:function(n){var o=!vn(this._latlngs),h=o&&!vn(this._latlngs[0]),y=pa(this._latlngs,h?2:o?1:0,!0,n);return o||(y=[y]),bi(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),gr.include({toMultiPoint:function(n){var o=[];return this.eachLayer(function(h){o.push(h.toGeoJSON(n).geometry.coordinates)}),bi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(n){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(n);var h=o==="GeometryCollection",y=[];return this.eachLayer(function(b){if(b.toGeoJSON){var C=b.toGeoJSON(n);if(h)y.push(C.geometry);else{var z=ts(C);z.type==="FeatureCollection"?y.push.apply(y,z.features):y.push(z)}}}),h?bi(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function ns(n,o){return new oi(n,o)}var ga=ns,_r=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,o,h){this._url=n,this._bounds=ae(o),P(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Zt(this._image),this},bringToBack:function(){return this._map&&Ni(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ae(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",o=this._image=n?this._url:Ie("img");if(Re(o,"leaflet-image-layer"),this._zoomAnimated&&Re(o,"leaflet-zoom-animated"),this.options.className&&Re(o,this.options.className),o.onselectstart=T,o.onmousemove=T,o.onload=p(this.fire,this,"load"),o.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(n){var o=this._map.getZoomScale(n.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;ii(this._image,h,o)},_reset:function(){var n=this._image,o=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=o.getSize();mt(n,o.min),n.style.width=h.x+"px",n.style.height=h.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Nl=function(n,o,h){return new _r(n,o,h)},Si=_r.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",o=this._image=n?this._url:Ie("video");if(Re(o,"leaflet-image-layer"),this._zoomAnimated&&Re(o,"leaflet-zoom-animated"),this.options.className&&Re(o,this.options.className),o.onselectstart=T,o.onmousemove=T,o.onloadeddata=p(this.fire,this,"load"),n){for(var h=o.getElementsByTagName("source"),y=[],b=0;b<h.length;b++)y.push(h[b].src);this._url=h.length>0?y:[o.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var z=Ie("source");z.src=this._url[C],o.appendChild(z)}}});function xr(n,o,h){return new Si(n,o,h)}var is=_r.extend({_initImage:function(){var n=this._image=this._url;Re(n,"leaflet-image-layer"),this._zoomAnimated&&Re(n,"leaflet-zoom-animated"),this.options.className&&Re(n,this.options.className),n.onselectstart=T,n.onmousemove=T}});function Bl(n,o,h){return new is(n,o,h)}var Xt=kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,o){n&&(n instanceof he||k(n))?(this._latlng=de(n),P(this,o)):(P(this,n),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&wt(this._container,1),this.bringToFront(),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(p(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=de(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zt(this._container),this},bringToBack:function(){return this._map&&Ni(this._container),this},_prepareOpen:function(n){var o=this._source;if(!o._map)return!1;if(o instanceof Zn){o=null;var h=this._source._layers;for(var y in h)if(h[y]._map){o=h[y];break}if(!o)return!1;this._source=o}if(!n)if(o.getCenter)n=o.getCenter();else if(o.getLatLng)n=o.getLatLng();else if(o.getBounds)n=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")n.innerHTML=o;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),o=re(this.options.offset),h=this._getAnchor();this._zoomAnimated?mt(this._container,n.add(h)):o=o.add(n).add(h);var y=this._containerBottom=-o.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=y+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ve.include({_initOverlay:function(n,o,h,y){var b=o;return b instanceof n||(b=new n(y).setContent(o)),h&&b.setLatLng(h),b}}),kn.include({_initOverlay:function(n,o,h,y){var b=h;return b instanceof n?(P(b,y),b._source=this):(b=o&&!y?o:new n(y,this),b.setContent(h)),b}});var ma=Xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Xt.prototype.openOn.call(this,n)},onAdd:function(n){Xt.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Gn||this._source.on("preclick",Ln))},onRemove:function(n){Xt.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Gn||this._source.off("preclick",Ln))},getEvents:function(){var n=Xt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",o=this._container=Ie("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ie("div",n+"-content-wrapper",o);if(this._contentNode=Ie("div",n+"-content",h),Ui(o),$n(this._contentNode),Ee(o,"contextmenu",Ln),this._tipContainer=Ie("div",n+"-tip-container",o),this._tip=Ie("div",n+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Ie("a",n+"-close-button",o);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ee(y,"click",function(b){Ot(b),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,o=n.style;o.width="",o.whiteSpace="nowrap";var h=n.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),o.width=h+1+"px",o.whiteSpace="",o.height="";var y=n.offsetHeight,b=this.options.maxHeight,C="leaflet-popup-scrolled";b&&y>b?(o.height=b+"px",Re(n,C)):Tt(n,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),h=this._getAnchor();mt(this._container,o.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,o=parseInt(ea(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+o,y=this._containerWidth,b=new N(this._containerLeft,-h-this._containerBottom);b._add(vi(this._container));var C=n.layerPointToContainerPoint(b),z=re(this.options.autoPanPadding),I=re(this.options.autoPanPaddingTopLeft||z),G=re(this.options.autoPanPaddingBottomRight||z),te=n.getSize(),ue=0,_e=0;C.x+y+G.x>te.x&&(ue=C.x+y-te.x+G.x),C.x-ue-I.x<0&&(ue=C.x-I.x),C.y+h+G.y>te.y&&(_e=C.y+h-te.y+G.y),C.y-_e-I.y<0&&(_e=C.y-I.y),(ue||_e)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ue,_e]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ul=function(n,o){return new ma(n,o)};Ve.mergeOptions({closePopupOnClick:!0}),Ve.include({openPopup:function(n,o,h){return this._initOverlay(ma,n,o,h).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),kn.include({bindPopup:function(n,o){return this._popup=this._initOverlay(ma,this._popup,n,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){_i(n);var o=n.layer||n.target;if(this._popup._source===o&&!(o instanceof Gn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=o,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ya=Xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Xt.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Xt.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Xt.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",o=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ie("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+x(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var o,h,y=this._map,b=this._container,C=y.latLngToContainerPoint(y.getCenter()),z=y.layerPointToContainerPoint(n),I=this.options.direction,G=b.offsetWidth,te=b.offsetHeight,ue=re(this.options.offset),_e=this._getAnchor();I==="top"?(o=G/2,h=te):I==="bottom"?(o=G/2,h=0):I==="center"?(o=G/2,h=te/2):I==="right"?(o=0,h=te/2):I==="left"?(o=G,h=te/2):z.x<C.x?(I="right",o=0,h=te/2):(I="left",o=G+(ue.x+_e.x)*2,h=te/2),n=n.subtract(re(o,h,!0)).add(ue).add(_e),Tt(b,"leaflet-tooltip-right"),Tt(b,"leaflet-tooltip-left"),Tt(b,"leaflet-tooltip-top"),Tt(b,"leaflet-tooltip-bottom"),Re(b,"leaflet-tooltip-"+I),mt(b,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&wt(this._container,n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(o)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ku=function(n,o){return new ya(n,o)};Ve.include({openTooltip:function(n,o,h){return this._initOverlay(ya,n,o,h).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),kn.include({bindTooltip:function(n,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ya,this._tooltip,n,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var o=n?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[o](h),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&(Ee(o,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Ee(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var o=n.latlng,h,y;this._tooltip.options.sticky&&n.originalEvent&&(h=this._map.mouseEventToContainerPoint(n.originalEvent),y=this._map.containerPointToLayerPoint(h),o=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(o)}});var Il=Vn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var o=n&&n.tagName==="DIV"?n:document.createElement("div"),h=this.options;if(h.html instanceof Element?(mn(o),o.appendChild(h.html)):o.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=re(h.bgPos);o.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function zu(n){return new Il(n)}Vn.Default=ua;var br=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){P(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ut(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ni(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof N?n:new N(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var o=this.getPane().children,h=-n(-1/0,1/0),y=0,b=o.length,C;y<b;y++)C=o[y].style.zIndex,o[y]!==this._container&&C&&(h=n(h,+C));isFinite(h)&&(this.options.zIndex=h+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ye.ielt9){wt(this._container,this.options.opacity);var n=+new Date,o=!1,h=!1;for(var y in this._tiles){var b=this._tiles[y];if(!(!b.current||!b.loaded)){var C=Math.min(1,(n-b.loaded)/200);wt(b.el,C),C<1?o=!0:(b.active?h=!0:this._onOpaqueTile(b),b.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),o&&(Oe(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this))}},_onOpaqueTile:T,_initContainer:function(){this._container||(this._container=Ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,o=this.options.maxZoom;if(n!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===n?(this._levels[h].el.style.zIndex=o-Math.abs(n-h),this._onUpdateLevel(h)):(ut(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[n],b=this._map;return y||(y=this._levels[n]={},y.el=Ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=o,y.origin=b.project(b.unproject(b.getPixelOrigin()),n).round(),y.zoom=n,this._setZoomTransform(y,b.getCenter(),b.getZoom()),T(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:T,_onRemoveLevel:T,_onCreateLevel:T,_pruneTiles:function(){if(this._map){var n,o,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)o=this._tiles[n],o.retain=o.current;for(n in this._tiles)if(o=this._tiles[n],o.current&&!o.active){var y=o.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var o in this._tiles)this._tiles[o].coords.z===n&&this._removeTile(o)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ut(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,o,h,y){var b=Math.floor(n/2),C=Math.floor(o/2),z=h-1,I=new N(+b,+C);I.z=+z;var G=this._tileCoordsToKey(I),te=this._tiles[G];return te&&te.active?(te.retain=!0,!0):(te&&te.loaded&&(te.retain=!0),z>y?this._retainParent(b,C,z,y):!1)},_retainChildren:function(n,o,h,y){for(var b=2*n;b<2*n+2;b++)for(var C=2*o;C<2*o+2;C++){var z=new N(b,C);z.z=h+1;var I=this._tileCoordsToKey(z),G=this._tiles[I];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);h+1<y&&this._retainChildren(b,C,h+1,y)}},_resetView:function(n){var o=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var o=this.options;return o.minNativeZoom!==void 0&&n<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<n?o.maxNativeZoom:n},_setView:function(n,o,h,y){var b=Math.round(o);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var C=this.options.updateWhenZooming&&b!==this._tileZoom;(!y||C)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(n),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(n,o)},_setZoomTransforms:function(n,o){for(var h in this._levels)this._setZoomTransform(this._levels[h],n,o)},_setZoomTransform:function(n,o,h){var y=this._map.getZoomScale(h,n.zoom),b=n.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(o,h)).round();ye.any3d?ii(n.el,b,y):mt(n.el,b)},_resetGrid:function(){var n=this._map,o=n.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,o.wrapLng[0]],y).x/h.x),Math.ceil(n.project([0,o.wrapLng[1]],y).x/h.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([o.wrapLat[0],0],y).y/h.x),Math.ceil(n.project([o.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var o=this._map,h=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),y=o.getZoomScale(h,this._tileZoom),b=o.project(n,this._tileZoom).floor(),C=o.getSize().divideBy(y*2);return new O(b.subtract(C),b.add(C))},_update:function(n){var o=this._map;if(o){var h=this._clampZoom(o.getZoom());if(n===void 0&&(n=o.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(n),b=this._pxBoundsToTileRange(y),C=b.getCenter(),z=[],I=this.options.keepBuffer,G=new O(b.getBottomLeft().subtract([I,-I]),b.getTopRight().add([I,-I]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var te in this._tiles){var ue=this._tiles[te].coords;(ue.z!==this._tileZoom||!G.contains(new N(ue.x,ue.y)))&&(this._tiles[te].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(n,h);return}for(var _e=b.min.y;_e<=b.max.y;_e++)for(var De=b.min.x;De<=b.max.x;De++){var Vt=new N(De,_e);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var Rt=this._tiles[this._tileCoordsToKey(Vt)];Rt?Rt.current=!0:z.push(Vt)}}if(z.sort(function(Je,Qe){return Je.distanceTo(C)-Qe.distanceTo(C)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hn=document.createDocumentFragment();for(De=0;De<z.length;De++)this._addTile(z[De],hn);this._level.el.appendChild(hn)}}}},_isValidTile:function(n){var o=this._map.options.crs;if(!o.infinite){var h=this._globalTileRange;if(!o.wrapLng&&(n.x<h.min.x||n.x>h.max.x)||!o.wrapLat&&(n.y<h.min.y||n.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(n);return ae(this.options.bounds).overlaps(y)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var o=this._map,h=this.getTileSize(),y=n.scaleBy(h),b=y.add(h),C=o.unproject(y,n.z),z=o.unproject(b,n.z);return[C,z]},_tileCoordsToBounds:function(n){var o=this._tileCoordsToNwSe(n),h=new ie(o[0],o[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var o=n.split(":"),h=new N(+o[0],+o[1]);return h.z=+o[2],h},_removeTile:function(n){var o=this._tiles[n];o&&(ut(o.el),delete this._tiles[n],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Re(n,"leaflet-tile");var o=this.getTileSize();n.style.width=o.x+"px",n.style.height=o.y+"px",n.onselectstart=T,n.onmousemove=T,ye.ielt9&&this.options.opacity<1&&wt(n,this.options.opacity)},_addTile:function(n,o){var h=this._getTilePos(n),y=this._tileCoordsToKey(n),b=this.createTile(this._wrapCoords(n),p(this._tileReady,this,n));this._initTile(b),this.createTile.length<2&&ve(p(this._tileReady,this,n,null,b)),mt(b,h),this._tiles[y]={el:b,coords:n,current:!0},o.appendChild(b),this.fire("tileloadstart",{tile:b,coords:n})},_tileReady:function(n,o,h){o&&this.fire("tileerror",{error:o,tile:h,coords:n});var y=this._tileCoordsToKey(n);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(wt(h.el,0),Oe(this._fadeFrame),this._fadeFrame=ve(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),o||(Re(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ye.ielt9||!this._map._fadeAnimated?ve(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var o=new N(this._wrapX?S(n.x,this._wrapX):n.x,this._wrapY?S(n.y,this._wrapY):n.y);return o.z=n.z,o},_pxBoundsToTileRange:function(n){var o=this.getTileSize();return new O(n.min.unscaleBy(o).floor(),n.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Hl(n){return new br(n)}var Ti=br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,o){this._url=n,o=P(this,o),o.detectRetina&&ye.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,o){return this._url===n&&o===void 0&&(o=!0),this._url=n,o||this.redraw(),this},createTile:function(n,o){var h=document.createElement("img");return Ee(h,"load",p(this._tileOnLoad,this,o,h)),Ee(h,"error",p(this._tileOnError,this,o,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(n),h},getTileUrl:function(n){var o={r:ye.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-n.y;this.options.tms&&(o.y=h),o["-y"]=h}return H(this._url,u(o,this.options))},_tileOnLoad:function(n,o){ye.ielt9?setTimeout(p(n,this,null,o),0):n(null,o)},_tileOnError:function(n,o,h){var y=this.options.errorTileUrl;y&&o.getAttribute("src")!==y&&(o.src=y),n(h,o)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,o=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(n=o-n),n+y},_getSubdomain:function(n){var o=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var n,o;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(o=this._tiles[n].el,o.onload=T,o.onerror=T,!o.complete)){o.src=Y;var h=this._tiles[n].coords;ut(o),delete this._tiles[n],this.fire("tileabort",{tile:o,coords:h})}},_removeTile:function(n){var o=this._tiles[n];if(o)return o.el.setAttribute("src",Y),br.prototype._removeTile.call(this,n)},_tileReady:function(n,o,h){if(!(!this._map||h&&h.getAttribute("src")===Y))return br.prototype._tileReady.call(this,n,o,h)}});function _n(n,o){return new Ti(n,o)}var va=Ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,o){this._url=n;var h=u({},this.defaultWmsParams);for(var y in o)y in this.options||(h[y]=o[y]);o=P(this,o);var b=o.detectRetina&&ye.retina?2:1,C=this.getTileSize();h.width=C.x*b,h.height=C.y*b,this.wmsParams=h},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Ti.prototype.onAdd.call(this,n)},getTileUrl:function(n){var o=this._tileCoordsToNwSe(n),h=this._crs,y=V(h.project(o[0]),h.project(o[1])),b=y.min,C=y.max,z=(this._wmsVersion>=1.3&&this._crs===ho?[b.y,b.x,C.y,C.x]:[b.x,b.y,C.x,C.y]).join(","),I=Ti.prototype.getTileUrl.call(this,n);return I+M(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(n,o){return u(this.wmsParams,n),o||this.redraw(),this}});function xn(n,o){return new va(n,o)}Ti.WMS=va,_n.wms=xn;var an=kn.extend({options:{padding:.1},initialize:function(n){P(this,n),x(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,o){var h=this._map.getZoomScale(o,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,o),C=y.multiplyBy(-h).add(b).subtract(this._map._getNewPixelOrigin(n,o));ye.any3d?ii(this._container,C,h):mt(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,o=this._map.getSize(),h=this._map.containerPointToLayerPoint(o.multiplyBy(-n)).round();this._bounds=new O(h,h.add(o.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),rs=an.extend({options:{tolerance:0},getEvents:function(){var n=an.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){an.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Ee(n,"mousemove",this._onMouseMove,this),Ee(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ee(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Oe(this._redrawRequest),delete this._ctx,ut(this._container),at(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var o in this._layers)n=this._layers[o],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,o=this._container,h=n.getSize(),y=ye.retina?2:1;mt(o,n.min),o.width=y*h.x,o.height=y*h.y,o.style.width=h.x+"px",o.style.height=h.y+"px",ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){an.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[x(n)]=n;var o=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var o=n._order,h=o.next,y=o.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete n._order,delete this._layers[x(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var o=n.options.dashArray.split(/[, ]+/),h=[],y,b;for(b=0;b<o.length;b++){if(y=Number(o[b]),isNaN(y))return;h.push(y)}n.options._dashArray=h}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ve(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var o=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(n._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(n._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var o=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,o=this._redrawBounds;if(this._ctx.save(),o){var h=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)n=y.layer,(!o||n._pxBounds&&n._pxBounds.intersects(o))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,o){if(this._drawing){var h,y,b,C,z=n._parts,I=z.length,G=this._ctx;if(I){for(G.beginPath(),h=0;h<I;h++){for(y=0,b=z[h].length;y<b;y++)C=z[h][y],G[y?"lineTo":"moveTo"](C.x,C.y);o&&G.closePath()}this._fillStroke(G,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var o=n._point,h=this._ctx,y=Math.max(Math.round(n._radius),1),b=(Math.max(Math.round(n._radiusY),1)||y)/y;b!==1&&(h.save(),h.scale(1,b)),h.beginPath(),h.arc(o.x,o.y/b,y,0,Math.PI*2,!1),b!==1&&h.restore(),this._fillStroke(h,n)}},_fillStroke:function(n,o){var h=o.options;h.fill&&(n.globalAlpha=h.fillOpacity,n.fillStyle=h.fillColor||h.color,n.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(n.setLineDash&&n.setLineDash(o.options&&o.options._dashArray||[]),n.globalAlpha=h.opacity,n.lineWidth=h.weight,n.strokeStyle=h.color,n.lineCap=h.lineCap,n.lineJoin=h.lineJoin,n.stroke())},_onClick:function(n){for(var o=this._map.mouseEventToLayerPoint(n),h,y,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(o)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,o)}},_handleMouseOut:function(n){var o=this._hoveredLayer;o&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([o],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,o){if(!this._mouseHoverThrottled){for(var h,y,b=this._drawFirst;b;b=b.next)h=b.layer,h.options.interactive&&h._containsPoint(o)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(n),y&&(Re(this._container,"leaflet-interactive"),this._fireEvent([y],n,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,o,h){this._map._fireDOMEvent(o,h||o.type,n)},_bringToFront:function(n){var o=n._order;if(o){var h=o.next,y=o.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(n)}},_bringToBack:function(n){var o=n._order;if(o){var h=o.next,y=o.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(n)}}});function _a(n){return ye.canvas?new rs(n):null}var Ei=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fo={_initContainer:function(){this._container=Ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(an.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var o=n._container=Ei("shape");Re(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",n._path=Ei("path"),o.appendChild(n._path),this._updateStyle(n),this._layers[x(n)]=n},_addPath:function(n){var o=n._container;this._container.appendChild(o),n.options.interactive&&n.addInteractiveTarget(o)},_removePath:function(n){var o=n._container;ut(o),n.removeInteractiveTarget(o),delete this._layers[x(n)]},_updateStyle:function(n){var o=n._stroke,h=n._fill,y=n.options,b=n._container;b.stroked=!!y.stroke,b.filled=!!y.fill,y.stroke?(o||(o=n._stroke=Ei("stroke")),b.appendChild(o),o.weight=y.weight+"px",o.color=y.color,o.opacity=y.opacity,y.dashArray?o.dashStyle=k(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=y.lineCap.replace("butt","flat"),o.joinstyle=y.lineJoin):o&&(b.removeChild(o),n._stroke=null),y.fill?(h||(h=n._fill=Ei("fill")),b.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(b.removeChild(h),n._fill=null)},_updateCircle:function(n){var o=n._point.round(),h=Math.round(n._radius),y=Math.round(n._radiusY||h);this._setPath(n,n._empty()?"M0 0":"AL "+o.x+","+o.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(n,o){n._path.v=o},_bringToFront:function(n){Zt(n._container)},_bringToBack:function(n){Ni(n._container)}},Wn=ye.vml?Ei:it,wr=an.extend({_initContainer:function(){this._container=Wn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),at(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){an.prototype._update.call(this);var n=this._bounds,o=n.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,h.setAttribute("width",o.x),h.setAttribute("height",o.y)),mt(h,n.min),h.setAttribute("viewBox",[n.min.x,n.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(n){var o=n._path=Wn("path");n.options.className&&Re(o,n.options.className),n.options.interactive&&Re(o,"leaflet-interactive"),this._updateStyle(n),this._layers[x(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ut(n._path),n.removeInteractiveTarget(n._path),delete this._layers[x(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var o=n._path,h=n.options;o&&(h.stroke?(o.setAttribute("stroke",h.color),o.setAttribute("stroke-opacity",h.opacity),o.setAttribute("stroke-width",h.weight),o.setAttribute("stroke-linecap",h.lineCap),o.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?o.setAttribute("stroke-dasharray",h.dashArray):o.removeAttribute("stroke-dasharray"),h.dashOffset?o.setAttribute("stroke-dashoffset",h.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),h.fill?(o.setAttribute("fill",h.fillColor||h.color),o.setAttribute("fill-opacity",h.fillOpacity),o.setAttribute("fill-rule",h.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(n,o){this._setPath(n,rt(n._parts,o))},_updateCircle:function(n){var o=n._point,h=Math.max(Math.round(n._radius),1),y=Math.max(Math.round(n._radiusY),1)||h,b="a"+h+","+y+" 0 1,0 ",C=n._empty()?"M0 0":"M"+(o.x-h)+","+o.y+b+h*2+",0 "+b+-h*2+",0 ";this._setPath(n,C)},_setPath:function(n,o){n._path.setAttribute("d",o)},_bringToFront:function(n){Zt(n._path)},_bringToBack:function(n){Ni(n._path)}});ye.vml&&wr.include(fo);function xa(n){return ye.svg||ye.vml?new wr(n):null}Ve.include({getRenderer:function(n){var o=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var o=this._paneRenderers[n];return o===void 0&&(o=this._createRenderer({pane:n}),this._paneRenderers[n]=o),o},_createRenderer:function(n){return this.options.preferCanvas&&_a(n)||xa(n)}});var Hi=yr.extend({initialize:function(n,o){yr.prototype.initialize.call(this,this._boundsToLatLngs(n),o)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ae(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Mu(n,o){return new Hi(n,o)}wr.create=Wn,wr.pointsToPath=rt,oi.geometryToLayer=Ft,oi.coordsToLatLng=Qa,oi.coordsToLatLngs=fa,oi.latLngToCoords=es,oi.latLngsToCoords=pa,oi.getFeature=bi,oi.asFeature=ts,Ve.mergeOptions({boxZoom:!0});var sn=qn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),lr(),Za(),this._startPoint=this._map.mouseEventToContainerPoint(n),Ee(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Ie("div","leaflet-zoom-box",this._container),Re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var o=new O(this._point,this._startPoint),h=o.getSize();mt(this._box,o.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(ut(this._box),Tt(this._container,"leaflet-crosshair")),Hn(),na(),at(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var o=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ve.addInitHook("addHandler","boxZoom",sn),Ve.mergeOptions({doubleClickZoom:!0});var as=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var o=this._map,h=o.getZoom(),y=o.options.zoomDelta,b=n.originalEvent.shiftKey?h-y:h+y;o.options.doubleClickZoom==="center"?o.setZoom(b):o.setZoomAround(n.containerPoint,b)}});Ve.addInitHook("addHandler","doubleClickZoom",as),Ve.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Kn=qn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new xi(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tt(this._map._container,"leaflet-grab"),Tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ae(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var o=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(o),this._prunePositions(o)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,o){return n-(n-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;n.x<o.min.x&&(n.x=this._viscousLimit(n.x,o.min.x)),n.y<o.min.y&&(n.y=this._viscousLimit(n.y,o.min.y)),n.x>o.max.x&&(n.x=this._viscousLimit(n.x,o.max.x)),n.y>o.max.y&&(n.y=this._viscousLimit(n.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,o=Math.round(n/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,b=(y-o+h)%n+o-h,C=(y+o+h)%n-o-h,z=Math.abs(b+h)<Math.abs(C+h)?b:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(n){var o=this._map,h=o.options,y=!h.inertia||n.noInertia||this._times.length<2;if(o.fire("dragend",n),y)o.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,z=h.easeLinearity,I=b.multiplyBy(z/C),G=I.distanceTo([0,0]),te=Math.min(h.inertiaMaxSpeed,G),ue=I.multiplyBy(te/G),_e=te/(h.inertiaDeceleration*z),De=ue.multiplyBy(-_e/2).round();!De.x&&!De.y?o.fire("moveend"):(De=o._limitOffset(De,o.options.maxBounds),ve(function(){o.panBy(De,{duration:_e,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Ve.addInitHook("addHandler","dragging",Kn),Ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var po=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Ee(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),at(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,o=document.documentElement,h=n.scrollTop||o.scrollTop,y=n.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var o=this._panKeys={},h=this.keyCodes,y,b;for(y=0,b=h.left.length;y<b;y++)o[h.left[y]]=[-1*n,0];for(y=0,b=h.right.length;y<b;y++)o[h.right[y]]=[n,0];for(y=0,b=h.down.length;y<b;y++)o[h.down[y]]=[0,n];for(y=0,b=h.up.length;y<b;y++)o[h.up[y]]=[0,-1*n]},_setZoomDelta:function(n){var o=this._zoomKeys={},h=this.keyCodes,y,b;for(y=0,b=h.zoomIn.length;y<b;y++)o[h.zoomIn[y]]=n;for(y=0,b=h.zoomOut.length;y<b;y++)o[h.zoomOut[y]]=-n},_addHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){at(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=n.keyCode,h=this._map,y;if(o in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[o],n.shiftKey&&(y=re(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(re(y),h.options.maxBounds)),h.options.worldCopyJump){var b=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(b)}else h.panBy(y)}else if(o in this._zoomKeys)h.setZoom(h.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;_i(n)}}});Ve.addInitHook("addHandler","keyboard",po),Ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ba=qn.extend({addHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var o=en(n),h=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),y),_i(n)},_performZoom:function(){var n=this._map,o=n.getZoom(),h=this._map.options.zoomSnap||0;n._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,C=h?Math.ceil(b/h)*h:b,z=n._limitZoom(o+(this._delta>0?C:-C))-o;this._delta=0,this._startTime=null,z&&(n.options.scrollWheelZoom==="center"?n.setZoom(o+z):n.setZoomAround(this._lastMousePos,o+z))}});Ve.addInitHook("addHandler","scrollWheelZoom",ba);var $i=600;Ve.mergeOptions({tapHold:ye.touchNative&&ye.safari&&ye.mobile,tapTolerance:15});var ss=qn.extend({addHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var o=n.touches[0];this._startPos=this._newPos=new N(o.clientX,o.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Ee(document,"touchend",Ot),Ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),$i),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){at(document,"touchend",Ot),at(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)},_onMove:function(n){var o=n.touches[0];this._newPos=new N(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,o){var h=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});h._simulated=!0,o.target.dispatchEvent(h)}});Ve.addInitHook("addHandler","tapHold",ss),Ve.mergeOptions({touchZoom:ye.touch,bounceAtZoomLimits:!0});var go=qn.extend({addHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var o=this._map;if(!(!n.touches||n.touches.length!==2||o._animatingZoom||this._zooming)){var h=o.mouseEventToContainerPoint(n.touches[0]),y=o.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),Ot(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var o=this._map,h=o.mouseEventToContainerPoint(n.touches[0]),y=o.mouseEventToContainerPoint(n.touches[1]),b=h.distanceTo(y)/this._startDist;if(this._zoom=o.getScaleZoom(b,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&b<1||this._zoom>o.getMaxZoom()&&b>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var C=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(b===1&&C.x===0&&C.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Oe(this._animRequest);var z=p(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ve(z,this,!0),Ot(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Oe(this._animRequest),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ve.addInitHook("addHandler","touchZoom",go),Ve.BoxZoom=sn,Ve.DoubleClickZoom=as,Ve.Drag=Kn,Ve.Keyboard=po,Ve.ScrollWheelZoom=ba,Ve.TapHold=ss,Ve.TouchZoom=go,a.Bounds=O,a.Browser=ye,a.CRS=Me,a.Canvas=rs,a.Circle=Ja,a.CircleMarker=mr,a.Class=Ce,a.Control=dn,a.DivIcon=Il,a.DivOverlay=Xt,a.DomEvent=Wa,a.DomUtil=dr,a.Draggable=xi,a.Evented=se,a.FeatureGroup=Zn,a.GeoJSON=oi,a.GridLayer=br,a.Handler=qn,a.Icon=Vn,a.ImageOverlay=_r,a.LatLng=he,a.LatLngBounds=ie,a.Layer=kn,a.LayerGroup=gr,a.LineUtil=Au,a.Map=Ve,a.Marker=ha,a.Mixin=Tu,a.Path=Gn,a.Point=N,a.PolyUtil=co,a.Polygon=yr,a.Polyline=si,a.Popup=ma,a.PosAnimation=hr,a.Projection=Ll,a.Rectangle=Hi,a.Renderer=an,a.SVG=wr,a.SVGOverlay=is,a.TileLayer=Ti,a.Tooltip=ya,a.Transformation=An,a.Util=ct,a.VideoOverlay=Si,a.bind=p,a.bounds=V,a.canvas=_a,a.circle=Dl,a.circleMarker=Pl,a.control=ai,a.divIcon=zu,a.extend=u,a.featureGroup=zl,a.geoJSON=ns,a.geoJson=ga,a.gridLayer=Hl,a.icon=ca,a.imageOverlay=Nl,a.latLng=de,a.latLngBounds=ae,a.layerGroup=Ou,a.map=io,a.marker=Ml,a.point=re,a.polygon=Lu,a.polyline=Ru,a.popup=Ul,a.rectangle=Mu,a.setOptions=P,a.stamp=x,a.svg=xa,a.svgOverlay=Bl,a.tileLayer=_n,a.tooltip=ku,a.transformation=xt,a.version=s,a.videoOverlay=xr;var mo=window.L;a.noConflict=function(){return window.L=mo,this},window.L=a}))})(Qo,Qo.exports)),Qo.exports}var qs=mw();const dl=au(qs);function hu(c,i,a){return Object.freeze({instance:c,context:i,container:a})}function fu(c,i){return i==null?function(s,u){const d=X.useRef(void 0);return d.current||(d.current=c(s,u)),d}:function(s,u){const d=X.useRef(void 0);d.current||(d.current=c(s,u));const p=X.useRef(s),{instance:v}=d.current;return X.useEffect(function(){p.current!==s&&(i(v,s,p.current),p.current=s)},[v,s,i]),d}}function fv(c,i){X.useEffect(function(){return(i.layerContainer??i.map).addLayer(c.instance),function(){i.layerContainer?.removeLayer(c.instance),i.map.removeLayer(c.instance)}},[i,c])}function pv(c){return function(a){const s=uu(),u=c(du(a,s),s);return uv(s.map,a.attribution),sf(u.current,a.eventHandlers),fv(u.current,s),u}}function yw(c,i){const a=X.useRef(void 0);X.useEffect(function(){if(i.pathOptions!==a.current){const u=i.pathOptions??{};c.instance.setStyle(u),a.current=u}},[c,i])}function vw(c){return function(a){const s=uu(),u=c(du(a,s),s);return sf(u.current,a.eventHandlers),fv(u.current,s),yw(u.current,a),u}}function _w(c,i){const a=fu(c,i),s=pv(a);return hv(s)}function xw(c,i){const a=fu(c),s=pw(a,i);return hw(s)}function bw(c,i){const a=fu(c,i),s=vw(a);return hv(s)}function ww(c,i){const a=fu(c,i),s=pv(a);return fw(s)}function Sw(c,i,a){const{opacity:s,zIndex:u}=i;s!=null&&s!==a.opacity&&c.setOpacity(s),u!=null&&u!==a.zIndex&&c.setZIndex(u)}function of(){return uu().map}const Tw=bw(function({center:i,children:a,...s},u){const d=new qs.Circle(i,s);return hu(d,dv(u,{overlayContainer:d}))},lw);function Ew({bounds:c,boundsOptions:i,center:a,children:s,className:u,id:d,placeholder:p,style:v,whenReady:x,zoom:_,...S},T){const[E]=X.useState({className:u,id:d,style:v}),[A,R]=X.useState(null),P=X.useRef(void 0);X.useImperativeHandle(T,()=>A?.map??null,[A]);const M=X.useCallback(H=>{if(H!==null&&!P.current){const k=new qs.Map(H,S);P.current=k,a!=null&&_!=null?k.setView(a,_):c!=null&&k.fitBounds(c,i),x!=null&&k.whenReady(x),R(dw(k))}},[]);X.useEffect(()=>()=>{A?.map.remove()},[A]);const K=A?Ua.createElement(af,{value:A},s):p??null;return Ua.createElement("div",{...E,ref:M},K)}const Cw=X.forwardRef(Ew),Rh=_w(function({position:i,...a},s){const u=new qs.Marker(i,a);return hu(u,dv(s,{overlayContainer:u}))},function(i,a,s){a.position!==s.position&&i.setLatLng(a.position),a.icon!=null&&a.icon!==s.icon&&i.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==s.zIndexOffset&&i.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==s.opacity&&i.setOpacity(a.opacity),i.dragging!=null&&a.draggable!==s.draggable&&(a.draggable===!0?i.dragging.enable():i.dragging.disable())}),sy=xw(function(i,a){const s=new qs.Popup(i,a.overlayContainer);return hu(s,a)},function(i,a,{position:s},u){X.useEffect(function(){const{instance:p}=i;function v(_){_.popup===p&&(p.update(),u(!0))}function x(_){_.popup===p&&u(!1)}return a.map.on({popupopen:v,popupclose:x}),a.overlayContainer==null?(s!=null&&p.setLatLng(s),p.openOn(a.map)):a.overlayContainer.bindPopup(p),function(){a.map.off({popupopen:v,popupclose:x}),a.overlayContainer?.unbindPopup(),a.map.removeLayer(p)}},[i,a,u,s])}),jw=ww(function({url:i,...a},s){const u=new qs.TileLayer(i,du(a,s));return hu(u,s)},function(i,a,s){Sw(i,a,s);const{url:u}=a;u!=null&&u!==s.url&&i.setUrl(u)});var Be=(c=>(c.Safe="safe",c.Calm="calm",c.Lively="lively",c.Festive="festive",c.Crowded="crowded",c.Suspicious="suspicious",c.Dangerous="dangerous",c.Noisy="noisy",c.Quiet="quiet",c))(Be||{});const gv={"sports-fitness":{label:"Sports & Fitness",icon:"🏃",items:["Running","Gym","Yoga","Football","Basketball","Swimming","Cycling","Tennis","Martial Arts","Dance"]},"music-arts":{label:"Music & Arts",icon:"🎵",items:["Concerts","Theater","Painting","Photography","Music Production","Film","Writing","Sculpture","Design","Crafts"]},"food-dining":{label:"Food & Dining",icon:"🍽️",items:["Restaurants","Cooking","Baking","Coffee Shops","Fine Dining","Street Food","Vegan","Wine","Beer","Cocktails"]},"education-learning":{label:"Education & Learning",icon:"📚",items:["Courses","Workshops","Books","Online Learning","Languages","Science","History","Technology","Business","Art History"]},"environment-nature":{label:"Environment & Nature",icon:"🌱",items:["Hiking","Camping","Gardening","Sustainability","Wildlife","Photography","Conservation","Fishing","Bird Watching","Eco-friendly Living"]},"gaming-tech":{label:"Gaming & Tech",icon:"🎮",items:["Video Games","Programming","Gadgets","AI/ML","Cybersecurity","Mobile Apps","Web Development","Hardware","Virtual Reality","Board Games"]},"social-community":{label:"Social & Community",icon:"👥",items:["Meetups","Volunteering","Clubs","Networking","Charity","Community Events","Book Clubs","Sports Teams","Cultural Events","Religious Groups"]},"shopping-lifestyle":{label:"Shopping & Lifestyle",icon:"🛍️",items:["Markets","Fashion","Beauty","Home Decor","Antiques","Vintage","Luxury","Thrifting","Art Galleries","Craft Markets"]},transportation:{label:"Transportation",icon:"🚗",items:["Cycling","Public Transport","Electric Vehicles","Motorcycles","Car Sharing","Ride Sharing","Walking","Scooters","Boats","Aviation"]},"home-garden":{label:"Home & Garden",icon:"🏠",items:["DIY","Gardening","Home Improvement","Interior Design","Landscaping","Furniture","Tools","Renovation","Smart Home","Pets"]}},Aw=({size:c=20,color:i="#666",className:a=""})=>m.jsxs("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[m.jsx("polygon",{points:"12,2 2,7 12,12 22,7 12,2"}),m.jsx("polyline",{points:"2,17 12,22 22,17"}),m.jsx("polyline",{points:"2,12 12,17 22,12"})]}),Ow=({size:c=14,color:i="#666",className:a=""})=>m.jsxs("svg",{width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[m.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7Z"}),m.jsx("path",{d:"M3.5 12.5 9 17l4-4 2 2 3-3"})]}),Rw=c=>({safe:"fas fa-shield-alt",calm:"fas fa-peace",lively:"fas fa-glass-cheers",crowded:"fas fa-users",suspicious:"fas fa-eye-slash",dangerous:"fas fa-exclamation-triangle",noisy:"fas fa-volume-up",quiet:"fas fa-moon"})[c]||"fas fa-question-circle",Lw=dl.divIcon({html:`
    <div style="
      background: linear-gradient(135deg, #ef4444, #dc2626);
      border: 3px solid white;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
      animation: sos-pulse 1s ease-in-out infinite alternate;
    ">
      <i class="fas fa-exclamation-triangle" style="color: white; font-size: 16px;"></i>
    </div>
  `,className:"sos-marker",iconSize:[32,32],iconAnchor:[16,16]}),kw=dl.divIcon({html:`
    <div style="
      background: linear-gradient(135deg, #3b82f6, #1d4ed8);
      border: 3px solid white;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
      animation: pulse-user 2s infinite ease-in-out;
    ">
      <i class="fas fa-user" style="color: white; font-size: 16px;"></i>
    </div>
  `,className:"user-location-marker",iconSize:[32,32],iconAnchor:[16,16]});class zw{async getReports(i={}){let a=Fe.from("reports").select(`
        *,
        users:user_id (
          username,
          first_name,
          last_name
        )
      `).order("created_at",{ascending:!1});if(i.emergency!==void 0&&(a=a.eq("emergency",i.emergency)),i.userId&&(a=a.eq("user_id",i.userId)),i.bounds){const{northEast:d,southWest:p}=i.bounds;a=a.gte("latitude",p[0]).lte("latitude",d[0]).gte("longitude",p[1]).lte("longitude",d[1])}i.limit&&(a=a.limit(i.limit)),i.offset&&(a=a.range(i.offset,i.offset+(i.limit||50)-1));const{data:s,error:u}=await a;if(u)throw console.error("Error fetching reports:",u),u;return(s||[]).map(d=>({id:d.id,user_id:d.user_id,vibe_type:d.vibe_type,notes:d.notes,location:d.location,latitude:d.latitude,longitude:d.longitude,emergency:d.emergency,upvotes:d.upvotes||0,downvotes:d.downvotes||0,created_at:d.created_at,updated_at:d.updated_at,profile:d.users?{username:d.users.username,first_name:d.users.first_name,last_name:d.users.last_name}:void 0}))}async getVibes(i={}){return this.getReports({...i,emergency:!1})}async getSOSAlerts(i={}){return this.getReports({...i,emergency:!0})}async createReport(i){const{data:a,error:s}=await Fe.from("reports").insert([{vibe_type:i.vibe_type,latitude:i.latitude,longitude:i.longitude,notes:i.notes,location:i.location,emergency:i.emergency||!1,upvotes:0,downvotes:0}]).select(`
        *,
        users:user_id (
          username,
          first_name,
          last_name
        )
      `).single();if(s)throw console.error("Error creating report:",s),s;return{id:a.id,user_id:a.user_id,vibe_type:a.vibe_type,notes:a.notes,location:a.location,latitude:a.latitude,longitude:a.longitude,emergency:a.emergency,upvotes:a.upvotes||0,downvotes:a.downvotes||0,created_at:a.created_at,updated_at:a.updated_at,profile:a.users?{username:a.users.username,first_name:a.users.first_name,last_name:a.users.last_name}:void 0}}async getUserVote(i,a){const{data:s,error:u}=await Fe.from("votes").select("vote_type").eq("report_id",i).eq("user_id",a).maybeSingle();return u?(console.error("Error fetching user vote:",u),null):s?.vote_type||null}async vote(i,a,s){const u=await this.getUserVote(i,a);if(u===s){const{error:d}=await Fe.from("votes").delete().eq("report_id",i).eq("user_id",a);if(d)throw console.error("Error removing vote:",d),d}else if(u){const{error:d}=await Fe.from("votes").update({vote_type:s}).eq("report_id",i).eq("user_id",a);if(d)throw console.error("Error updating vote:",d),d}else{const{error:d}=await Fe.from("votes").insert([{report_id:i,user_id:a,vote_type:s}]);if(d)throw console.error("Error creating vote:",d),d}}subscribeToReports(i){return Fe.channel("reports").on("postgres_changes",{event:"INSERT",schema:"public",table:"reports"},async a=>{const{data:s,error:u}=await Fe.from("reports").select(`
              *,
              users:user_id (
                username,
                first_name,
                last_name
              )
            `).eq("id",a.new.id).single();if(!u&&s){const d={id:s.id,user_id:s.user_id,vibe_type:s.vibe_type,notes:s.notes,location:s.location,latitude:s.latitude,longitude:s.longitude,emergency:s.emergency,upvotes:s.upvotes||0,downvotes:s.downvotes||0,created_at:s.created_at,updated_at:s.updated_at,profile:s.users?{username:s.users.username,first_name:s.users.first_name,last_name:s.users.last_name}:void 0};i(d)}}).subscribe()}subscribeToVotes(i){return Fe.channel("votes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"reports"},a=>{a.new&&(a.new.upvotes!==a.old?.upvotes||a.new.downvotes!==a.old?.downvotes)&&i({reportId:a.new.id,upvotes:a.new.upvotes||0,downvotes:a.new.downvotes||0})}).subscribe()}}const $t=new zw;(function(c,i,a){var s=typeof c<"u"?c.L:typeof global<"u"?global.L:null;s.HeatLayer=(s.Layer?s.Layer:s.Class).extend({initialize:function(d,p){this._latlngs=d,s.setOptions(this,p)},setLatLngs:function(d){return this._latlngs=d,this.redraw()},addLatLng:function(d){return this._latlngs.push(d),this.redraw()},setOptions:function(d){return s.setOptions(this,d),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return this._heat&&!this._frame&&!this._map._animating&&(this._frame=s.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(d){this._map=d,this._canvas||this._initCanvas(),d._panes.overlayPane.appendChild(this._canvas),d.on("moveend",this._reset,this),d.options.zoomAnimation&&s.Browser.any3d&&d.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(d){d.getPanes().overlayPane.removeChild(this._canvas),d.off("moveend",this._reset,this),d.options.zoomAnimation&&d.off("zoomanim",this._animateZoom,this)},addTo:function(d){return d.addLayer(this),this},_initCanvas:function(){var d=this._canvas=s.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),p=s.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);d.style[p]="50% 50%";var v=this._map.getSize();d.width=v.x,d.height=v.y;var x=this._map.options.zoomAnimation&&s.Browser.any3d;s.DomUtil.addClass(d,"leaflet-zoom-"+(x?"animated":"hide")),this._heat=u(d),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var d=this._map.containerPointToLayerPoint([0,0]);s.DomUtil.setPosition(this._canvas,d);var p=this._map.getSize();this._heat._width!==p.x&&(this._canvas.width=this._heat._width=p.x),this._heat._height!==p.y&&(this._canvas.height=this._heat._height=p.y),this._redraw()},_redraw:function(){if(this._map){var d=[],p=this._heat._r,v=this._map.getSize(),x=new s.LatLngBounds(this._map.containerPointToLatLng(s.point([-p,-p])),this._map.containerPointToLatLng(v.add([p,p]))),_=this.options.max===a?1:this.options.max,S=this.options.maxZoom===a?this._map.getMaxZoom():this.options.maxZoom;1/Math.pow(2,Math.max(0,Math.min(S-this._map.getZoom(),12)));var T=p/2,E=[],A=this._map._getMapPanePos(),R=A.x%T,P=A.y%T,M,K,H,k,F,Y,oe,ce;for(M=0,K=this._latlngs.length;M<K;M++){if(this._latlngs[M].length===2)H=this._map.latLngToContainerPoint(this._latlngs[M]);else{var Ae=s.latLng(this._latlngs[M][0],this._latlngs[M][1]);H=this._map.latLngToContainerPoint(Ae)}if(x.contains(this._map.containerPointToLatLng(H))){F=Math.floor((H.x-R)/T)+2,Y=Math.floor((H.y-P)/T)+2;var Te=this._latlngs[M].length===3?this._latlngs[M][2]:this._latlngs[M].length===2&&this.options.max||1;E[Y]=E[Y]||[],k=E[Y][F],k?Te>=k[2]&&(k[0]=H.x,k[1]=H.y,k[2]=Te):E[Y][F]=[H.x,H.y,Te]}}for(M=0,K=E.length;M<K;M++)if(E[M])for(oe=0,ce=E[M].length;oe<ce;oe++)k=E[M][oe],k&&d.push([k[0],k[1],Math.min(k[2],_)]);this._heat.data(d).draw(this.options.minOpacity),this._frame=null}},_animateZoom:function(d){var p=this._map.getZoomScale(d.zoom),v=this._map._getCenterOffset(d.center)._multiplyBy(-p).subtract(this._map._getMapPanePos());s.DomUtil.setTransform&&s.DomUtil.setTransform(this._canvas,v,p)}}),s.heatLayer=function(d,p){return new s.HeatLayer(d,p)};function u(d){if(!(this instanceof u))return new u(d);this._canvas=d=typeof d=="string"?i.getElementById(d):d,d.getContext?this._ctx=d.getContext("2d",{willReadFrequently:!0}):this._ctx=d.getContext("2d"),this._width=d.width,this._height=d.height,this._max=1,this._data=[],this._grad={.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},this._onRenderingStart=null,this._onRenderingEnd=null}u.prototype={defaultRadius:25,data:function(d){return this._data=d,this},max:function(d){return this._max=d,this},add:function(d){return this._data.push(d),this},clear:function(){return this._data=[],this},radius:function(d,p){p=p===a?15:p;var v=this._circle=this._createCanvas(),x=v.getContext("2d"),_=this._r=d+p;return v.width=v.height=_*2,x.shadowOffsetX=x.shadowOffsetY=_*2,x.shadowBlur=p,x.shadowColor="black",x.beginPath(),x.arc(-_,-_,d,0,Math.PI*2,!0),x.closePath(),x.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(d){return this._grad=d,this},draw:function(d){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this._grad);var p=this._ctx;p.clearRect(0,0,this._width,this._height);for(var v=0,x=this._data.length,_;v<x;v++)_=this._data[v],p.globalAlpha=Math.min(Math.max(_[2]/this._max,d===a?.05:d),1),p.drawImage(this._circle,_[0]-this._r,_[1]-this._r);var S=p.getImageData(0,0,this._width,this._height);return this._colorize(S.data,this._grad),p.putImageData(S,0,0),this},_colorize:function(d,p){for(var v=0,x=d.length,_;v<x;v+=4)_=d[v+3]*4,_&&(d[v]=p[_],d[v+1]=p[_+1],d[v+2]=p[_+2])},_createCanvas:function(){if(typeof i<"u"){var d=i.createElement("canvas");return d.setAttribute("willReadFrequently","true"),d}else return new this._Canvas(this._width,this._height)}},c.simpleheat=u})(typeof window<"u"?window:{},typeof document<"u"?document:{});delete dl.Icon.Default.prototype._getIconUrl;dl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Mw=({center:c,zoom:i})=>{const a=of(),s=X.useRef(!1);return X.useEffect(()=>{c&&!s.current&&(a.flyTo(c,i),s.current=!0)},[c,i,a]),null},mv=({children:c,onClick:i,title:a,top:s})=>m.jsx("div",{className:"leaflet-top leaflet-right",children:m.jsx("div",{className:"leaflet-control leaflet-bar mr-[10px]",style:{marginTop:s},children:m.jsx("button",{onClick:i,title:a,style:{width:"34px",height:"34px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",border:"none",cursor:"pointer",borderRadius:"4px",boxShadow:"0 1px 5px rgba(0,0,0,0.65)"},children:c})})}),Pw=({userLocation:c})=>{const i=of();return m.jsx(mv,{onClick:()=>c&&i.flyTo(c,15),title:"Re-center map",top:"48px",children:m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#333",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("circle",{cx:"12",cy:"12",r:"6"}),m.jsx("line",{x1:"22",x2:"18",y1:"12",y2:"12"}),m.jsx("line",{x1:"6",x2:"2",y1:"12",y2:"12"}),m.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"2"}),m.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"18"})]})})},Dw=({isVisible:c,onToggle:i})=>m.jsx(mv,{onClick:i,title:"Toggle Heatmap",top:"92px",children:m.jsx(Aw,{size:20,color:c?"#3b82f6":"#666"})}),Nw=c=>{const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},Bw={[Be.Safe]:"#22c55e",[Be.Calm]:"#3b82f6",[Be.Lively]:"#eab308",[Be.Festive]:"#f59e0b",[Be.Crowded]:"#f97316",[Be.Suspicious]:"#a855f7",[Be.Dangerous]:"#ef4444",[Be.Noisy]:"#06b6d4",[Be.Quiet]:"#2dd4bf"},Uw=Ua.memo(({vibes:c,isVisible:i})=>{const a=of(),s=X.useRef([]);return X.useEffect(()=>{const u=window.L;if(!u||!u.heatLayer){console.warn("Leaflet.heat plugin not found. Heatmap will not be rendered.");return}if(s.current.forEach(v=>{a.hasLayer(v)&&a.removeLayer(v)}),s.current=[],!i)return;const d={[Be.Safe]:[],[Be.Calm]:[],[Be.Lively]:[],[Be.Festive]:[],[Be.Crowded]:[],[Be.Suspicious]:[],[Be.Dangerous]:[],[Be.Noisy]:[],[Be.Quiet]:[]};return c.forEach(v=>{v.latitude&&v.longitude&&v.vibe_type&&d[v.vibe_type]&&d[v.vibe_type].push(v)}),[Be.Quiet,Be.Calm,Be.Safe,Be.Lively,Be.Festive,Be.Crowded,Be.Noisy,Be.Suspicious,Be.Dangerous].forEach(v=>{const x=d[v];if(x.length===0)return;const _=x.map(R=>[R.latitude,R.longitude,.8]),S=Bw[v],T=Nw(S);if(!T){console.warn(`Invalid hex color for ${v}: ${S}`);return}const E=new Array(1024);for(let R=0;R<256;R++){const P=R/255,M=R*4;E[M]=Math.round(T.r*P),E[M+1]=Math.round(T.g*P),E[M+2]=Math.round(T.b*P)}const A=u.heatLayer(_,{radius:25,blur:15,maxZoom:17,minOpacity:.4,maxOpacity:.9,gradient:E});a.addLayer(A),s.current.push(A)}),()=>{s.current.forEach(v=>{a.hasLayer(v)&&a.removeLayer(v)}),s.current=[]}},[a,c,i]),null}),oy=({type:c,id:i,userId:a,initialBoosts:s,onBoostUpdate:u})=>{const[d,p]=X.useState(s),[v,x]=X.useState(!1),[_,S]=X.useState(!1);X.useEffect(()=>{a&&(async()=>{try{const A=await $t.getUserVote(i,a);x(A==="upvote")}catch(A){console.error("Error checking vote status:",A)}})()},[i,c,a]);const T=async()=>{if(!(_||!a)){S(!0);try{await $t.vote(i,a,"upvote");const E=!v,A=E?d+1:d-1;x(E),p(A),u(i,c,A,E)}catch(E){console.error("Error voting:",E)}finally{S(!1)}}};return m.jsxs("button",{onClick:T,disabled:_,style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 12px",borderRadius:"9999px",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease",border:"1px solid",backgroundColor:v?"#fef2f2":"#f9fafb",color:v?"#b91c1c":"#374151",borderColor:v?"#fecaca":"#d1d5db",opacity:_?.5:1,cursor:_?"not-allowed":"pointer"},title:v?"Remove boost":"Raise awareness",children:[m.jsx(Ow,{size:14,color:v?"#ef4444":"#6b7280"}),m.jsx("span",{children:d})]})},Iw=({vibes:c,sosAlerts:i,center:a,zoom:s,userLocation:u,isHeatmapVisible:d,onToggleHeatmap:p,userId:v})=>{const x=(_,S,T,E)=>{};return m.jsxs(Cw,{center:a,zoom:s,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},children:[m.jsx(Mw,{center:a,zoom:s}),m.jsx(Pw,{userLocation:u}),m.jsx(Dw,{isVisible:d,onToggle:p}),m.jsx(jw,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),u&&m.jsx(Rh,{position:u,icon:kw}),m.jsx(Uw,{vibes:c,isVisible:d}),!d&&c.map(_=>!_.latitude||!_.longitude?(console.warn(`Vibe ${_.id} has missing location data and will not be rendered.`),null):Object.values(Be).includes(_.vibe_type)?m.jsx(Rh,{position:[_.latitude,_.longitude],icon:dl.divIcon({html:`<div class="vibe-marker"><i class="${Rw(_.vibe_type)}"></i></div>`,className:"vibe-marker",iconSize:[30,30],iconAnchor:[15,30]}),children:m.jsx(sy,{children:m.jsxs("div",{style:{color:"#1f2937",maxWidth:"320px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[m.jsxs("div",{children:[m.jsx("strong",{style:{textTransform:"capitalize"},children:_.vibe_type})," vibe reported by ",_.profile?.username||"anonymous","."]}),m.jsx(oy,{type:"vibe",id:_.id,userId:v,initialBoosts:_.upvotes||0,onBoostUpdate:x})]}),m.jsx("small",{style:{color:"#6b7280"},children:new Date(_.created_at).toLocaleString()})]})})},`vibe-${_.id}`):(console.warn(`Vibe ${_.id} has an unrecognized vibe_type ('${_.vibe_type}') and will not be rendered.`),null)),i.map(_=>!_.latitude||!_.longitude?(console.warn(`SOS Alert ${_.id} has missing location data and will not be rendered.`),null):m.jsxs(Ua.Fragment,{children:[m.jsx(Rh,{position:[_.latitude,_.longitude],icon:Lw,children:m.jsx(sy,{children:m.jsxs("div",{style:{color:"#1f2937",maxWidth:"320px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[m.jsxs("div",{children:[m.jsx("strong",{children:"SOS Alert!"}),m.jsx("p",{style:{marginTop:"4px"},children:_.notes||"No details provided."})]}),m.jsx(oy,{type:"sos",id:_.id,userId:v,initialBoosts:_.upvotes||0,onBoostUpdate:x})]}),m.jsxs("small",{style:{color:"#6b7280"},children:["Reported by ",_.profile?.username||"anonymous"," at ",new Date(_.created_at).toLocaleString()]})]})})}),m.jsx(Tw,{center:[_.latitude,_.longitude],radius:3e3,pathOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.1,weight:1}})]},`sos-${_.id}`))]})},ir=({size:c="md",color:i="#3b82f6",className:a=""})=>{const{t:s}=Kt(),u={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return m.jsx("div",{className:`inline-block animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite] ${u[c]} ${a}`,style:{color:i},role:"status",children:m.jsx("span",{className:"sr-only",children:s("common.loading")})})},pu=({isOpen:c,onClose:i,title:a,children:s,size:u="md",showCloseButton:d=!0,className:p=""})=>{const{t:v}=Kt();X.useEffect(()=>{const S=T=>{T.key==="Escape"&&c&&i()};return c&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[c,i]);const x=S=>{S.target===S.currentTarget&&i()};if(!c)return null;const _={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:x,children:m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"8px",boxShadow:"var(--shadow-color)",width:"100%",maxWidth:_[u]==="max-w-md"?"28rem":_[u]==="max-w-lg"?"32rem":_[u]==="max-w-2xl"?"42rem":_[u]==="max-w-4xl"?"56rem":"32rem",maxHeight:"90vh",overflow:"auto"},onClick:S=>S.stopPropagation(),children:[(a||d)&&m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"24px",borderBottom:"1px solid var(--border-color)"},children:[a&&m.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"var(--text-primary)"},children:a}),d&&m.jsx("button",{onClick:i,style:{width:"36px",height:"36px",borderRadius:"50%",background:"var(--bg-tertiary)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"var(--shadow-color)",position:"relative",overflow:"hidden"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.1)",S.currentTarget.style.boxShadow="var(--shadow-color)",S.currentTarget.style.background="var(--bg-primary)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow="var(--shadow-color)",S.currentTarget.style.background="var(--bg-tertiary)"},onMouseDown:S=>{S.currentTarget.style.transform="scale(0.95)"},onMouseUp:S=>{S.currentTarget.style.transform="scale(1.1)"},"aria-label":v("common.closeModal"),children:m.jsx("svg",{style:{width:"18px",height:"18px",color:"var(--text-muted)",filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsx("div",{style:{padding:"24px"},children:s})]})})},Hw=({icon:c,title:i,description:a,action:s,className:u=""})=>m.jsxs("div",{className:`text-center py-12 px-4 ${u}`,children:[c&&m.jsx("div",{className:"mx-auto w-24 h-24 text-gray-400 mb-4 opacity-50",children:c}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i}),a&&m.jsx("p",{className:"text-gray-500 mb-6 max-w-sm mx-auto",children:a}),s&&m.jsx("div",{className:"flex justify-center",children:s})]}),$w=({segments:c,size:i=120,strokeWidth:a=8,backgroundColor:s="#e5e7eb",showCenterContent:u=!0,centerContent:d,animationDuration:p=2e3,className:v=""})=>{const[x,_]=X.useState(c.map(()=>0)),S=(i-a)/2;X.useEffect(()=>{const A=setTimeout(()=>{_(c.map(R=>R.percentage))},100);return()=>clearTimeout(A)},[c]);const T=(A,R)=>{const P=A/100*360,M=R/100*360,K=P*Math.PI/180,H=M*Math.PI/180,k=i/2+S*Math.cos(H),F=i/2+S*Math.sin(H),Y=M-P>180?1:0;return`M ${i/2+S*Math.cos(K)} ${i/2+S*Math.sin(K)} A ${S} ${S} 0 ${Y} 1 ${k} ${F}`};let E=0;return m.jsxs("div",{className:`multi-segment-circular-progress ${v}`,style:{position:"relative",width:i,height:i,display:"flex",alignItems:"center",justifyContent:"center"},children:[m.jsxs("svg",{width:i,height:i,style:{filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))"},children:[m.jsx("circle",{cx:i/2,cy:i/2,r:S,stroke:s,strokeWidth:a,fill:"none",opacity:"0.3"}),c.map((A,R)=>{const P=E,M=Math.min(E+x[R],100);return E+=x[R],x[R]===0?null:m.jsx("path",{d:T(P,M),stroke:A.color,strokeWidth:a,fill:"none",strokeLinecap:"round",style:{transition:`all ${p}ms ease-in-out`,filter:`drop-shadow(0 0 4px ${A.color}30)`}},R)})]}),u&&d&&m.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},children:d})]})},qw=()=>{const{t:c}=Kt(),{user:i,updateProfile:a}=ul(),[s,u]=X.useState({totalReports:0,totalUpvotes:0,reputation:0,rank:null}),[d,p]=X.useState([]),[v,x]=X.useState([]),[_,S]=X.useState([]),[T,E]=X.useState([]),[A,R]=X.useState(!0),[P,M]=X.useState(!1),[K,H]=X.useState(!1),[k,F]=X.useState({firstName:"",lastName:"",phone:"",interests:[]});X.useEffect(()=>{if(i){Y(),Ce();const N=$t.subscribeToReports(re=>{Y(),Ce()}),le=$t.subscribeToVotes(re=>{Y(),Ce()});return()=>{N.unsubscribe(),le.unsubscribe()}}},[i]);const Y=async()=>{if(i)try{R(!0);const[N,le,re]=await Promise.all([oe(),Te(),Ke()]);u(N),p(le),x(re)}catch(N){console.error("Error loading profile data:",N)}finally{R(!1)}},oe=async()=>{try{const N=await $t.getReports({userId:i.id}),le=N.length,re=N.reduce((ie,ae)=>ie+(ae.upvotes||0),0),O=await ce(i.id),V=await Ae(i.id);return{totalReports:le,totalUpvotes:re,reputation:O,rank:V}}catch(N){return console.error("Error calculating user stats:",N),{totalReports:0,totalUpvotes:0,reputation:0,rank:null}}},ce=async N=>{try{const le=await $t.getReports({userId:N});let re=0;return le.forEach(O=>{const V=(O.upvotes||0)-(O.downvotes||0);re+=Math.max(0,V)}),re+=Math.min(10,le.length),Math.max(0,re)}catch(le){return console.error("Error calculating user reputation:",le),0}},Ae=async N=>{try{const{data:le,error:re}=await jn.getAllUsersByReputation();if(re)return console.error("Error calculating user rank:",re),null;const O=le.findIndex(V=>V.user_id===N);return O!==-1?O+1:null}catch(le){return console.error("Error calculating user rank:",le),null}},Te=async()=>{const N=[],le=await ce(i.id);le>=100?N.push({id:"community-leader",name:c("profile.badges.communityLeader.name"),description:c("profile.badges.communityLeader.description"),icon:"fas fa-crown",color:"linear-gradient(135deg, #FFD700, #FFA500)",earned:!0}):le>=50?N.push({id:"trusted-reporter",name:c("profile.badges.trustedReporter.name"),description:c("profile.badges.trustedReporter.description"),icon:"fas fa-shield-alt",color:"linear-gradient(135deg, #4CAF50, #45A049)",earned:!0}):le>=10&&N.push({id:"active-contributor",name:c("profile.badges.activeContributor.name"),description:c("profile.badges.activeContributor.description"),icon:"fas fa-star",color:"linear-gradient(135deg, #2196F3, #1976D2)",earned:!0});try{const O=(await $t.getReports({userId:i.id})).length;O>=50?N.push({id:"safety-guardian",name:c("profile.badges.safetyGuardian.name"),description:c("profile.badges.safetyGuardian.description"),icon:"fas fa-user-shield",color:"linear-gradient(135deg, #9C27B0, #7B1FA2)",earned:!0}):O>=20?N.push({id:"community-watch",name:c("profile.badges.communityWatch.name"),description:c("profile.badges.communityWatch.description"),icon:"fas fa-eye",color:"linear-gradient(135deg, #FF5722, #D84315)",earned:!0}):O>=5&&N.push({id:"first-responder",name:c("profile.badges.firstResponder.name"),description:c("profile.badges.firstResponder.description"),icon:"fas fa-plus-circle",color:"linear-gradient(135deg, #009688, #00796B)",earned:!0})}catch(re){console.error("Error checking user badges:",re)}return N},Ke=async()=>{try{return(await $t.getReports({userId:i.id,limit:5})).map(le=>({id:le.id,vibe_type:le.vibe_type,location:le.location||"",notes:le.notes||"",created_at:le.created_at,upvotes:le.upvotes,downvotes:le.downvotes}))}catch(N){return console.error("Error loading user recent activity:",N),[]}},ve=N=>{const le=new Date,re=new Date(N),O=Math.floor((le.getTime()-re.getTime())/1e3);if(O<60)return c("profile.timeAgo.justNow");const V=Math.floor(O/60);if(V<60)return c("profile.timeAgo.minutesAgo",{count:V});const ie=Math.floor(V/60);if(ie<24)return c("profile.timeAgo.hoursAgo",{count:ie,plural:ie>1?"s":""});const ae=Math.floor(ie/24);return c("profile.timeAgo.daysAgo",{count:ae,plural:ae>1?"s":""})},Oe=N=>({crowded:"fas fa-users",noisy:"fas fa-volume-up",festive:"fas fa-glass-cheers",calm:"fas fa-peace",suspicious:"fas fa-eye-slash",dangerous:"fas fa-exclamation-triangle"})[N]||"fas fa-question-circle",ct=N=>({crowded:"#FFA500",noisy:"#FF6B35",festive:"#28A745",calm:"#17A2B8",suspicious:"#FFC107",dangerous:"#DC3545"})[N]||"#6C757D",Ce=async()=>{if(i)try{M(!0);const[N,le]=await Promise.all([vt(),Z()]);S(N),E(le)}catch(N){console.error("Error loading reports data:",N)}finally{M(!1)}},vt=async()=>{try{return(await $t.getReports({userId:i.id})).map(le=>({...le,user_vote:null}))}catch(N){return console.error("Error loading user reports:",N),[]}},Z=async()=>{try{const N=await $t.getReports({limit:10});return await Promise.all(N.map(async re=>{try{const O=await $t.getUserVote(re.id,i.id);return{...re,user_vote:O}}catch{return{...re,user_vote:null}}}))}catch(N){return console.error("Error loading nearby reports:",N),[]}},se=async(N,le)=>{if(i)try{await $t.vote(N,i.id,le),E(re=>re.map(O=>{if(O.id===N){const V=O.user_vote;let ie=O.upvotes||0,ae=O.downvotes||0;return V==="upvote"?ie--:V==="downvote"&&ae--,le==="upvote"?ie++:ae++,{...O,upvotes:ie,downvotes:ae,user_vote:le}}return O}))}catch(re){console.error("Error voting on report:",re)}};return A?m.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px",flexDirection:"column"},children:[m.jsx(ir,{size:"lg"}),m.jsx("p",{style:{color:"var(--text-muted)",fontSize:"16px",marginTop:"16px"},children:c("profile.loading")})]}):m.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto",backgroundColor:"var(--bg-secondary)"},children:[m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)",display:"flex",alignItems:"center",gap:"20px"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",color:"var(--text-muted)"},children:m.jsx("i",{className:"fas fa-user"})}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[m.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--text-primary)",margin:0},children:i?.first_name&&i?.last_name?`${i.first_name} ${i.last_name}`:i?.username||"User"}),m.jsxs("button",{onClick:()=>{F({firstName:i?.first_name||"",lastName:i?.last_name||"",phone:i?.phone||"",interests:i?.interests||[]}),H(!0)},style:{backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx("i",{className:"fas fa-edit"}),c("profile.editProfile")]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[m.jsx("i",{className:"fas fa-star",style:{color:"var(--warning)"}}),m.jsxs("span",{style:{fontSize:"18px",fontWeight:"600",color:s.reputation>50?"var(--success)":"var(--text-primary)"},children:[s.reputation," ",c("profile.reputationPoints")]})]}),m.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"14px",margin:0},children:[c("profile.memberSince")," ",i?.created_at?new Date(i.created_at).toLocaleDateString():c("common.recently")]})]})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-id-card",style:{color:"var(--text-muted)"}}),c("profile.personalInfo")]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)"},children:m.jsx("i",{className:"fas fa-envelope"})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)",marginBottom:"2px"},children:c("profile.email")}),m.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"var(--text-primary)"},children:i?.email||c("profile.notProvided")})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)"},children:m.jsx("i",{className:"fas fa-phone"})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)",marginBottom:"2px"},children:c("profile.phone")}),m.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"var(--text-primary)"},children:i?.phone||c("profile.notProvided")})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)"},children:m.jsx("i",{className:"fas fa-map-marker-alt"})}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)",marginBottom:"2px"},children:c("profile.location")}),m.jsx("div",{style:{fontSize:"16px",fontWeight:"500",color:"var(--text-primary)"},children:i?.location?typeof i.location=="string"?i.location:i.location.address||`${i.location.latitude.toFixed(4)}, ${i.location.longitude.toFixed(4)}`:c("profile.notProvided")})]})]})]})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-heart",style:{color:"var(--text-muted)"}}),c("profile.communityInterests")]}),i?.interests&&i.interests.length>0?m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:i.interests.map((N,le)=>m.jsxs("span",{style:{backgroundColor:"var(--bg-tertiary)",color:"var(--accent-primary)",padding:"6px 12px",borderRadius:"20px",fontSize:"14px",fontWeight:"500",display:"inline-flex",alignItems:"center",gap:"6px"},children:[m.jsx("i",{className:"fas fa-tag"}),N]},`${N}-${le}`))}):m.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[m.jsx("i",{className:"fas fa-heart",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),m.jsx("p",{children:c("profile.noInterests")})]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px var(--shadow-color)",textAlign:"center"},children:[m.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--accent-primary)",marginBottom:"8px"},children:s.totalReports}),m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"14px",fontWeight:"500"},children:c("profile.totalReports")})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px var(--shadow-color)",textAlign:"center"},children:[m.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--success)",marginBottom:"8px"},children:s.totalUpvotes}),m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"14px",fontWeight:"500"},children:c("profile.communityUpvotes")})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px var(--shadow-color)",textAlign:"center"},children:[m.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold",color:"var(--warning)",marginBottom:"8px"},children:["#",s.rank||"-"]}),m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"14px",fontWeight:"500"},children:c("profile.communityRank")})]})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px"},children:c("profile.achievementBadges")}),d.length===0?m.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[m.jsx("i",{className:"fas fa-medal",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),m.jsx("p",{children:c("profile.noBadges")})]}):m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},children:d.map(N=>m.jsxs("div",{style:{border:"2px solid var(--border-color)",borderRadius:"12px",padding:"16px",textAlign:"center",background:N.color,color:"white"},children:[m.jsx("div",{style:{fontSize:"32px",marginBottom:"8px",opacity:.9},children:m.jsx("i",{className:N.icon})}),m.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"4px"},children:N.name}),m.jsx("p",{style:{fontSize:"12px",opacity:.9,margin:0},children:N.description})]},N.id))})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-list",style:{color:"var(--text-muted)"}}),c("profile.myReports")," (",_.length,")"]}),m.jsxs("button",{style:{backgroundColor:"var(--success)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx("i",{className:"fas fa-plus"}),c("profile.newReport")]})]}),_.length===0?m.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[m.jsx("i",{className:"fas fa-plus-circle",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),m.jsx("p",{children:c("profile.noReports")})]}):m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[_.slice(0,3).map(N=>m.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:ct(N.vibe_type),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px"},children:m.jsx("i",{className:Oe(N.vibe_type)})}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px"},children:[c(`vibes.${N.vibe_type}`)," ",c("profile.report")]}),m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"14px",marginBottom:"4px"},children:N.location||c("profile.unknownLocation")}),N.notes&&m.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"4px"},children:N.notes}),m.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[ve(N.created_at)," • 👍 ",N.upvotes||0," 👎 ",N.downvotes||0]})]})]},N.id)),_.length>3&&m.jsxs("button",{style:{alignSelf:"center",backgroundColor:"transparent",color:"var(--accent-primary)",border:"1px solid var(--accent-primary)",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:"pointer",marginTop:"8px"},children:[c("profile.viewAllReports")," (",_.length,")"]})]})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-users",style:{color:"var(--text-muted)"}}),c("profile.communityActivity")]}),P?m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px"},children:m.jsx(ir,{size:"md"})}):T.length===0?m.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[m.jsx("i",{className:"fas fa-users",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),m.jsx("p",{children:c("profile.noNearbyReports")})]}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:T.slice(0,5).map(N=>m.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:ct(N.vibe_type),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px"},children:m.jsx("i",{className:Oe(N.vibe_type)})}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px"},children:[c(`vibes.${N.vibe_type}`)," ",c("profile.report")]}),m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"14px",marginBottom:"4px"},children:N.location||c("profile.unknownLocation")}),N.notes&&m.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"4px"},children:N.notes}),m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"12px"},children:ve(N.created_at)})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[m.jsxs("button",{onClick:()=>se(N.id,"upvote"),style:{backgroundColor:N.user_vote==="upvote"?"var(--success)":"transparent",color:N.user_vote==="upvote"?"white":"var(--text-muted)",border:`1px solid ${N.user_vote==="upvote"?"var(--success)":"var(--border-color)"}`,borderRadius:"6px",padding:"4px 8px",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[m.jsx("i",{className:"fas fa-thumbs-up"}),N.upvotes||0]}),m.jsxs("button",{onClick:()=>se(N.id,"downvote"),style:{backgroundColor:N.user_vote==="downvote"?"var(--danger)":"transparent",color:N.user_vote==="downvote"?"white":"var(--text-muted)",border:`1px solid ${N.user_vote==="downvote"?"var(--danger)":"var(--border-color)"}`,borderRadius:"6px",padding:"4px 8px",fontSize:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[m.jsx("i",{className:"fas fa-thumbs-down"}),N.downvotes||0]})]})]},N.id))})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px"},children:c("profile.recentActivity")}),v.length===0?m.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"var(--text-muted)"},children:[m.jsx("i",{className:"fas fa-plus-circle",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),m.jsx("p",{children:c("profile.noRecentActivity")})]}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:v.map(N=>m.jsxs("div",{style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"16px",display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:ct(N.vibe_type),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px"},children:m.jsx("i",{className:Oe(N.vibe_type)})}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"2px"},children:[c(`vibes.${N.vibe_type}`)," ",c("profile.report")]}),m.jsx("div",{style:{color:"var(--text-muted)",fontSize:"14px",marginBottom:"4px"},children:N.location||c("profile.unknownLocation")}),N.notes&&m.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"14px",marginBottom:"4px"},children:N.notes}),m.jsxs("div",{style:{color:"var(--text-muted)",fontSize:"12px"},children:[ve(N.created_at)," • 👍 ",N.upvotes||0," 👎 ",N.downvotes||0]})]})]},N.id))})]}),K&&m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},children:m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px"},children:[m.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--text-primary)",margin:0},children:c("profile.editProfile")}),m.jsx("button",{onClick:()=>H(!1),style:{background:"none",border:"none",fontSize:"24px",color:"var(--text-muted)",cursor:"pointer",padding:"4px"},children:"×"})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"6px"},children:c("profile.firstName")}),m.jsx("input",{type:"text",value:k.firstName,onChange:N=>F(le=>({...le,firstName:N.target.value})),placeholder:c("profile.firstNamePlaceholder"),style:{width:"100%",padding:"10px 12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"6px"},children:c("profile.lastName")}),m.jsx("input",{type:"text",value:k.lastName,onChange:N=>F(le=>({...le,lastName:N.target.value})),placeholder:c("profile.lastNamePlaceholder"),style:{width:"100%",padding:"10px 12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"6px"},children:c("profile.phone")}),m.jsx("input",{type:"tel",value:k.phone,onChange:N=>F(le=>({...le,phone:N.target.value})),placeholder:c("profile.phonePlaceholder"),style:{width:"100%",padding:"10px 12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"12px"},children:c("profile.communityInterests")}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"8px",maxHeight:"200px",overflow:"auto"},children:Object.entries(gv).map(([N,le])=>m.jsxs("div",{children:[m.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"var(--text-muted)",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:[le.icon," ",le.label]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:le.items.slice(0,3).map((re,O)=>{const V=k.interests.includes(re);return m.jsx("button",{onClick:()=>{F(ie=>({...ie,interests:V?ie.interests.filter(ae=>ae!==re):[...ie.interests,re]}))},style:{padding:"6px 8px",border:`1px solid ${V?"var(--accent-primary)":"var(--border-color)"}`,borderRadius:"6px",backgroundColor:V?"var(--bg-tertiary)":"var(--bg-primary)",color:V?"var(--accent-primary)":"var(--text-primary)",fontSize:"12px",cursor:"pointer",textAlign:"left"},children:re},`${N}-${re}-${O}`)})})]},N))})]}),m.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[m.jsx("button",{onClick:()=>H(!1),style:{flex:1,padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:c("common.cancel")}),m.jsx("button",{onClick:async()=>{try{await a({first_name:k.firstName,last_name:k.lastName,phone:k.phone,interests:k.interests}),H(!1),Y()}catch(N){console.error("Error updating profile:",N)}},style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",backgroundColor:"var(--accent-primary)",color:"white",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:c("profile.saveChanges")})]})]})]})})]})},yv=X.createContext(void 0),Zw=({children:c})=>{const[i,a]=X.useState(()=>{const d=localStorage.getItem("hyperapp-theme");return d||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});X.useEffect(()=>{const d=window.matchMedia("(prefers-color-scheme: dark)"),p=v=>{localStorage.getItem("hyperapp-theme")||a(v.matches?"dark":"light")};return d.addEventListener?d.addEventListener("change",p):d.addListener(p),()=>{d.removeEventListener?d.removeEventListener("change",p):d.removeListener(p)}},[]),X.useEffect(()=>{document.documentElement.setAttribute("data-theme",i);try{localStorage.setItem("hyperapp-theme",i)}catch(p){console.warn("Failed to save theme to localStorage:",p)}},[i]);const s=()=>{a(d=>d==="light"?"dark":"light")},u=d=>{a(d)};return m.jsx(yv.Provider,{value:{theme:i,toggleTheme:s,setTheme:u},children:c})},Vw=()=>{const c=X.useContext(yv);if(c===void 0)throw new Error("useTheme must be used within a ThemeProvider");return c},Gw=()=>{const{t:c}=Kt(),{user:i,signOut:a,updateProfile:s}=ul(),{theme:u,toggleTheme:d,setTheme:p}=Vw(),{currentLanguage:v,changeLanguage:x}=ow(),[_,S]=X.useState(!1),[T,E]=X.useState(!1),[A,R]=X.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[P,M]=X.useState(!0),[K,H]=X.useState(!0),[k,F]=X.useState(!1),Y=[{code:"en",name:"English"},{code:"es",name:"Español"},{code:"fr",name:"Français"},{code:"de",name:"Deutsch"},{code:"ar",name:"العربية"}],oe=async()=>{if(A.newPassword!==A.confirmPassword){alert(c("settings.passwordsNotMatch"));return}if(A.newPassword.length<6){alert(c("settings.passwordTooShort"));return}F(!0);try{const{error:ve}=await jn.updatePassword(A.newPassword);ve?alert("Error updating password: "+ve.message):(alert("Password updated successfully!"),S(!1),R({currentPassword:"",newPassword:"",confirmPassword:""}))}catch{alert("Error updating password")}finally{F(!1)}},ce=async ve=>{await x(ve,s,i)},Ae=async()=>{try{await a()}catch(ve){console.error("Error logging out:",ve)}},Te=async()=>{if(!(!i||!window.confirm(c("settings.deleteConfirmMessage")))){F(!0);try{const{error:Oe}=await jn.deleteAccount(i.id);Oe?alert("Error deleting account: "+Oe.message):(alert("Account deleted successfully. You will be logged out."),await a())}catch{alert("Error deleting account")}finally{F(!1),E(!1)}}},Ke=()=>{if(!i)return;const ve={profile:{id:i.id,email:i.email,username:i.username,first_name:i.first_name,last_name:i.last_name,phone:i.phone,interests:i.interests,reputation:i.reputation,language:i.language,created_at:i.created_at},exportDate:new Date().toISOString(),appVersion:"1.0.0"},Oe=JSON.stringify(ve,null,2),ct=new Blob([Oe],{type:"application/json"}),Ce=URL.createObjectURL(ct),vt=document.createElement("a");vt.href=Ce,vt.download=`hyperapp-data-${i.id}.json`,document.body.appendChild(vt),vt.click(),document.body.removeChild(vt),URL.revokeObjectURL(Ce)};return m.jsxs("div",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto",backgroundColor:"var(--bg-secondary)",minHeight:"100vh"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[m.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"8px"},children:c("settings.title")}),m.jsx("p",{style:{color:"var(--text-muted)",fontSize:"16px"},children:c("settings.subtitle")})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-user-cog",style:{color:"var(--accent-primary)"}}),c("settings.accountManagement")]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("settings.changePassword")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.updatePassword")})]}),m.jsx("button",{onClick:()=>S(!0),style:{backgroundColor:"var(--accent-primary)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:c("settings.change")})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("auth.logout")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.signOut")})]}),m.jsx("button",{onClick:Ae,style:{backgroundColor:"var(--warning)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:c("auth.logout")})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--danger)",borderRadius:"8px",backgroundColor:"rgba(239, 68, 68, 0.05)"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--danger)",marginBottom:"4px"},children:c("settings.deleteAccount")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.deleteAccountDesc")})]}),m.jsx("button",{onClick:()=>E(!0),style:{backgroundColor:"var(--danger)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:c("settings.deleteAccount")})]})]})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-sliders-h",style:{color:"var(--accent-primary)"}}),c("settings.appPreferences")]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("settings.language")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.chooseLanguage")})]}),m.jsx("select",{value:v,onChange:ve=>ce(ve.target.value),style:{padding:"8px 12px",border:"1px solid var(--border-color)",borderRadius:"6px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"},children:Y.map(ve=>m.jsx("option",{value:ve.code,children:ve.name},ve.code))})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("settings.theme")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.switchTheme")})]}),m.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",maxWidth:"200px"},children:[m.jsxs("button",{onClick:()=>p("light"),style:{backgroundColor:u==="light"?"var(--accent-primary)":"var(--bg-tertiary)",color:u==="light"?"white":"var(--text-primary)",border:"none",borderRadius:"6px",padding:"6px 10px",fontSize:"11px",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px"},children:[m.jsx("i",{className:"fas fa-sun"}),c("settings.light")]}),m.jsxs("button",{onClick:()=>p("dark"),style:{backgroundColor:u==="dark"?"var(--accent-primary)":"var(--bg-tertiary)",color:u==="dark"?"white":"var(--text-primary)",border:"none",borderRadius:"6px",padding:"6px 10px",fontSize:"11px",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px"},children:[m.jsx("i",{className:"fas fa-moon"}),c("settings.dark")]}),m.jsxs("button",{onClick:()=>p("high-contrast"),style:{backgroundColor:u==="high-contrast"?"var(--accent-primary)":"var(--bg-tertiary)",color:u==="high-contrast"?"white":"var(--text-primary)",border:"none",borderRadius:"6px",padding:"6px 10px",fontSize:"11px",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px"},children:[m.jsx("i",{className:"fas fa-eye"}),"HC"]}),m.jsxs("button",{onClick:()=>p("system"),style:{backgroundColor:u==="system"?"var(--accent-primary)":"var(--bg-tertiary)",color:u==="system"?"white":"var(--text-primary)",border:"none",borderRadius:"6px",padding:"6px 10px",fontSize:"11px",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px"},children:[m.jsx("i",{className:"fas fa-desktop"}),"Auto"]})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("settings.notifications")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.receiveNotifications")})]}),m.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"24px"},children:[m.jsx("input",{type:"checkbox",checked:P,onChange:ve=>M(ve.target.checked),style:{opacity:0,width:0,height:0}}),m.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:P?"var(--accent-primary)":"var(--bg-tertiary)",transition:"0.4s",borderRadius:"24px"},children:m.jsx("span",{style:{position:"absolute",height:"18px",width:"18px",left:P?"28px":"3px",bottom:"3px",backgroundColor:"white",transition:"0.4s",borderRadius:"50%"}})})]})]})]})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-shield-alt",style:{color:"var(--accent-primary)"}}),c("settings.privacySecurity")]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("settings.locationSharing")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.allowLocation")})]}),m.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"24px"},children:[m.jsx("input",{type:"checkbox",checked:K,onChange:ve=>H(ve.target.checked),style:{opacity:0,width:0,height:0}}),m.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:K?"var(--accent-primary)":"var(--bg-tertiary)",transition:"0.4s",borderRadius:"24px"},children:m.jsx("span",{style:{position:"absolute",height:"18px",width:"18px",left:K?"28px":"3px",bottom:"3px",backgroundColor:"white",transition:"0.4s",borderRadius:"50%"}})})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("settings.exportData")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.downloadData")})]}),m.jsx("button",{onClick:Ke,style:{backgroundColor:"var(--accent-secondary)",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:c("common.export")})]})]})]}),m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",boxShadow:"0 1px 3px var(--shadow-color)"},children:[m.jsxs("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-info-circle",style:{color:"var(--accent-primary)"}}),c("settings.aboutSupport")]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[m.jsxs("div",{style:{padding:"16px",border:"1px solid var(--border-color)",borderRadius:"8px",textAlign:"center"},children:[m.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:c("settings.version")}),m.jsx("div",{style:{fontSize:"14px",color:"var(--text-muted)"},children:c("settings.communitySafety")})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[m.jsxs("button",{onClick:()=>window.open("https://example.com/help","_blank"),style:{padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-question-circle"}),c("settings.help")]}),m.jsxs("button",{onClick:()=>window.open("https://example.com/privacy","_blank"),style:{padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-file-contract"}),c("settings.privacy")]})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[m.jsxs("button",{onClick:()=>window.open("https://example.com/terms","_blank"),style:{padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-gavel"}),c("settings.terms")]}),m.jsxs("button",{onClick:()=>window.open("mailto:support@example.com","_blank"),style:{padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-envelope"}),c("settings.contact")]})]})]})]}),_&&m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},children:m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"100%"},children:[m.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"20px"},children:"Change Password"}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:"New Password"}),m.jsx("input",{type:"password",placeholder:"Enter new password",value:A.newPassword,onChange:ve=>R(Oe=>({...Oe,newPassword:ve.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:"Confirm New Password"}),m.jsx("input",{type:"password",placeholder:"Confirm new password",value:A.confirmPassword,onChange:ve=>R(Oe=>({...Oe,confirmPassword:ve.target.value})),style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[m.jsx("button",{onClick:()=>S(!1),style:{flex:1,padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"16px",cursor:"pointer"},children:"Cancel"}),m.jsx("button",{onClick:oe,disabled:k,style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",backgroundColor:"var(--accent-primary)",color:"white",fontSize:"16px",cursor:k?"not-allowed":"pointer",opacity:k?.6:1},children:k?"Updating...":"Update Password"})]})]})]})}),T&&m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},children:m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"100%"},children:[m.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",color:"var(--danger)",marginBottom:"16px"},children:"⚠️ Delete Account"}),m.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"20px",lineHeight:"1.5"},children:"This action cannot be undone. All your reports, votes, profile data, and account information will be permanently deleted."}),m.jsxs("div",{style:{display:"flex",gap:"12px"},children:[m.jsx("button",{onClick:()=>E(!1),style:{flex:1,padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"16px",cursor:"pointer"},children:"Cancel"}),m.jsx("button",{onClick:Te,disabled:k,style:{flex:1,padding:"12px",border:"none",borderRadius:"8px",backgroundColor:"var(--danger)",color:"white",fontSize:"16px",cursor:k?"not-allowed":"pointer",opacity:k?.6:1},children:k?"Deleting...":"Delete Account"})]})]})})]})};function iu(c,i,a,s){const d=Kc(a-c),p=Kc(s-i),v=Math.sin(d/2)*Math.sin(d/2)+Math.cos(Kc(c))*Math.cos(Kc(a))*Math.sin(p/2)*Math.sin(p/2);return 6371*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}function Kc(c){return c*(Math.PI/180)}function Ww(c,i,a=1){const s=[],u=new Set,d=c.filter(x=>x.latitude!=null&&x.longitude!=null),p=c.filter(x=>x.latitude==null||x.longitude==null);for(const x of d){if(u.has(x.id)||!x.location||x.location.trim()==="")continue;const _=[x];u.add(x.id);for(const P of d){if(u.has(P.id)||!P.location||P.location.trim()==="")continue;iu(x.latitude,x.longitude,P.latitude,P.longitude)<=a&&(_.push(P),u.add(P.id))}const S=_.reduce((P,M)=>P+M.latitude,0)/_.length,T=_.reduce((P,M)=>P+M.longitude,0)/_.length;let E=0;i&&(E=iu(i[0],i[1],S,T));const A=Kh(_),R={id:`cluster_coord_${x.id}_${Date.now()}`,center:[S,T],reports:_,locationName:x.location,dominantVibe:A.dominantVibe,topVibes:A.topVibes,reportCount:_.length,distance:E};s.push(R)}const v={};for(const x of p){if(u.has(x.id)||!x.location||x.location.trim()==="")continue;const _=x.location;v[_]||(v[_]=[]),v[_].push(x),u.add(x.id)}if(i)for(const[x,_]of Object.entries(v)){if(_.length===0||!x||x.trim()==="")continue;const S=i[0],T=i[1],E=0,A=Kh(_),R={id:`cluster_location_${x.replace(/\s+/g,"_")}_${Date.now()}`,center:[S,T],reports:_,locationName:x,dominantVibe:A.dominantVibe,topVibes:A.topVibes,reportCount:_.length,distance:E};s.push(R)}return s.sort((x,_)=>x.distance!==_.distance?x.distance-_.distance:_.reportCount-x.reportCount)}function Kh(c){if(c.length===0)return{dominantVibe:{type:"unknown",percentage:0,count:0},topVibes:[]};const i={};for(const p of c){const v=p.vibe_type;i[v]=(i[v]||0)+1}const a=c.length,s=Object.entries(i).map(([p,v])=>({type:p,count:v,percentage:Math.round(v/a*100)})).sort((p,v)=>v.count-p.count),u=s[0]||{type:"unknown",percentage:0,count:0},d=s.slice(1,4);return{dominantVibe:u,topVibes:d}}async function lf(c,i){try{const a=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${c}&lon=${i}&zoom=18&addressdetails=1`,{method:"GET",headers:{"User-Agent":"HyperApp/1.0 (https://github.com/elbaradei1993/hyperapp-mimi)"}});if(!a.ok)throw new Error(`Geocoding API error: ${a.status}`);const s=await a.json();if(s&&s.display_name)return Kw(s);throw new Error("No address found in API response")}catch(a){return console.warn("Real geocoding failed:",a),"Address not available"}}function Kw(c){const i=c.address||{},a=[];return i.house_number&&i.road?a.push(`${i.house_number} ${i.road}`):i.road?a.push(i.road):i.footway?a.push(i.footway):i.pedestrian&&a.push(i.pedestrian),i.neighbourhood?a.push(i.neighbourhood):i.suburb&&a.push(i.suburb),i.city?a.push(i.city):i.town?a.push(i.town):i.village?a.push(i.village):i.municipality&&a.push(i.municipality),i.state&&a.push(i.state),i.country&&a.push(i.country),a.length>0?a.join(", "):c.display_name?c.display_name.split(", ").slice(0,4).join(", "):"Unknown Location"}const Yw=({reports:c,isLoading:i=!1,userLocation:a,onNewReport:s})=>{const{t:u}=Kt(),[d,p]=X.useState(!1),v=X.useMemo(()=>a?c.filter(E=>!E.latitude||!E.longitude?!1:iu(a[0],a[1],E.latitude,E.longitude)<=2):c,[c,a]),x=X.useMemo(()=>{const E=new Date(Date.now()-864e5);return v.filter(A=>new Date(A.created_at)>E)},[v]),_=X.useMemo(()=>{const E=["safe","calm","quiet"],A=["dangerous","suspicious"],R=v.filter(H=>E.includes(H.vibe_type)).length,P=v.filter(H=>A.includes(H.vibe_type)).length,M=v.length,K=M>0?Math.round(R/M*100):50;return{score:K,safeReports:R,dangerReports:P,totalReports:M,level:K>=70?"safe":K>=40?"moderate":"caution"}},[v]),S=X.useMemo(()=>{const E=v.filter(R=>R.emergency),A=v.filter(R=>R.notes&&R.notes.length>10).slice(0,3);return{emergencies:E.slice(0,2),notable:A}},[v]),T=X.useMemo(()=>{const E=new Date,A=new Date(E.getTime()-3600*1e3),R=v.filter(H=>new Date(H.created_at)>A).length,P=new Date(E.getTime()-1440*60*1e3),K=v.filter(H=>new Date(H.created_at)>P).length/24;return{lastHour:R,dailyAverage:Math.round(K),status:R>K*1.5?"high":R>K*.5?"normal":"low"}},[v]);return i?m.jsx("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"40px"},children:m.jsx(ir,{size:"lg"})}):m.jsxs("div",{style:{width:"100%",background:"transparent",padding:"0"},children:[m.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #e5e7eb"},children:m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[m.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:m.jsx("i",{className:"fas fa-users",style:{fontSize:"14px"}})}),m.jsxs("div",{children:[m.jsx("h2",{style:{color:"#1f2937",fontSize:"20px",fontWeight:"700",margin:"0",lineHeight:"1.2"},children:"Community Hub"}),m.jsxs("p",{style:{color:"#6b7280",fontSize:"14px",margin:"4px 0 0 0"},children:[v.length," reports in your area"]})]})]})}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"},children:[m.jsx(qr,{title:"Live Activity",icon:"fas fa-rss",color:"#3b82f6",onClick:()=>{},children:m.jsx(Fw,{reports:x.slice(0,3)})}),m.jsx(qr,{title:"Safety Check",icon:"fas fa-shield-alt",color:"#10b981",onClick:()=>{},children:m.jsx(Xw,{data:_})}),m.jsx(qr,{title:"Highlights",icon:"fas fa-star",color:"#f59e0b",onClick:()=>{},children:m.jsx(Jw,{data:S})}),m.jsx(qr,{title:"Activity Pulse",icon:"fas fa-heartbeat",color:"#ef4444",onClick:()=>{},children:m.jsx(Qw,{data:T})}),m.jsx(qr,{title:"Community Stats",icon:"fas fa-chart-bar",color:"#8b5cf6",onClick:()=>{},children:m.jsx(e1,{reports:v})}),m.jsx(qr,{title:"Quick Actions",icon:"fas fa-bolt",color:"#06b6d4",onClick:()=>{},children:m.jsx(t1,{onNewReport:s})}),m.jsx(qr,{title:"Community Challenges",icon:"fas fa-trophy",color:"#f59e0b",onClick:()=>{},children:m.jsx(n1,{reports:v,userLocation:a,onShowAllChallenges:()=>p(!0)})}),m.jsx(qr,{title:"Achievements",icon:"fas fa-medal",color:"#8b5cf6",onClick:()=>{},children:m.jsx(i1,{reports:v})})]}),v.length===0&&m.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"32px",textAlign:"center",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.05)",border:"1px solid #f3f4f6",marginTop:"20px"},children:[m.jsx("i",{className:"fas fa-map-marker-alt",style:{fontSize:"32px",color:"#d1d5db",marginBottom:"12px"}}),m.jsx("div",{style:{color:"#6b7280",fontSize:"16px",fontWeight:"500",marginBottom:"4px"},children:"No Nearby Activity"}),m.jsx("div",{style:{color:"#9ca3af",fontSize:"14px"},children:"Community activity will appear here as people report in your area."})]}),m.jsx(pu,{isOpen:d,onClose:()=>p(!1),title:"All Community Challenges",size:"xl",children:m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"20px",maxHeight:"70vh",overflowY:"auto",padding:"8px"},children:(()=>{const E=new Date;E.setHours(0,0,0,0);const A=new Date(E);A.setDate(E.getDate()-E.getDay());const R=v.filter(K=>new Date(K.created_at)>=E),P=v.filter(K=>new Date(K.created_at)>=A);return[{id:"daily_reports",title:"Daily Reporter",description:"Make 3 reports today to help map your community",detailedDescription:"Report safety concerns, positive vibes, or emergency situations in your area. Each report helps build a better community map.",progress:Math.min(R.length,3),total:3,reward:"25 points + Daily Streak",type:"daily",icon:"📝",difficulty:"Easy",timeLeft:"23h 45m"},{id:"weekly_emergencies",title:"Emergency Helper",description:"Help verify 2 emergency reports this week",detailedDescription:"Emergency reports need community verification to ensure they reach the right people quickly. Your help makes a real difference.",progress:Math.min(P.filter(K=>K.emergency).length,2),total:2,reward:"50 points + Helper Badge",type:"weekly",icon:"🚨",difficulty:"Medium",timeLeft:"5 days"},{id:"community_goal",title:"Community Builder",description:"Help reach 25 reports this week as a team",detailedDescription:"Work together with your community to create comprehensive safety coverage. Every report counts toward our shared goal!",progress:Math.min(P.length,25),total:25,reward:"Community Hero Badge + 100 points",type:"community",icon:"👥",difficulty:"Hard",timeLeft:"5 days"},{id:"first_emergency",title:"First Responder",description:"Report your first emergency situation",detailedDescription:"Emergencies happen when we least expect them. Being prepared to report them quickly can save lives.",progress:v.filter(K=>K.emergency).length>=1?1:0,total:1,reward:"First Responder Badge",type:"achievement",icon:"🚑",difficulty:"Easy",timeLeft:"Ongoing"},{id:"explorer",title:"Neighborhood Explorer",description:"Report in 3 different areas this week",detailedDescription:"Help us map safety across different neighborhoods. Your exploration helps create a complete community picture.",progress:Math.min(new Set(P.map(K=>`${Math.round(K.latitude*10)}_${Math.round(K.longitude*10)}`)).size,3),total:3,reward:"Explorer Badge + 30 points",type:"exploration",icon:"🗺️",difficulty:"Medium",timeLeft:"5 days"}].map(K=>{const H=Y=>{switch(Y){case"completed":return"#10b981";case"accepted":return"#3b82f6";case"available":return"#f59e0b";default:return"#6b7280"}},k=K.progress>=K.total?"completed":"available",F=k==="completed";return m.jsxs("div",{style:{padding:"20px",background:F?"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)":"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"12px",border:`2px solid ${H(k)}`,position:"relative",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease"},onMouseEnter:Y=>{Y.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:Y=>{Y.currentTarget.style.transform="translateY(0)"},children:[m.jsx("div",{style:{position:"absolute",top:"12px",right:"12px",width:"12px",height:"12px",borderRadius:"50%",background:H(k),border:"2px solid white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[m.jsx("span",{style:{fontSize:"24px"},children:K.icon}),m.jsx("div",{style:{color:"#92400e",fontSize:"18px",fontWeight:"700",flex:1,lineHeight:"1.2"},children:K.title}),m.jsx("span",{style:{color:"#6b7280",fontSize:"11px",background:"#f3f4f6",padding:"4px 8px",borderRadius:"12px",fontWeight:"600"},children:K.difficulty})]}),m.jsx("div",{style:{color:"#78350f",fontSize:"14px",marginBottom:"16px",lineHeight:"1.5"},children:K.description}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[m.jsx("div",{style:{flex:1,height:"8px",background:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:m.jsx("div",{style:{height:"100%",width:`${K.progress/K.total*100}%`,background:H(k),borderRadius:"4px",transition:"width 0.8s ease"}})}),m.jsxs("span",{style:{color:"#92400e",fontSize:"14px",fontWeight:"700",minWidth:"45px",textAlign:"right"},children:[K.progress,"/",K.total]})]}),m.jsxs("div",{style:{color:"#92400e",fontSize:"13px",marginBottom:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:["🎁 ",K.reward]}),m.jsxs("div",{style:{color:"#6b7280",fontSize:"12px",marginBottom:"16px",fontWeight:"500"},children:["⏰ ",K.timeLeft," left"]}),m.jsx("div",{style:{textAlign:"center",padding:"10px",color:H(k),fontSize:"13px",fontWeight:"700",background:k==="completed"?"#f0fdf4":"#fef3c7",borderRadius:"8px",border:`1px solid ${H(k)}`},children:k==="completed"?"✅ Completed":"🔄 In Progress"})]},K.id)})})()})})]})},qr=({title:c,icon:i,color:a,onClick:s,children:u})=>m.jsxs("div",{onClick:s,style:{background:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.05)",border:"1px solid #f3f4f6",minHeight:"240px",cursor:"pointer",transition:"all 0.2s ease",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"},onMouseEnter:d=>{d.currentTarget.style.transform="translateY(-2px)",d.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.1)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateY(0)",d.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.05)"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[m.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:`linear-gradient(135deg, ${a} 0%, ${a}cc 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:m.jsx("i",{className:i,style:{fontSize:"14px"}})}),m.jsx("h3",{style:{color:"#1f2937",fontSize:"16px",fontWeight:"600",margin:0},children:c})]}),u]}),Fw=({reports:c})=>c.length===0?m.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[m.jsx("i",{className:"fas fa-rss",style:{fontSize:"24px",color:"#d1d5db",marginBottom:"8px"}}),m.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"No recent activity"})]}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:c.map((i,a)=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[m.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:i.emergency?"#ef4444":"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px"},children:i.emergency?"🚨":"📍"}),m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("div",{style:{color:"#1f2937",fontSize:"14px",fontWeight:"600",marginBottom:"2px"},children:[i.vibe_type," ",i.emergency?"Emergency":"Report"]}),m.jsx("div",{style:{color:"#6b7280",fontSize:"12px"},children:new Date(i.created_at).toLocaleTimeString()})]})]},i.id))}),Xw=({data:c})=>{const i=a=>{switch(a){case"safe":return"#10b981";case"moderate":return"#f59e0b";case"caution":return"#ef4444";default:return"#6b7280"}};return m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:`conic-gradient(${i(c.level)} ${c.score}%, #e5e7eb 0%)`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",position:"relative"},children:m.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsxs("span",{style:{color:i(c.level),fontSize:"18px",fontWeight:"700"},children:[c.score,"%"]})})}),m.jsxs("div",{style:{color:"#1f2937",fontSize:"16px",fontWeight:"600",marginBottom:"4px",textTransform:"capitalize"},children:[c.level," Area"]}),m.jsxs("div",{style:{color:"#6b7280",fontSize:"12px"},children:["Based on ",c.totalReports," reports"]})]})},Jw=({data:c})=>{const i=[...c.emergencies,...c.notable];return i.length===0?m.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[m.jsx("i",{className:"fas fa-star",style:{fontSize:"24px",color:"#d1d5db",marginBottom:"8px"}}),m.jsx("div",{style:{color:"#6b7280",fontSize:"14px"},children:"No highlights yet"})]}):m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.slice(0,2).map((a,s)=>m.jsxs("div",{style:{padding:"10px",background:a.emergency?"#fef2f2":"#f0f9ff",borderRadius:"6px",border:`1px solid ${a.emergency?"#fecaca":"#bae6fd"}`},children:[m.jsx("div",{style:{color:a.emergency?"#dc2626":"#0369a1",fontSize:"12px",fontWeight:"600",marginBottom:"2px"},children:a.emergency?"🚨 Emergency":"📝 Notable Report"}),m.jsx("div",{style:{color:"#374151",fontSize:"12px",lineHeight:"1.3"},children:a.notes?a.notes.substring(0,40)+"...":`${a.vibe_type} report`})]},a.id))})},Qw=({data:c})=>{const i=a=>{switch(a){case"high":return"#ef4444";case"normal":return"#10b981";case"low":return"#6b7280";default:return"#6b7280"}};return m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:i(c.status),display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",animation:c.status==="high"?"pulse 2s infinite":"none"},children:m.jsx("i",{className:"fas fa-heartbeat",style:{color:"white",fontSize:"20px"}})}),m.jsxs("div",{style:{color:"#1f2937",fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:[c.lastHour," reports/hour"]}),m.jsxs("div",{style:{color:"#6b7280",fontSize:"12px",textTransform:"capitalize"},children:[c.status," activity"]}),m.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
          }
        `})]})},e1=({reports:c})=>{const i=X.useMemo(()=>{const a=c.length,s=c.filter(v=>v.emergency).length,u=new Set(c.map(v=>v.user_id)).size,d=new Date;d.setHours(0,0,0,0);const p=c.filter(v=>new Date(v.created_at)>=d).length;return{total:a,emergencies:s,uniqueUsers:u,todayReports:p}},[c]);return m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{color:"#1f2937",fontSize:"18px",fontWeight:"700"},children:i.total}),m.jsx("div",{style:{color:"#6b7280",fontSize:"12px"},children:"Total Reports"})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{color:"#1f2937",fontSize:"18px",fontWeight:"700"},children:i.uniqueUsers}),m.jsx("div",{style:{color:"#6b7280",fontSize:"12px"},children:"Contributors"})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{color:"#1f2937",fontSize:"18px",fontWeight:"700"},children:i.emergencies}),m.jsx("div",{style:{color:"#6b7280",fontSize:"12px"},children:"Emergencies"})]}),m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{color:"#1f2937",fontSize:"18px",fontWeight:"700"},children:i.todayReports}),m.jsx("div",{style:{color:"#6b7280",fontSize:"12px"},children:"Today"})]})]})},t1=({onNewReport:c})=>m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[m.jsxs("button",{onClick:i=>{i.stopPropagation(),c?.()},style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-plus",style:{fontSize:"12px"}}),"Report Vibe"]}),m.jsxs("button",{onClick:i=>{i.stopPropagation(),window.open("tel:911","_self")},style:{width:"100%",padding:"12px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[m.jsx("i",{className:"fas fa-phone",style:{fontSize:"12px"}}),"Emergency Call"]})]}),n1=({reports:c,userLocation:i,onShowAllChallenges:a})=>{const[s,u]=X.useState(null),[d,p]=X.useState(new Set),[v,x]=X.useState(new Set),_=X.useMemo(()=>{const M=new Date;M.setHours(0,0,0,0);const K=new Date(M);K.setDate(M.getDate()-M.getDay());const H=c.filter(F=>new Date(F.created_at)>=M),k=c.filter(F=>new Date(F.created_at)>=K);return[{id:"daily_reports",title:"Daily Reporter",description:"Make 3 reports today to help map your community",detailedDescription:"Report safety concerns, positive vibes, or emergency situations in your area. Each report helps build a better community map.",progress:Math.min(H.length,3),total:3,reward:"25 points + Daily Streak",type:"daily",icon:"📝",difficulty:"Easy",timeLeft:"23h 45m"},{id:"weekly_emergencies",title:"Emergency Helper",description:"Help verify 2 emergency reports this week",detailedDescription:"Emergency reports need community verification to ensure they reach the right people quickly. Your help makes a real difference.",progress:Math.min(k.filter(F=>F.emergency).length,2),total:2,reward:"50 points + Helper Badge",type:"weekly",icon:"🚨",difficulty:"Medium",timeLeft:"5 days"},{id:"community_goal",title:"Community Builder",description:"Help reach 25 reports this week as a team",detailedDescription:"Work together with your community to create comprehensive safety coverage. Every report counts toward our shared goal!",progress:Math.min(k.length,25),total:25,reward:"Community Hero Badge + 100 points",type:"community",icon:"👥",difficulty:"Hard",timeLeft:"5 days"},{id:"first_emergency",title:"First Responder",description:"Report your first emergency situation",detailedDescription:"Emergencies happen when we least expect them. Being prepared to report them quickly can save lives.",progress:c.filter(F=>F.emergency).length>=1?1:0,total:1,reward:"First Responder Badge",type:"achievement",icon:"🚑",difficulty:"Easy",timeLeft:"Ongoing"},{id:"explorer",title:"Neighborhood Explorer",description:"Report in 3 different areas this week",detailedDescription:"Help us map safety across different neighborhoods. Your exploration helps create a complete community picture.",progress:Math.min(new Set(k.map(F=>`${Math.round(F.latitude*10)}_${Math.round(F.longitude*10)}`)).size,3),total:3,reward:"Explorer Badge + 30 points",type:"exploration",icon:"🗺️",difficulty:"Medium",timeLeft:"5 days"}]},[c]),S=_.find(M=>M.progress<M.total)||_[0],T=M=>{u(s===M?null:M)},E=(M,K)=>{K.stopPropagation(),p(H=>new Set([...H,M]))},A=(M,K)=>{K.stopPropagation(),x(H=>new Set([...H,M])),setTimeout(()=>{},500)},R=M=>v.has(M.id)?"completed":d.has(M.id)?"accepted":M.progress>=M.total?"completed":"available",P=M=>{switch(M){case"completed":return"#10b981";case"accepted":return"#3b82f6";case"available":return"#f59e0b";default:return"#6b7280"}};return m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsxs("div",{onClick:()=>T(S.id),style:{padding:"12px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"8px",border:"1px solid #f59e0b",cursor:"pointer",transition:"all 0.2s ease",position:"relative",overflow:"hidden"},onMouseEnter:M=>{M.currentTarget.style.transform="translateY(-1px)",M.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.1)"},onMouseLeave:M=>{M.currentTarget.style.transform="translateY(0)",M.currentTarget.style.boxShadow="none"},children:[m.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",width:"8px",height:"8px",borderRadius:"50%",background:P(R(S))}}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[m.jsx("span",{style:{fontSize:"16px"},children:S.icon}),m.jsx("div",{style:{color:"#92400e",fontSize:"14px",fontWeight:"600",flex:1},children:S.title}),m.jsx("span",{style:{color:"#6b7280",fontSize:"10px",background:"#f3f4f6",padding:"2px 6px",borderRadius:"10px"},children:S.difficulty})]}),m.jsx("div",{style:{color:"#78350f",fontSize:"12px",marginBottom:"8px",lineHeight:"1.4"},children:s===S.id?S.detailedDescription:S.description}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[m.jsx("div",{style:{flex:1,height:"6px",background:"#e5e7eb",borderRadius:"3px",overflow:"hidden"},children:m.jsx("div",{style:{height:"100%",width:`${S.progress/S.total*100}%`,background:P(R(S)),borderRadius:"3px",transition:"width 0.5s ease"}})}),m.jsxs("span",{style:{color:"#92400e",fontSize:"12px",fontWeight:"600",minWidth:"35px",textAlign:"right"},children:[S.progress,"/",S.total]})]}),m.jsxs("div",{style:{color:"#92400e",fontSize:"11px",marginBottom:"8px",fontWeight:"500"},children:["🎁 ",S.reward]}),m.jsxs("div",{style:{color:"#6b7280",fontSize:"10px",marginBottom:"8px"},children:["⏰ ",S.timeLeft," left"]}),s===S.id&&m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px",paddingTop:"12px",borderTop:"1px solid #e5e7eb"},children:[R(S)==="available"&&m.jsx("button",{onClick:M=>E(S.id,M),style:{flex:1,padding:"8px 12px",background:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Accept Challenge"}),R(S)==="accepted"&&S.progress>=S.total&&m.jsx("button",{onClick:M=>A(S.id,M),style:{flex:1,padding:"8px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"🎉 Complete!"}),R(S)==="accepted"&&m.jsx("button",{onClick:M=>p(K=>{const H=new Set(K);return H.delete(S.id),H}),style:{padding:"8px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Skip"})]}),m.jsx("div",{style:{position:"absolute",bottom:"8px",right:"8px",color:"#6b7280",fontSize:"10px"},children:s===S.id?"↑":"↓"})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("span",{style:{color:"#6b7280",fontSize:"12px"},children:[_.filter(M=>M.progress>=M.total||v.has(M.id)).length," completed"]}),m.jsx("button",{onClick:a,style:{color:"#f59e0b",fontSize:"12px",fontWeight:"600",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"View All →"})]})]})},i1=({reports:c})=>{const i=X.useMemo(()=>{const u=c.length,d=c.filter(_=>_.emergency).length,p=new Date,v=new Date(p.getTime()-10080*60*1e3),x=c.filter(_=>new Date(_.created_at)>=v).length;return[{id:"first_report",title:"First Steps",description:"Made your first report",icon:"🎯",unlocked:u>=1,progress:Math.min(u,1),total:1},{id:"safety_guardian",title:"Safety Guardian",description:"Helped 5 emergency situations",icon:"🛡️",unlocked:d>=5,progress:Math.min(d,5),total:5},{id:"community_hero",title:"Community Hero",description:"10 reports in one week",icon:"⭐",unlocked:x>=10,progress:Math.min(x,10),total:10},{id:"consistent_reporter",title:"Consistent Reporter",description:"Report for 7 days straight",icon:"🔥",unlocked:!1,progress:0,total:7}]},[c]),a=i.filter(u=>u.unlocked).length,s=i.find(u=>!u.unlocked);return m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:`conic-gradient(#8b5cf6 ${a*25}%, #e5e7eb 0%)`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px"},children:m.jsx("div",{style:{width:"45px",height:"45px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx("span",{style:{color:"#8b5cf6",fontSize:"16px",fontWeight:"700"},children:a})})}),m.jsxs("div",{style:{color:"#1f2937",fontSize:"14px",fontWeight:"600",marginBottom:"2px"},children:[a," Achievements"]}),m.jsxs("div",{style:{color:"#6b7280",fontSize:"12px"},children:[i.length-a," remaining"]})]}),s&&m.jsxs("div",{style:{padding:"10px",background:"#f3f4f6",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[m.jsxs("div",{style:{color:"#6b7280",fontSize:"11px",marginBottom:"4px"},children:["Next: ",s.title]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx("div",{style:{flex:1,height:"4px",background:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:m.jsx("div",{style:{height:"100%",width:`${s.progress/s.total*100}%`,background:"#8b5cf6",borderRadius:"2px"}})}),m.jsxs("span",{style:{color:"#6b7280",fontSize:"10px"},children:[s.progress,"/",s.total]})]})]}),m.jsx("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:i.filter(u=>u.unlocked).slice(0,3).map(u=>m.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:u.icon},u.id))})]})},r1=({vibes:c,userLocation:i,isLoading:a=!1,onNewReport:s})=>{const{t:u}=Kt(),[d,p]=X.useState([]),[v,x]=X.useState(""),[_,S]=X.useState(null),[T,E]=X.useState([]),[A,R]=X.useState(!1),P=X.useMemo(()=>c.length===0?[]:Ww(c,i,1).filter(k=>k.locationName&&k.locationName.trim()!==""),[c,i]);X.useEffect(()=>{p(P)},[P]),X.useEffect(()=>{i&&c.length>0?(async()=>{R(!0);try{const k=await lf(i[0],i[1]);x(k);const F=c.filter(Y=>Y.latitude==null||Y.longitude==null?!1:iu(i[0],i[1],Y.latitude,Y.longitude)<=1);if(F.length>0){const Y=Kh(F);S(Y.dominantVibe);const oe={};for(const Te of F){const Ke=Te.vibe_type;oe[Ke]=(oe[Ke]||0)+1}const ce=F.length,Ae=Object.entries(oe).map(([Te,Ke])=>({type:Te,count:Ke,percentage:Math.round(Ke/ce*100),color:M(Te)})).sort((Te,Ke)=>Ke.percentage-Te.percentage);E(Ae)}else S(null),E([])}catch(k){console.error("Error geocoding user location:",k),x(""),S(null)}finally{R(!1)}})():(x(""),S(null))},[i,c]),X.useEffect(()=>{const H=$t.subscribeToReports(F=>{F.emergency||console.log("New vibe report received:",F.id)}),k=$t.subscribeToVotes(F=>{console.log("Vote update received:",F.reportId)});return()=>{H.unsubscribe(),k.unsubscribe()}},[]);const M=H=>({safe:"#10b981",calm:"#3b82f6",lively:"#f59e0b",festive:"#8b5cf6",crowded:"#ef4444",suspicious:"#f97316",dangerous:"#dc2626",noisy:"#6b7280",quiet:"#06b6d4",unknown:"#6b7280"})[H]||"#6b7280",K=H=>({safe:"🛡️",calm:"😌",lively:"🎉",festive:"🎊",crowded:"👥",suspicious:"⚠️",dangerous:"🚨",noisy:"🔊",quiet:"🤫",unknown:"❓"})[H]||"❓";return a?m.jsxs("div",{style:{height:"100vh",width:"100vw",backgroundColor:"var(--bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[m.jsx(ir,{size:"lg"}),m.jsx("p",{style:{color:"var(--text-muted)",marginTop:"16px"},children:u("app.loadingCommunityData","Loading community data...")})]}):d.length===0?m.jsx("div",{style:{height:"100vh",width:"100vw",backgroundColor:"var(--bg-secondary)",overflow:"hidden",position:"relative"},children:m.jsx(Hw,{icon:m.jsx("i",{className:"fas fa-users",style:{fontSize:"48px"}}),title:u("community.noData","No Community Data"),description:u("community.noDataDesc","Community vibe data will appear here as reports are submitted in your area.")})}):m.jsxs("div",{style:{height:"100vh",width:"100vw",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",overflow:"auto",padding:"20px"},children:[m.jsxs("div",{style:{marginBottom:"32px",textAlign:"center"},children:[m.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",padding:"12px 24px",borderRadius:"50px",boxShadow:"0 8px 32px rgba(59, 130, 246, 0.3)",marginBottom:"16px"},children:[m.jsx("i",{className:"fas fa-location-dot",style:{fontSize:"20px"}}),m.jsx("span",{style:{fontSize:"18px",fontWeight:"600"},children:u("community.title","Your Location")})]}),m.jsx("p",{style:{color:"#64748b",fontSize:"16px",fontWeight:"500",margin:"0"},children:u("community.subtitle","See how your current area feels")})]}),i&&v?m.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"32px",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb",position:"relative",overflow:"hidden",maxWidth:"600px",margin:"0 auto"},children:[m.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"6px",background:"linear-gradient(90deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%)"}}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"24px"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"20px",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.4)"},children:m.jsx("i",{className:"fas fa-location-dot",style:{fontSize:"32px"}})}),m.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[m.jsx("div",{style:{color:"#1f2937",fontSize:"24px",fontWeight:"700",marginBottom:"8px",lineHeight:"1.3"},children:v}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",fontSize:"16px",color:"#6b7280",marginBottom:"24px"},children:[m.jsx("i",{className:"fas fa-map-pin",style:{color:"#3b82f6"}}),m.jsx("span",{children:u("community.yourArea","Your Current Area")})]})]}),_?m.jsxs("div",{style:{padding:"24px",background:`linear-gradient(135deg, ${M(_.type)}12 0%, ${M(_.type)}06 100%)`,border:`2px solid ${M(_.type)}30`,borderRadius:"16px",display:"flex",alignItems:"center",gap:"20px",width:"100%",boxShadow:`0 4px 16px ${M(_.type)}20`},children:[m.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:`linear-gradient(135deg, ${M(_.type)} 0%, ${M(_.type)}cc 100%)`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",boxShadow:`0 6px 20px ${M(_.type)}50`},children:K(_.type)}),m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[m.jsx($w,{segments:T.map(H=>({percentage:H.percentage,color:H.color,label:H.type})),size:80,strokeWidth:6,backgroundColor:"#e5e7eb",centerContent:m.jsxs("div",{style:{fontSize:"18px",fontWeight:"900",color:M(_.type),textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},children:[_.percentage,"%"]}),animationDuration:2e3}),m.jsx("div",{style:{color:M(_.type),fontSize:"16px",fontWeight:"600"},children:u(`vibes.${_.type}`,_.type)})]}),m.jsxs("div",{style:{color:"#9ca3af",fontSize:"14px",marginTop:"8px"},children:["Based on ",_.count," nearby report",_.count!==1?"s":""]})]})]}):m.jsxs("div",{style:{padding:"24px",background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",border:"2px solid #e5e7eb",borderRadius:"16px",textAlign:"center",width:"100%"},children:[m.jsx("i",{className:"fas fa-chart-bar",style:{fontSize:"24px",color:"#9ca3af",marginBottom:"8px"}}),m.jsx("div",{style:{color:"#6b7280",fontSize:"16px",fontWeight:"500"},children:"No Community Reports In Your Area Yet"})]})]})]}):m.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"40px",boxShadow:"0 12px 40px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb",maxWidth:"500px",margin:"0 auto",textAlign:"center"},children:[m.jsx("i",{className:"fas fa-location-slash",style:{fontSize:"48px",color:"#d1d5db",marginBottom:"16px"}}),m.jsx("div",{style:{color:"#6b7280",fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"Location Not Available"}),m.jsx("div",{style:{color:"#9ca3af",fontSize:"14px"},children:"Please enable location services to see your area's community vibe"})]}),i&&v&&m.jsx("div",{style:{marginTop:"32px"},children:m.jsx(Yw,{reports:c,isLoading:a,userLocation:i,onNewReport:s})})]})},a1=({activeTab:c,onTabChange:i,onNewReport:a})=>{const{t:s}=Kt(),u=[{id:"map",label:s("tabs.map"),icon:"fas fa-map"},{id:"reports",label:s("tabs.community"),icon:"fas fa-users"},{id:"profile",label:s("tabs.profile"),icon:"fas fa-user"},{id:"settings",label:s("tabs.settings"),icon:"fas fa-cog"}];return m.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"var(--bg-primary)",borderTop:"1px solid var(--border-color)",boxShadow:"0 -2px 10px var(--shadow-color)",zIndex:100,display:"flex",alignItems:"center"},children:[m.jsx("div",{style:{display:"flex",flex:1},children:u.slice(0,2).map(d=>m.jsxs("button",{onClick:()=>i(d.id),style:{flex:1,padding:"12px 8px",border:"none",backgroundColor:c===d.id?"var(--accent-primary)":"transparent",color:c===d.id?"white":"var(--text-muted)",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"12px",fontWeight:c===d.id?"600":"500"},children:[m.jsx("i",{className:d.icon,style:{fontSize:"18px",marginBottom:"2px"}}),m.jsx("span",{children:d.label})]},d.id))}),a&&m.jsx("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:m.jsx("button",{onClick:()=>{a()},style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",border:"none",boxShadow:"0 4px 14px rgba(59, 130, 246, 0.4), 0 0 0 4px var(--bg-primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:101,transition:"all 0.2s ease",pointerEvents:"auto",animation:"pulse 2s infinite"},onMouseEnter:d=>{d.currentTarget.style.transform="scale(1.1)",d.currentTarget.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.6), 0 0 0 4px var(--bg-primary)"},onMouseLeave:d=>{d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 4px 14px rgba(59, 130, 246, 0.4), 0 0 0 4px var(--bg-primary)"},title:s("app.newReport"),children:m.jsx("i",{className:"fas fa-plus",style:{fontSize:"20px",fontWeight:"bold"}})})}),m.jsx("div",{style:{display:"flex",flex:1},children:u.slice(2).map(d=>m.jsxs("button",{onClick:()=>i(d.id),style:{flex:1,padding:"12px 8px",border:"none",backgroundColor:c===d.id?"var(--accent-primary)":"transparent",color:c===d.id?"white":"var(--text-muted)",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"12px",fontWeight:c===d.id?"600":"500"},children:[m.jsx("i",{className:d.icon,style:{fontSize:"18px",marginBottom:"2px"}}),m.jsx("span",{children:d.label})]},d.id))}),m.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% {
              transform: scale(1);
              box-shadow: 0 4px 14px rgba(59, 130, 246, 0.4), 0 0 0 4px var(--bg-primary);
            }
            50% {
              transform: scale(1.05);
              box-shadow: 0 6px 16px rgba(59, 130, 246, 0.5), 0 0 0 4px var(--bg-primary);
            }
          }
        `})]})},s1=({isOpen:c,onClose:i})=>{const{t:a}=Kt(),{signIn:s,signUp:u,isLoading:d}=ul(),[p,v]=X.useState("login"),[x,_]=X.useState({loginEmail:"",loginPassword:"",signupUsername:"",signupEmail:"",signupPassword:"",signupPasswordConfirm:""}),[S,T]=X.useState(""),E=(P,M)=>{_(K=>({...K,[P]:M})),T("")},A=async P=>{if(P.preventDefault(),T(""),!x.loginEmail||!x.loginPassword){T(a("auth.fillAllFields"));return}try{await s(x.loginEmail,x.loginPassword),i(),_(M=>({...M,loginEmail:"",loginPassword:""}))}catch(M){console.error("Login error:",M),T(M.message||a("auth.loginFailed"))}},R=async P=>{if(P.preventDefault(),T(""),!x.signupUsername||!x.signupEmail||!x.signupPassword||!x.signupPasswordConfirm){T(a("auth.fillAllFields"));return}if(x.signupPassword!==x.signupPasswordConfirm){T(a("auth.passwordsNotMatch"));return}if(x.signupPassword.length<6){T(a("auth.passwordTooShort"));return}try{await u(x.signupEmail,x.signupPassword,x.signupUsername),T(a("auth.signupSuccessful")),v("login"),_(M=>({...M,signupUsername:"",signupEmail:"",signupPassword:"",signupPasswordConfirm:""}))}catch(M){console.error("Signup error:",M),T(M.message||a("auth.signupFailed"))}};return c?m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:m.jsxs("div",{style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"32px",maxWidth:"400px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"var(--shadow-color)"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[m.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"var(--text-primary)",marginBottom:"8px"},children:a("auth.welcome")}),m.jsx("p",{style:{color:"var(--text-muted)",fontSize:"16px"},children:a("auth.joinCommunity")})]}),m.jsxs("div",{style:{display:"flex",marginBottom:"24px",borderRadius:"8px",overflow:"hidden",border:"1px solid var(--border-color)"},children:[m.jsx("button",{onClick:()=>v("login"),style:{flex:1,padding:"12px",backgroundColor:p==="login"?"var(--accent-primary)":"var(--bg-primary)",color:p==="login"?"white":"var(--text-primary)",border:"none",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:a("auth.login")}),m.jsx("button",{onClick:()=>v("signup"),style:{flex:1,padding:"12px",backgroundColor:p==="signup"?"var(--accent-primary)":"var(--bg-primary)",color:p==="signup"?"white":"var(--text-primary)",border:"none",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:a("auth.signup")})]}),S&&m.jsx("div",{style:{padding:"12px",marginBottom:"16px",borderRadius:"8px",backgroundColor:S.includes("successful")?"#d1fae5":"#fee2e2",border:`1px solid ${S.includes("successful")?"#a7f3d0":"#fecaca"}`,color:S.includes("successful")?"#065f46":"#991b1b",fontSize:"14px"},children:S}),p==="login"&&m.jsxs("form",{onSubmit:A,children:[m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:a("auth.email")}),m.jsx("input",{type:"email",value:x.loginEmail,onChange:P=>E("loginEmail",P.target.value),placeholder:a("auth.enterEmail"),required:!0,style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:a("auth.password")}),m.jsx("input",{type:"password",value:x.loginPassword,onChange:P=>E("loginPassword",P.target.value),placeholder:a("auth.enterPassword"),required:!0,style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"var(--accent-primary)",color:"white",fontSize:"16px",fontWeight:"500",cursor:d?"not-allowed":"pointer",opacity:d?.5:1},children:a(d?"auth.loggingIn":"auth.login")})]}),p==="signup"&&m.jsxs("form",{onSubmit:R,children:[m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:a("auth.username")}),m.jsx("input",{type:"text",value:x.signupUsername,onChange:P=>E("signupUsername",P.target.value),placeholder:a("auth.chooseUsername"),required:!0,style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:a("auth.email")}),m.jsx("input",{type:"email",value:x.signupEmail,onChange:P=>E("signupEmail",P.target.value),placeholder:a("auth.enterEmail"),required:!0,style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:a("auth.password")}),m.jsx("input",{type:"password",value:x.signupPassword,onChange:P=>E("signupPassword",P.target.value),placeholder:a("auth.createPassword"),required:!0,style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"var(--text-secondary)",marginBottom:"4px"},children:a("auth.confirmPassword")}),m.jsx("input",{type:"password",value:x.signupPasswordConfirm,onChange:P=>E("signupPasswordConfirm",P.target.value),placeholder:a("auth.confirmPasswordPlaceholder"),required:!0,style:{width:"100%",padding:"12px",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"16px",outline:"none",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"}})]}),m.jsx("button",{type:"submit",disabled:d,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"none",backgroundColor:"var(--success)",color:"white",fontSize:"16px",fontWeight:"500",cursor:d?"not-allowed":"pointer",opacity:d?.5:1},children:a(d?"auth.creatingAccount":"auth.signup")})]}),m.jsx("button",{onClick:i,style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-muted)"},children:"×"})]})}):null},o1=({isOpen:c,onComplete:i,onClose:a})=>{const{t:s}=Kt(),{user:u,refreshProfile:d}=ul(),[p,v]=X.useState(1),[x,_]=X.useState(!1),[S,T]=X.useState({firstName:"",lastName:"",phone:"",location:{latitude:30.0444,longitude:31.2357,address:"Cairo, Egypt"},interests:[],language:"en",notifications:!0});X.useEffect(()=>{c&&u&&E()},[c,u]);const E=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async H=>{const{latitude:k,longitude:F}=H.coords;try{const ce=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${k}&lon=${F}&zoom=18&addressdetails=1`)).json()).display_name||`${k.toFixed(4)}, ${F.toFixed(4)}`;T(Ae=>({...Ae,location:{latitude:k,longitude:F,address:ce}}))}catch(Y){console.error("Error reverse geocoding:",Y),T(oe=>({...oe,location:{latitude:k,longitude:F,address:`${k.toFixed(4)}, ${F.toFixed(4)}`}}))}},H=>{console.error("Error getting location:",H)},{timeout:1e4,enableHighAccuracy:!0})},A=()=>{p<4&&v(p+1)},R=()=>{p>1&&v(p-1)},P=async()=>{if(u){_(!0);try{await jn.completeOnboarding(u.id,S),await d(),i()}catch(H){console.error("Error completing onboarding:",H),alert(s("modals.onboarding.errorSetup"))}finally{_(!1)}}},M=H=>{T(k=>({...k,...H}))},K=H=>{T(k=>({...k,interests:k.interests.includes(H)?k.interests.filter(F=>F!==H):[...k.interests,H]}))};return c?m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:m.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"32px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[m.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937",marginBottom:"8px"},children:s("modals.onboarding.welcome")}),m.jsx("p",{style:{color:"#6b7280",fontSize:"16px"},children:s("modals.onboarding.welcomeDesc")})]}),m.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"32px",gap:"8px"},children:[1,2,3,4].map(H=>m.jsx("div",{style:{width:"40px",height:"4px",borderRadius:"2px",backgroundColor:H<=p?"#3b82f6":"#e5e7eb"}},H))}),m.jsxs("div",{style:{marginBottom:"32px"},children:[p===1&&m.jsx(l1,{data:S,onUpdate:M}),p===2&&m.jsx(c1,{data:S,onUpdate:M}),p===3&&m.jsx(u1,{data:S,onToggleInterest:K}),p===4&&m.jsx(d1,{data:S})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px"},children:[m.jsx("button",{onClick:p===1?a:R,style:{padding:"12px 24px",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"white",color:"#374151",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:s(p===1?"modals.onboarding.skip":"common.previous")}),p<4?m.jsx("button",{onClick:A,style:{padding:"12px 24px",borderRadius:"8px",border:"none",backgroundColor:"#3b82f6",color:"white",fontSize:"16px",fontWeight:"500",cursor:"pointer"},children:s("common.next")}):m.jsx("button",{onClick:P,disabled:x,style:{padding:"12px 24px",borderRadius:"8px",border:"none",backgroundColor:"#10b981",color:"white",fontSize:"16px",fontWeight:"500",cursor:x?"not-allowed":"pointer",opacity:x?.5:1},children:s(x?"common.loading":"modals.onboarding.getStarted")})]})]})}):null},l1=({data:c,onUpdate:i})=>{const{t:a}=Kt();return m.jsxs("div",{children:[m.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"16px"},children:a("onboarding.personalInfo")}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[m.jsxs("div",{children:[m.jsxs("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:[a("onboarding.firstName")," *"]}),m.jsx("input",{type:"text",value:c.firstName,onChange:s=>i({firstName:s.target.value}),placeholder:a("onboarding.enterFirstName"),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",outline:"none"}})]}),m.jsxs("div",{children:[m.jsxs("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:[a("onboarding.lastName")," *"]}),m.jsx("input",{type:"text",value:c.lastName,onChange:s=>i({lastName:s.target.value}),placeholder:a("onboarding.enterLastName"),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",outline:"none"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:a("onboarding.phoneNumber")}),m.jsx("input",{type:"tel",value:c.phone,onChange:s=>i({phone:s.target.value}),placeholder:"+1 (555) 123-4567",style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",outline:"none"}})]})]})]})},c1=({data:c,onUpdate:i})=>{const{t:a}=Kt();return m.jsxs("div",{children:[m.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"16px"},children:a("onboarding.locationPreferences")}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:a("onboarding.yourLocation")}),m.jsxs("div",{style:{padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#f9fafb",fontSize:"14px",color:"#6b7280"},children:["📍 ",c.location.address]}),m.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:a("onboarding.locationDescription")})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:a("onboarding.languagePreference")}),m.jsxs("select",{value:c.language,onChange:s=>i({language:s.target.value}),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"16px",outline:"none"},children:[m.jsx("option",{value:"en",children:"English"}),m.jsx("option",{value:"ar",children:"العربية (Arabic)"})]})]}),m.jsx("div",{children:m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer"},children:[m.jsx("input",{type:"checkbox",checked:c.notifications,onChange:s=>i({notifications:s.target.checked}),style:{width:"16px",height:"16px"}}),a("onboarding.enableNotifications")]})})]})]})},u1=({data:c,onToggleInterest:i})=>{const{t:a}=Kt();return m.jsxs("div",{children:[m.jsx("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"16px"},children:a("onboarding.communityInterests")}),m.jsx("p",{style:{color:"#6b7280",marginBottom:"24px",fontSize:"14px"},children:a("onboarding.selectInterests")}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Object.entries(gv).map(([s,u])=>m.jsxs("div",{children:[m.jsxs("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"8px",display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{children:u.icon}),u.label]}),m.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:u.items.map(d=>m.jsx("button",{onClick:()=>i(d),style:{padding:"8px 16px",borderRadius:"20px",border:c.interests.includes(d)?"2px solid #3b82f6":"2px solid #d1d5db",backgroundColor:c.interests.includes(d)?"#eff6ff":"white",color:c.interests.includes(d)?"#1d4ed8":"#374151",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},children:d},d))})]},s))}),m.jsx("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #bae6fd"},children:m.jsxs("p",{style:{fontSize:"14px",color:"#0369a1",margin:0},children:["💡 ",m.jsxs("strong",{children:[a("onboarding.tip"),":"]})," ",a("onboarding.interestsTip")]})})]})},d1=({data:c})=>{const{t:i}=Kt();return m.jsxs("div",{style:{textAlign:"center"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"🎉"}),m.jsx("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937",marginBottom:"16px"},children:i("onboarding.allSetUp")}),m.jsx("p",{style:{color:"#6b7280",fontSize:"16px",marginBottom:"24px"},children:i("onboarding.welcomeMessage",{name:c.firstName})}),m.jsxs("div",{style:{backgroundColor:"#f0f9ff",padding:"16px",borderRadius:"8px",border:"1px solid #bae6fd",textAlign:"left"},children:[m.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:i("onboarding.whatsNext")}),m.jsxs("ul",{style:{color:"#0369a1",fontSize:"14px",margin:0,paddingLeft:"20px"},children:[m.jsx("li",{children:i("onboarding.exploreMap")}),m.jsx("li",{children:i("onboarding.submitReport")}),m.jsx("li",{children:i("onboarding.connectPeople")}),m.jsx("li",{children:i("onboarding.earnReputation")})]})]})]})},h1=({isOpen:c,onClose:i,onSelectVibe:a,onSelectEmergency:s})=>{const{t:u}=Kt();return m.jsx(pu,{isOpen:c,onClose:i,title:u("modals.reportType.title"),children:m.jsxs("div",{style:{padding:"20px 0"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[m.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:m.jsx("i",{className:"fas fa-plus",style:{fontSize:"28px",color:"white"}})}),m.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},children:u("modals.reportType.title")}),m.jsx("p",{style:{color:"#6b7280",fontSize:"16px",margin:0,lineHeight:"1.5"},children:u("modals.reportType.title")})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[m.jsxs("button",{onClick:()=>{i(),a()},style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"32px 20px",border:"2px solid #e5e7eb",borderRadius:"16px",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.02)",position:"relative",overflow:"hidden"},onMouseEnter:d=>{d.currentTarget.style.transform="translateY(-6px) scale(1.02)",d.currentTarget.style.boxShadow="0 12px 32px rgba(59, 130, 246, 0.2), 0 4px 8px rgba(59, 130, 246, 0.1)",d.currentTarget.style.borderColor="#3b82f6",d.currentTarget.style.background="linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateY(0) scale(1)",d.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.02)",d.currentTarget.style.borderColor="#e5e7eb",d.currentTarget.style.background="linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)"},onMouseDown:d=>{d.currentTarget.style.transform="translateY(-2px) scale(0.98)"},onMouseUp:d=>{d.currentTarget.style.transform="translateY(-6px) scale(1.02)"},children:[m.jsxs("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 50%, #93c5fd 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"18px",boxShadow:"0 6px 16px rgba(59, 130, 246, 0.25), inset 0 2px 4px rgba(255, 255, 255, 0.1)",position:"relative"},children:[m.jsx("i",{className:"fas fa-smile",style:{fontSize:"30px",color:"#1d4ed8",filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))"}}),m.jsx("div",{style:{position:"absolute",top:"-2px",right:"-2px",width:"20px",height:"20px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.3)"},children:m.jsx("i",{className:"fas fa-plus",style:{fontSize:"10px",color:"white",fontWeight:"bold"}})})]}),m.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0",letterSpacing:"-0.025em"},children:u("modals.reportType.vibe")}),m.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:0,lineHeight:"1.5",fontWeight:"500"},children:u("modals.reportType.vibeDesc")})]}),m.jsxs("button",{onClick:()=>{i(),s()},style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"32px 20px",border:"2px solid #e5e7eb",borderRadius:"16px",background:"linear-gradient(135deg, #ffffff 0%, #fef7f7 100%)",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",textAlign:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.02)",position:"relative",overflow:"hidden"},onMouseEnter:d=>{d.currentTarget.style.transform="translateY(-6px) scale(1.02)",d.currentTarget.style.boxShadow="0 12px 32px rgba(239, 68, 68, 0.2), 0 4px 8px rgba(239, 68, 68, 0.1)",d.currentTarget.style.borderColor="#ef4444",d.currentTarget.style.background="linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateY(0) scale(1)",d.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.05), 0 2px 4px rgba(0, 0, 0, 0.02)",d.currentTarget.style.borderColor="#e5e7eb",d.currentTarget.style.background="linear-gradient(135deg, #ffffff 0%, #fef7f7 100%)"},onMouseDown:d=>{d.currentTarget.style.transform="translateY(-2px) scale(0.98)"},onMouseUp:d=>{d.currentTarget.style.transform="translateY(-6px) scale(1.02)"},children:[m.jsxs("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 50%, #fca5a5 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"18px",boxShadow:"0 6px 16px rgba(239, 68, 68, 0.25), inset 0 2px 4px rgba(255, 255, 255, 0.1)",position:"relative"},children:[m.jsx("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"30px",color:"#dc2626",filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))"}}),m.jsx("div",{style:{position:"absolute",top:"-2px",right:"-2px",width:"20px",height:"20px",borderRadius:"50%",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.3)"},children:m.jsx("i",{className:"fas fa-exclamation",style:{fontSize:"10px",color:"white",fontWeight:"bold"}})})]}),m.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0",letterSpacing:"-0.025em"},children:u("modals.reportType.emergency")}),m.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:0,lineHeight:"1.5",fontWeight:"500"},children:u("modals.reportType.emergencyDesc")})]})]})]})})},f1=Ua.memo(h1),p1=({isOpen:c,onClose:i,onSuccess:a})=>{const{t:s}=Kt(),[u,d]=X.useState(null),[p,v]=X.useState(""),[x,_]=X.useState(""),[S,T]=X.useState(null),[E,A]=X.useState(!1),[R,P]=X.useState(!1),M=[{type:Be.Safe,label:s("vibes.safe"),icon:"fas fa-shield-alt",color:"#22c55e",description:s("vibes.safeDesc")},{type:Be.Calm,label:s("vibes.calm"),icon:"fas fa-peace",color:"#3b82f6",description:s("vibes.calmDesc")},{type:Be.Lively,label:s("vibes.lively"),icon:"fas fa-music",color:"#eab308",description:s("vibes.livelyDesc")},{type:Be.Festive,label:s("vibes.festive"),icon:"fas fa-glass-cheers",color:"#f59e0b",description:s("vibes.festiveDesc")},{type:Be.Crowded,label:s("vibes.crowded"),icon:"fas fa-users",color:"#f97316",description:s("vibes.crowdedDesc")},{type:Be.Suspicious,label:s("vibes.suspicious"),icon:"fas fa-eye-slash",color:"#a855f7",description:s("vibes.suspiciousDesc")},{type:Be.Dangerous,label:s("vibes.dangerous"),icon:"fas fa-exclamation-triangle",color:"#ef4444",description:s("vibes.dangerousDesc")},{type:Be.Noisy,label:s("vibes.noisy"),icon:"fas fa-volume-up",color:"#06b6d4",description:s("vibes.noisyDesc")},{type:Be.Quiet,label:s("vibes.quiet"),icon:"fas fa-volume-off",color:"#2dd4bf",description:s("vibes.quietDesc")}];X.useEffect(()=>{c&&(d(null),v(""),_(""),T(null),K())},[c]);const K=async()=>{P(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async k=>{const{latitude:F,longitude:Y}=k.coords;T([F,Y]);try{const oe=await lf(F,Y);_(oe)}catch{console.warn("Geocoding failed, using address not available message"),_(s("reports.addressNotAvailable"))}P(!1)},k=>{console.error("Error getting location:",k),P(!1)},{timeout:1e4,enableHighAccuracy:!0}):P(!1)},H=async()=>{if(!(!u||!S)){A(!0);try{await $t.createReport({vibe_type:u,latitude:S[0],longitude:S[1],notes:p.trim()||void 0,location:x.trim()||void 0,emergency:!1}),a?.(),i()}catch(k){console.error("Error creating vibe report:",k)}finally{A(!1)}}};return m.jsx(pu,{isOpen:c,onClose:i,title:s("modals.vibeReport.title"),children:m.jsxs("div",{style:{padding:"20px 0"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[m.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 6px 16px rgba(59, 130, 246, 0.2)"},children:m.jsx("i",{className:"fas fa-smile",style:{fontSize:"24px",color:"#3b82f6"}})}),m.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},children:s("modals.vibeReport.title")}),m.jsx("p",{style:{color:"#6b7280",fontSize:"15px",margin:0,lineHeight:"1.5"},children:s("modals.vibeReport.description")})]}),m.jsxs("div",{style:{marginBottom:"28px"},children:[m.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"16px",textAlign:"center"},children:s("modals.vibeReport.vibeType")}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px"},children:M.map(k=>m.jsxs("button",{onClick:()=>d(k.type),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px 16px",border:`2px solid ${u===k.type?k.color:"#e5e7eb"}`,borderRadius:"12px",background:u===k.type?`linear-gradient(135deg, ${k.color}08 0%, ${k.color}15 100%)`:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center",boxShadow:u===k.type?`0 6px 20px ${k.color}20`:"0 2px 8px rgba(0, 0, 0, 0.04)",transform:u===k.type?"scale(1.02)":"scale(1)"},onMouseEnter:F=>{u!==k.type&&(F.currentTarget.style.transform="scale(1.02)",F.currentTarget.style.boxShadow=`0 4px 16px ${k.color}15`)},onMouseLeave:F=>{u!==k.type&&(F.currentTarget.style.transform="scale(1)",F.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.04)")},children:[m.jsx("i",{className:k.icon,style:{fontSize:"28px",color:k.color,marginBottom:"10px"}}),m.jsx("span",{style:{fontSize:"15px",fontWeight:"700",color:"#1f2937",marginBottom:"6px"},children:k.label}),m.jsx("span",{style:{fontSize:"13px",color:"#6b7280",lineHeight:"1.3"},children:k.description})]},k.type))})]}),m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:s("modals.vibeReport.location")}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("input",{type:"text",value:x,onChange:k=>_(k.target.value),placeholder:s("modals.vibeReport.selectLocation"),style:{width:"100%",padding:"10px 40px 10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none"}}),m.jsx("button",{onClick:K,disabled:R,style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:R?"#9ca3af":"#3b82f6",cursor:R?"not-allowed":"pointer",padding:"4px"},title:s("reports.useCurrentLocation"),children:R?m.jsx(ir,{size:"sm"}):m.jsx("i",{className:"fas fa-crosshairs"})})]})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:s("modals.vibeReport.details")}),m.jsx("textarea",{value:p,onChange:k=>v(k.target.value),placeholder:s("modals.vibeReport.detailsPlaceholder"),rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit"}})]}),m.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"flex-end",marginTop:"32px"},children:[m.jsx("button",{onClick:i,disabled:E,style:{padding:"14px 24px",border:"2px solid #e5e7eb",borderRadius:"12px",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",color:"#6b7280",fontSize:"16px",fontWeight:"600",cursor:E?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)",opacity:E?.6:1},onMouseEnter:k=>{E||(k.currentTarget.style.transform="translateY(-2px)",k.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.08)",k.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:k=>{E||(k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.04)",k.currentTarget.style.borderColor="#e5e7eb")},onMouseDown:k=>{E||(k.currentTarget.style.transform="translateY(0)")},onMouseUp:k=>{E||(k.currentTarget.style.transform="translateY(-2px)")},children:s("common.cancel")}),m.jsx("button",{onClick:H,disabled:!u||!S||E,style:{padding:"14px 28px",border:"none",borderRadius:"12px",background:!u||!S||E?"linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)":"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",fontSize:"16px",fontWeight:"700",cursor:!u||!S||E?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:!u||!S||E?"0 2px 8px rgba(0, 0, 0, 0.04)":"0 6px 20px rgba(59, 130, 246, 0.3), 0 2px 8px rgba(59, 130, 246, 0.1)",display:"flex",alignItems:"center",gap:"8px",position:"relative",overflow:"hidden"},onMouseEnter:k=>{u&&S&&!E&&(k.currentTarget.style.transform="translateY(-3px) scale(1.02)",k.currentTarget.style.boxShadow="0 12px 32px rgba(59, 130, 246, 0.4), 0 4px 12px rgba(59, 130, 246, 0.2)")},onMouseLeave:k=>{u&&S&&!E&&(k.currentTarget.style.transform="translateY(0) scale(1)",k.currentTarget.style.boxShadow="0 6px 20px rgba(59, 130, 246, 0.3), 0 2px 8px rgba(59, 130, 246, 0.1)")},onMouseDown:k=>{u&&S&&!E&&(k.currentTarget.style.transform="translateY(-1px) scale(0.98)")},onMouseUp:k=>{u&&S&&!E&&(k.currentTarget.style.transform="translateY(-3px) scale(1.02)")},children:E?m.jsxs(m.Fragment,{children:[m.jsx(ir,{size:"sm"}),s("modals.vibeReport.submitting")]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-paper-plane",style:{fontSize:"16px"}}),s("modals.vibeReport.submitReport")]})})]})]})})},g1=({isOpen:c,onClose:i,onSuccess:a})=>{const{t:s}=Kt(),[u,d]=X.useState(null),[p,v]=X.useState("medium"),[x,_]=X.useState(""),[S,T]=X.useState(""),[E,A]=X.useState(null),[R,P]=X.useState(!1),[M,K]=X.useState(!1),H=[{id:"fire",label:s("emergency.fire"),icon:"fas fa-fire",color:"#ef4444",description:s("emergency.fireDesc")},{id:"medical",label:s("emergency.medical"),icon:"fas fa-ambulance",color:"#dc2626",description:s("emergency.medicalDesc")},{id:"crime",label:s("emergency.crime"),icon:"fas fa-shield-alt",color:"#7c2d12",description:s("emergency.crimeDesc")},{id:"accident",label:s("emergency.accident"),icon:"fas fa-car-crash",color:"#ea580c",description:s("emergency.accidentDesc")},{id:"hazard",label:s("emergency.hazard"),icon:"fas fa-exclamation-triangle",color:"#d97706",description:s("emergency.hazardDesc")},{id:"other",label:s("emergency.other"),icon:"fas fa-question-circle",color:"#6b7280",description:s("emergency.otherDesc")}];X.useEffect(()=>{c&&(d(null),v("medium"),_(""),T(""),A(null),k())},[c]);const k=async()=>{K(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async Y=>{const{latitude:oe,longitude:ce}=Y.coords;A([oe,ce]);try{const Ae=await lf(oe,ce);T(Ae)}catch{console.warn("Geocoding failed, using address not available message"),T(s("reports.addressNotAvailable"))}K(!1)},Y=>{console.error("Error getting location:",Y),K(!1)},{timeout:1e4,enableHighAccuracy:!0}):K(!1)},F=async()=>{if(!(!u||!E)){P(!0);try{const oe=[`EMERGENCY: ${H.find(ce=>ce.id===u)?.label}`,`Urgency: ${p.toUpperCase()}`,x.trim()].filter(Boolean).join(" | ");await $t.createReport({vibe_type:Be.Dangerous,latitude:E[0],longitude:E[1],notes:oe,location:S.trim()||void 0,emergency:!0}),a?.(),i()}catch(Y){console.error("Error creating emergency report:",Y)}finally{P(!1)}}};return m.jsxs(pu,{isOpen:c,onClose:i,title:s("modals.emergencyReport.title"),children:[m.jsxs("div",{style:{padding:"20px 0"},children:[m.jsxs("div",{style:{padding:"20px",border:"2px solid #fee2e2",borderRadius:"12px",background:"linear-gradient(135deg, #fef2f2 0%, #fef2f2 100%)",marginBottom:"24px",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.1)"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#dc2626",fontSize:"16px",fontWeight:"700"},children:[m.jsx("i",{className:"fas fa-exclamation-triangle",style:{marginRight:"12px",fontSize:"20px"}}),s("emergency.emergencyAlert")]}),m.jsx("p",{style:{textAlign:"center",color:"#dc2626",fontSize:"14px",margin:"8px 0 0 0",lineHeight:"1.4"},children:s("emergency.alertVisibleToAll")})]}),m.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[m.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:"0 6px 16px rgba(239, 68, 68, 0.2)"},children:m.jsx("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"24px",color:"#ef4444"}})}),m.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},children:s("modals.emergencyReport.title")}),m.jsx("p",{style:{color:"#6b7280",fontSize:"15px",margin:0,lineHeight:"1.5"},children:s("modals.emergencyReport.description")})]})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"12px"},children:s("modals.emergencyReport.emergencyType")}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px"},children:H.map(Y=>m.jsxs("button",{onClick:()=>d(Y.id),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"16px 12px",border:`2px solid ${u===Y.id?Y.color:"#e5e7eb"}`,borderRadius:"8px",backgroundColor:u===Y.id?`${Y.color}10`:"white",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},children:[m.jsx("i",{className:Y.icon,style:{fontSize:"24px",color:Y.color,marginBottom:"8px"}}),m.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:Y.label})]},Y.id))})]}),m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"12px"},children:s("emergency.urgencyLevel")}),m.jsx("div",{style:{display:"flex",gap:"8px"},children:[{value:"low",label:s("emergency.low"),color:"#22c55e"},{value:"medium",label:s("emergency.medium"),color:"#f59e0b"},{value:"high",label:s("emergency.high"),color:"#ef4444"}].map(Y=>m.jsx("button",{onClick:()=>v(Y.value),style:{flex:1,padding:"12px 16px",border:`2px solid ${p===Y.value?Y.color:"#e5e7eb"}`,borderRadius:"6px",backgroundColor:p===Y.value?`${Y.color}10`:"white",color:p===Y.value?Y.color:"#6b7280",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:Y.label},Y.value))})]}),m.jsxs("div",{style:{marginBottom:"20px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:s("modals.emergencyReport.location")}),m.jsxs("div",{style:{position:"relative"},children:[m.jsx("input",{type:"text",value:S,onChange:Y=>T(Y.target.value),placeholder:s("modals.emergencyReport.selectLocation"),style:{width:"100%",padding:"10px 40px 10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none"}}),m.jsx("button",{onClick:k,disabled:M,style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:M?"#9ca3af":"#3b82f6",cursor:M?"not-allowed":"pointer",padding:"4px"},title:s("reports.useCurrentLocation"),children:M?m.jsx(ir,{size:"sm"}):m.jsx("i",{className:"fas fa-crosshairs"})})]})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:s("modals.emergencyReport.descriptionLabel")}),m.jsx("textarea",{value:x,onChange:Y=>_(Y.target.value),placeholder:s("modals.emergencyReport.descriptionPlaceholder"),rows:4,style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit"},required:!0})]}),m.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"flex-end",marginTop:"32px"},children:[m.jsx("button",{onClick:i,disabled:R,style:{padding:"14px 24px",border:"2px solid #e5e7eb",borderRadius:"12px",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",color:"#6b7280",fontSize:"16px",fontWeight:"600",cursor:R?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.04)",opacity:R?.6:1},onMouseEnter:Y=>{R||(Y.currentTarget.style.transform="translateY(-2px)",Y.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.08)",Y.currentTarget.style.borderColor="#d1d5db")},onMouseLeave:Y=>{R||(Y.currentTarget.style.transform="translateY(0)",Y.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.04)",Y.currentTarget.style.borderColor="#e5e7eb")},onMouseDown:Y=>{R||(Y.currentTarget.style.transform="translateY(0)")},onMouseUp:Y=>{R||(Y.currentTarget.style.transform="translateY(-2px)")},children:s("common.cancel")}),m.jsx("button",{onClick:F,disabled:!u||!x.trim()||!E||R,style:{padding:"14px 28px",border:"none",borderRadius:"12px",background:!u||!x.trim()||!E||R?"linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%)":"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",fontSize:"16px",fontWeight:"700",cursor:!u||!x.trim()||!E||R?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:!u||!x.trim()||!E||R?"0 2px 8px rgba(0, 0, 0, 0.04)":"0 6px 20px rgba(239, 68, 68, 0.3), 0 2px 8px rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",gap:"8px",position:"relative",overflow:"hidden"},onMouseEnter:Y=>{u&&x.trim()&&E&&!R&&(Y.currentTarget.style.transform="translateY(-3px) scale(1.02)",Y.currentTarget.style.boxShadow="0 12px 32px rgba(239, 68, 68, 0.4), 0 4px 12px rgba(239, 68, 68, 0.2)")},onMouseLeave:Y=>{u&&x.trim()&&E&&!R&&(Y.currentTarget.style.transform="translateY(0) scale(1)",Y.currentTarget.style.boxShadow="0 6px 20px rgba(239, 68, 68, 0.3), 0 2px 8px rgba(239, 68, 68, 0.1)")},onMouseDown:Y=>{u&&x.trim()&&E&&!R&&(Y.currentTarget.style.transform="translateY(-1px) scale(0.98)")},onMouseUp:Y=>{u&&x.trim()&&E&&!R&&(Y.currentTarget.style.transform="translateY(-3px) scale(1.02)")},children:R?m.jsxs(m.Fragment,{children:[m.jsx(ir,{size:"sm"}),s("modals.emergencyReport.submitting")]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"16px"}}),s("modals.emergencyReport.submitReport")]})})]})]})},m1=({isOpen:c,onClose:i,onLocationSet:a,currentLocation:s})=>{const{t:u}=Kt(),[d,p]=X.useState(""),[v,x]=X.useState(""),_=[{name:"Cairo, Egypt",lat:30.0444,lng:31.2357},{name:"Alexandria, Egypt",lat:31.2001,lng:29.9187},{name:"Giza, Egypt",lat:30.0131,lng:31.2089},{name:"Luxor, Egypt",lat:25.6872,lng:32.6396},{name:"Aswan, Egypt",lat:24.0889,lng:32.8998},{name:"Sharm El Sheikh, Egypt",lat:27.9158,lng:34.3299},{name:"Hurghada, Egypt",lat:27.2579,lng:33.8116}],S=()=>{const E=parseFloat(d),A=parseFloat(v);if(isNaN(E)||isNaN(A)||E<-90||E>90||A<-180||A>180){alert("Please enter valid latitude (-90 to 90) and longitude (-180 to 180) coordinates.");return}a([E,A]),i()},T=E=>{a([E.lat,E.lng]),i()};return c?m.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},children:m.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"100%",maxHeight:"80vh",overflow:"auto"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[m.jsx("h2",{style:{color:"#1f2937",fontSize:"20px",fontWeight:"700",margin:0},children:"Set Your Location"}),m.jsx("button",{onClick:i,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280",padding:"0"},children:"×"})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("p",{style:{color:"#6b7280",fontSize:"14px",margin:"0 0 16px 0"},children:"GPS location is unavailable. Choose your location from the options below or enter coordinates manually."}),s&&m.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",padding:"12px",marginBottom:"16px"},children:[m.jsx("div",{style:{color:"#0369a1",fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:"Current Location (IP-based)"}),m.jsxs("div",{style:{color:"#0369a1",fontSize:"12px"},children:[s[0].toFixed(4),", ",s[1].toFixed(4)]})]})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("h3",{style:{color:"#1f2937",fontSize:"16px",fontWeight:"600",margin:"0 0 12px 0"},children:"Popular Locations"}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:_.map((E,A)=>m.jsxs("button",{onClick:()=>T(E),style:{background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px",textAlign:"left",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:R=>{R.currentTarget.style.background="#f0f9ff",R.currentTarget.style.borderColor="#3b82f6"},onMouseLeave:R=>{R.currentTarget.style.background="#f8fafc",R.currentTarget.style.borderColor="#e5e7eb"},children:[m.jsx("div",{style:{color:"#1f2937",fontSize:"14px",fontWeight:"600",marginBottom:"2px"},children:E.name}),m.jsxs("div",{style:{color:"#6b7280",fontSize:"12px"},children:[E.lat.toFixed(4),", ",E.lng.toFixed(4)]})]},A))})]}),m.jsxs("div",{style:{marginBottom:"24px"},children:[m.jsx("h3",{style:{color:"#1f2937",fontSize:"16px",fontWeight:"600",margin:"0 0 12px 0"},children:"Enter Coordinates Manually"}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",color:"#374151",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Latitude (-90 to 90)"}),m.jsx("input",{type:"number",step:"0.0001",min:"-90",max:"90",value:d,onChange:E=>p(E.target.value),placeholder:"30.0444",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",color:"#374151",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Longitude (-180 to 180)"}),m.jsx("input",{type:"number",step:"0.0001",min:"-180",max:"180",value:v,onChange:E=>x(E.target.value),placeholder:"31.2357",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]})]}),m.jsx("button",{onClick:S,disabled:!d||!v,style:{background:!d||!v?"#d1d5db":"#3b82f6",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:"500",cursor:!d||!v?"not-allowed":"pointer",width:"100%"},children:"Set Custom Location"})]}),m.jsx("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:m.jsx("button",{onClick:i,style:{background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",cursor:"pointer"},children:"Cancel"})})]})}):null},y1=()=>{const{t:c}=Kt(),{user:i,isAuthenticated:a,isLoading:s,checkOnboardingStatus:u}=ul(),[d,p]=X.useState("map"),[v,x]=X.useState([]),[_,S]=X.useState([]),[T,E]=X.useState(null),[A,R]=X.useState(!1),[P,M]=X.useState(!1),[K,H]=X.useState(!1),[k,F]=X.useState(!1),[Y,oe]=X.useState(!1),[ce,Ae]=X.useState(!1),[Te,Ke]=X.useState(!1),[ve,Oe]=X.useState(!1),[ct,Ce]=X.useState("Detecting location..."),[vt,Z]=X.useState("Unknown"),[se,N]=X.useState(!1),le=[30.0444,31.2357],re=10;X.useEffect(()=>{s||(a?u()?O():H(!0):M(!0)),!ve&&a&&u()&&(Oe(!0),(()=>{let xt=1/0,Ue=null,cn=null;const it=async(st=!1)=>{const Xe=localStorage.getItem("ipLocation"),ze=localStorage.getItem("ipLocationTime"),pe=Date.now();if(!st&&Xe&&ze&&pe-parseInt(ze)<1440*60*1e3){const be=JSON.parse(Xe);E(be),Ce("Using cached location"),Z("IP-based (~city level)"),console.log(`📍 Using cached IP location: ${be[0]}, ${be[1]}`);return}st&&console.log("🔄 Forcing fresh IP location lookup (GPS accuracy was poor)");try{console.log("🔄 Trying IP-based geolocation...");const be=[{url:"https://ipapi.co/json/",parseData:Ye=>({lat:Ye.latitude,lng:Ye.longitude,city:Ye.city})},{url:"https://api.ipgeolocation.io/ipgeo?apiKey=free",parseData:Ye=>({lat:parseFloat(Ye.latitude),lng:parseFloat(Ye.longitude),city:Ye.city})},{url:"https://api.ipstack.com/check?access_key=free",parseData:Ye=>({lat:Ye.latitude,lng:Ye.longitude,city:Ye.city})},{url:"https://api.bigdatacloud.net/data/reverse-geocode-client",parseData:Ye=>({lat:Ye.latitude,lng:Ye.longitude,city:Ye.city||Ye.locality})}];for(const Ye of be)try{console.log(`Trying ${Ye.url}...`);const gt=await fetch(Ye.url,{method:"GET",headers:{Accept:"application/json"}});if(!gt.ok){console.log(`${Ye.url} returned ${gt.status}`);continue}const Qn=await gt.json(),At=Ye.parseData(Qn);if(At.lat&&At.lng&&!isNaN(At.lat)&&!isNaN(At.lng)){const pn=[At.lat,At.lng];localStorage.setItem("ipLocation",JSON.stringify(pn)),localStorage.setItem("ipLocationTime",pe.toString()),E(pn),Ce("IP-based location"),Z("~city level"),console.log(`📍 IP Location set: ${At.lat}, ${At.lng} (${At.city||"Unknown"})`);return}}catch(gt){console.log(`Service ${Ye.url} failed:`,gt);continue}console.log("❌ All IP geolocation services failed, using default location");const Ze=[30.0444,31.2357];E(Ze),console.log(`📍 Using default location: ${Ze[0]}, ${Ze[1]} (Cairo, Egypt)`)}catch(be){console.log("❌ IP geolocation failed completely:",be);const Ze=[30.0444,31.2357];E(Ze),console.log(`📍 Using default location: ${Ze[0]}, ${Ze[1]} (Cairo, Egypt)`)}};if(!navigator.geolocation){console.log("❌ Geolocation not supported, trying IP fallback"),it();return}navigator.permissions&&navigator.permissions.query({name:"geolocation"}).then(st=>{if(console.log("� Location permission status:",st.state),st.state==="denied"){console.log("❌ Location permission denied, using IP fallback"),it();return}}).catch(()=>{console.log("⚠️ Could not check location permissions")}),console.log("�🚀 Starting aggressive GPS location detection..."),navigator.geolocation.getCurrentPosition(st=>{const{latitude:Xe,longitude:ze,accuracy:pe}=st.coords;console.log(`📡 GPS Lock achieved: ${Xe.toFixed(6)}, ${ze.toFixed(6)} (${Math.round(pe)}m accuracy)`);const be=50,Ze=200,Ye=1e3,gt=5e3,Qn=25e3,At=Xe>=-90&&Xe<=90&&ze>=-180&&ze<=180,pn=pe>0&&pe<5e5;if(!At||!pn){console.log(`❌ GPS returned invalid data: ${Xe}, ${ze} (${pe}m), using IP fallback`),it();return}pe<=be?(Ue=[Xe,ze],xt=pe,E(Ue),Ce("GPS (excellent)"),Z(`< ${Math.round(pe)}m`),console.log(`🎯 Location set with excellent accuracy: ${Xe.toFixed(6)}, ${ze.toFixed(6)} (${Math.round(pe)}m)`),rt()):pe<=Ze?(Ue=[Xe,ze],xt=pe,E(Ue),Ce("GPS (good)"),Z(`< ${Math.round(pe)}m`),console.log(`✅ Location set with good accuracy: ${Xe.toFixed(6)}, ${ze.toFixed(6)} (${Math.round(pe)}m)`),rt()):pe<=Ye?(Ue=[Xe,ze],xt=pe,E(Ue),Ce("GPS (acceptable)"),Z(`~${Math.round(pe)}m`),console.log(`⚠️ Location set with acceptable accuracy: ${Xe.toFixed(6)}, ${ze.toFixed(6)} (${Math.round(pe)}m)`),rt()):pe<=gt?(Ue=[Xe,ze],xt=pe,E(Ue),Ce("GPS (poor)"),Z(`~${Math.round(pe)}m`),console.log(`📍 Location set with poor accuracy: ${Xe.toFixed(6)}, ${ze.toFixed(6)} (${Math.round(pe)}m)`),rt()):pe<=Qn?(console.log(`📍 GPS accuracy very poor (${Math.round(pe)}m), trying IP fallback for better initial location`),it(),rt()):(console.log(`❌ GPS accuracy extremely poor (${Math.round(pe)}m), rejecting and forcing fresh IP lookup`),N(!0),it(!0))},st=>{console.log(`❌ Primary GPS attempt failed: ${st.code} - ${st.message}`),console.log("🔄 Trying secondary GPS attempt..."),navigator.geolocation.getCurrentPosition(Xe=>{const{latitude:ze,longitude:pe,accuracy:be}=Xe.coords;console.log(`📡 Secondary GPS: ${ze.toFixed(6)}, ${pe.toFixed(6)} (${Math.round(be)}m)`);const Ze=100,Ye=500,gt=2e3,Qn=1e4,At=5e4,pn=ze>=-90&&ze<=90&&pe>=-180&&pe<=180,ei=be>0&&be<1e6;if(!pn||!ei){console.log(`❌ Secondary GPS returned invalid data: ${ze}, ${pe} (${be}m), using IP fallback`),it();return}be<=Ze?(Ue=[ze,pe],xt=be,E(Ue),console.log(`🎯 Secondary location excellent: ${ze.toFixed(6)}, ${pe.toFixed(6)} (${Math.round(be)}m)`),rt()):be<=Ye?(Ue=[ze,pe],xt=be,E(Ue),console.log(`✅ Secondary location good: ${ze.toFixed(6)}, ${pe.toFixed(6)} (${Math.round(be)}m)`),rt()):be<=gt?(Ue=[ze,pe],xt=be,E(Ue),console.log(`⚠️ Secondary location acceptable: ${ze.toFixed(6)}, ${pe.toFixed(6)} (${Math.round(be)}m)`),rt()):be<=Qn?(Ue=[ze,pe],xt=be,E(Ue),console.log(`📍 Secondary location poor: ${ze.toFixed(6)}, ${pe.toFixed(6)} (${Math.round(be)}m)`),rt()):be<=At?(console.log(`📍 Secondary GPS very poor (${Math.round(be)}m), using IP fallback`),it(),rt()):(console.log(`❌ Secondary GPS extremely poor (${Math.round(be)}m), using IP fallback`),it())},Xe=>{console.log(`❌ Secondary GPS failed: ${Xe.code} - ${Xe.message}`),console.log("🔄 Trying third GPS attempt with minimal requirements..."),navigator.geolocation.getCurrentPosition(ze=>{const{latitude:pe,longitude:be,accuracy:Ze}=ze.coords;console.log(`📡 Third GPS attempt: ${pe.toFixed(6)}, ${be.toFixed(6)} (${Math.round(Ze)}m)`);const Ye=100,gt=500,Qn=2e3,At=1e4,pn=5e4,ei=pe>=-90&&pe<=90&&be>=-180&&be<=180,Zs=Ze>0&&Ze<1e6;if(!ei||!Zs){console.log(`❌ Third GPS returned invalid data: ${pe}, ${be} (${Ze}m), using IP fallback`),it();return}Ze<=Ye?(Ue=[pe,be],xt=Ze,E(Ue),console.log(`🎯 Third attempt excellent: ${pe.toFixed(6)}, ${be.toFixed(6)} (${Math.round(Ze)}m)`),rt()):Ze<=gt?(Ue=[pe,be],xt=Ze,E(Ue),console.log(`✅ Third attempt good: ${pe.toFixed(6)}, ${be.toFixed(6)} (${Math.round(Ze)}m)`),rt()):Ze<=Qn?(Ue=[pe,be],xt=Ze,E(Ue),console.log(`⚠️ Third attempt acceptable: ${pe.toFixed(6)}, ${be.toFixed(6)} (${Math.round(Ze)}m)`),rt()):Ze<=At?(Ue=[pe,be],xt=Ze,E(Ue),console.log(`📍 Third attempt poor: ${pe.toFixed(6)}, ${be.toFixed(6)} (${Math.round(Ze)}m)`),rt()):Ze<=pn?(console.log(`📍 Third GPS very poor (${Math.round(Ze)}m), using IP fallback`),it(),rt()):(console.log(`❌ Third GPS extremely poor (${Math.round(Ze)}m), using IP fallback`),it())},ze=>{console.log(`❌ Third GPS failed: ${ze.code} - ${ze.message}`),console.log("🔄 All GPS attempts failed, using IP geolocation"),it()},{enableHighAccuracy:!1,timeout:15e3,maximumAge:18e5})},{enableHighAccuracy:!1,timeout:45e3,maximumAge:6e5})},{enableHighAccuracy:!0,timeout:18e4,maximumAge:6e4});const rt=()=>{cn!==null&&navigator.geolocation.clearWatch(cn),console.log("👀 Starting continuous location monitoring..."),cn=navigator.geolocation.watchPosition(st=>{const{latitude:Xe,longitude:ze,accuracy:pe}=st.coords,be=Ue?Math.sqrt(Math.pow(Xe-Ue[0],2)+Math.pow(ze-Ue[1],2))*111e3:1/0;(pe<xt*.7||be>25)&&(Ue=[Xe,ze],xt=pe,E(Ue),console.log(`🔄 Location updated: ${Xe.toFixed(6)}, ${ze.toFixed(6)} (${Math.round(pe)}m, ${Math.round(be)}m moved)`))},st=>{console.log("⚠️ Location watch error:",st.code,st.message)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:3e4})}})())},[a,s,ve]);const O=async()=>{try{const[An,xt]=await Promise.all([$t.getVibes({limit:100}),$t.getSOSAlerts({limit:50})]);x(An),S(xt);const Ue=$t.subscribeToReports(it=>{it.emergency?S(rt=>[it,...rt]):x(rt=>[it,...rt])}),cn=$t.subscribeToVotes(it=>{x(rt=>rt.map(st=>st.id===it.reportId?{...st,upvotes:it.upvotes,downvotes:it.downvotes}:st)),S(rt=>rt.map(st=>st.id===it.reportId?{...st,upvotes:it.upvotes,downvotes:it.downvotes}:st))});return()=>{Ue.unsubscribe(),cn.unsubscribe()}}catch(An){console.error("Error loading data:",An),x([]),S([])}},V=()=>{R(!A)},ie=()=>{M(!1)},ae=()=>{H(!1),O()},he=()=>{H(!1),O()},de=()=>{F(!0)},Me=()=>{F(!1),oe(!0)},_t=()=>{F(!1),Ae(!0)},pt=()=>{O()};if(s)return m.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"var(--bg-secondary)",flexDirection:"column"},children:[m.jsx(ir,{size:"lg"}),m.jsx("p",{style:{color:"var(--text-muted)",fontSize:"16px",marginTop:"16px"},children:c("app.loadingHyperApp")})]});const Jn=()=>{switch(d){case"map":return m.jsx(Iw,{vibes:v,sosAlerts:_,center:le,zoom:re,userLocation:T,isHeatmapVisible:A,onToggleHeatmap:V,userId:i?.id||"demo-user"});case"profile":return m.jsx(qw,{});case"reports":return m.jsx(r1,{vibes:v,userLocation:T,isLoading:!1,onNewReport:de});case"settings":return m.jsx(Gw,{});default:return null}};return m.jsxs("div",{style:{height:"100vh",width:"100vw",backgroundColor:"var(--bg-secondary)"},children:[a&&u()&&d==="map"&&se&&m.jsxs("div",{style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",background:"#fef3c7",border:"1px solid #f59e0b",padding:"12px",borderRadius:"8px",zIndex:2e3,fontSize:"14px",color:"#92400e",maxWidth:"300px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[m.jsx("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"📍 Improve GPS Accuracy"}),m.jsxs("div",{style:{fontSize:"12px",lineHeight:"1.4"},children:["For better location accuracy:",m.jsx("br",{}),"• Go outdoors with clear sky view",m.jsx("br",{}),"• Wait 1-2 minutes for GPS lock",m.jsx("br",{}),"• Enable location permissions",m.jsx("br",{}),"• Disable battery saver mode"]}),m.jsx("button",{onClick:()=>N(!1),style:{background:"#f59e0b",color:"white",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",marginTop:"8px"},children:"Dismiss"})]}),a&&u()&&d==="map"&&m.jsxs("div",{style:{position:"absolute",bottom:"80px",left:"10px",background:"var(--bg-primary)",padding:"10px",borderRadius:"5px",zIndex:1e3,fontSize:"12px",color:"var(--text-primary)",border:"1px solid var(--border-color)",maxWidth:"250px"},children:[m.jsxs("div",{style:{marginBottom:"8px"},children:[c("app.welcomeBack")," ",i?.first_name||i?.username,m.jsx("br",{}),c("app.vibes"),": ",v.length," | ",c("app.sos"),": ",_.length,m.jsx("br",{}),c("app.heatmap"),": ",c(A?"app.on":"app.off"),m.jsx("br",{}),m.jsx("strong",{children:"Location:"})," ",ct,m.jsx("br",{}),m.jsx("strong",{children:"Accuracy:"})," ",vt]}),m.jsx("button",{onClick:()=>Ke(!0),style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",width:"100%",marginBottom:"4px"},children:"Set Location Manually"}),m.jsx("button",{onClick:()=>{localStorage.removeItem("ipLocation"),localStorage.removeItem("ipLocationTime"),Ce("Refreshing location..."),Z("Unknown"),window.location.reload()},style:{background:"#10b981",color:"white",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",width:"100%"},children:"Refresh Location"})]}),a&&u()&&m.jsxs(m.Fragment,{children:[m.jsx("div",{style:{height:"calc(100vh - 70px)",width:"100vw",overflow:d==="profile"||d==="settings"||d==="reports"?"auto":"hidden"},children:Jn()}),m.jsx(a1,{activeTab:d,onTabChange:p,onNewReport:de})]}),m.jsx(s1,{isOpen:P,onClose:ie}),m.jsx(o1,{isOpen:K,onComplete:ae,onClose:he}),m.jsx(f1,{isOpen:k,onClose:()=>F(!1),onSelectVibe:Me,onSelectEmergency:_t}),m.jsx(p1,{isOpen:Y,onClose:()=>oe(!1),onSuccess:pt}),m.jsx(g1,{isOpen:ce,onClose:()=>Ae(!1),onSuccess:pt}),m.jsx(m1,{isOpen:Te,onClose:()=>Ke(!1),onLocationSet:E,currentLocation:T})]})},v1=()=>m.jsx(sw,{children:m.jsx(aw,{children:m.jsx(y1,{})})}),_1={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",confirm:"Confirm",yes:"Yes",no:"No",ok:"OK",retry:"Retry",search:"Search",filter:"Filter",sort:"Sort",export:"Export",import:"Import"},x1={welcome:"Welcome to HyperApp",joinCommunity:"Join the community safety platform",login:"Login",signup:"Sign Up",logout:"Logout",email:"Email",password:"Password",username:"Username",confirmPassword:"Confirm Password",enterEmail:"Enter your email",enterPassword:"Enter your password",chooseUsername:"Choose a username",createPassword:"Create a password (min 6 characters)",confirmPasswordPlaceholder:"Confirm your password",loggingIn:"Logging in...",creatingAccount:"Creating account...",loginFailed:"Login failed. Please try again.",signupFailed:"Signup failed. Please try again.",signupSuccessful:"Signup successful! Please check your email for verification.",fillAllFields:"Please fill in all fields",passwordsNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long"},b1={title:"Settings",subtitle:"Manage your account and app preferences",accountManagement:"Account Management",changePassword:"Change Password",updatePassword:"Update your account password",change:"Change",signOut:"Sign out of your account",deleteAccount:"Delete Account",deleteAccountDesc:"Permanently delete your account and all data",appPreferences:"App Preferences",language:"Language",chooseLanguage:"Choose your preferred language",theme:"Theme",switchTheme:"Switch between light and dark mode",light:"Light",dark:"Dark",notifications:"Notifications",receiveNotifications:"Receive app notifications and updates",privacySecurity:"Privacy & Security",locationSharing:"Location Sharing",allowLocation:"Allow the app to access your location",exportData:"Export Data",downloadData:"Download a copy of your data",aboutSupport:"About & Support",version:"HyperApp v1.0.0",communitySafety:"Community Safety & Vibe Mapping",help:"Help",privacy:"Privacy",terms:"Terms",contact:"Contact",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatingPassword:"Updating...",passwordUpdated:"Password updated successfully!",errorUpdatingPassword:"Error updating password",deleteConfirmTitle:"⚠️ Delete Account",deleteConfirmMessage:"This action cannot be undone. All your reports, votes, profile data, and account information will be permanently deleted.",deleting:"Deleting...",accountDeleted:"Account deleted successfully. You will be logged out.",errorDeletingAccount:"Error deleting account"},w1={map:"Map",reports:"Reports",community:"Community",profile:"Profile",settings:"Settings"},S1={loadingHyperApp:"Loading HyperApp...",welcomeBack:"Welcome back",vibes:"Vibes",sos:"SOS",heatmap:"Heatmap",on:"ON",off:"OFF",newReport:"New Report"},T1={comingSoon:"Coming soon - Nearby reports and voting system",reportsView:"Reports View",addressNotAvailable:"Address not available"},E1={title:"Community Dashboard",subtitle:"See how your current area feels",noData:"No Community Data",noDataDesc:"Community vibe data will appear here as reports are submitted in your area.",currentLocation:"Your current location",locationActive:"Location services active",locationUnavailable:"Location unavailable",geocoding:"Finding your location...",yourArea:"Your Current Area",localVibe:"local vibe",reports:"reports",locations:"locations",totalReports:"total reports",otherVibes:"Other Vibes In This Area",dominant:"Dominant Vibe",howItWorks:"How it works",footer:"Locations are grouped by proximity (1km radius). Vibes are calculated from recent community reports to show the dominant atmosphere in each area."},C1={reportType:{title:"What would you like to report?",vibe:"Report a Vibe",vibeDesc:"Share your current mood or atmosphere",emergency:"Emergency Report",emergencyDesc:"Report an urgent safety concern"},vibeReport:{title:"Report Your Vibe",description:"How are you feeling right now?",location:"Location",selectLocation:"Select location on map",vibeType:"Vibe Type",selectVibeType:"Select your current vibe",details:"Additional Details",detailsPlaceholder:"Share more about your current situation...",submitReport:"Submit Report",submitting:"Submitting...",reportSuccess:"Vibe reported successfully!",reportError:"Error submitting report"},emergencyReport:{title:"Emergency Report",description:"Report an urgent safety concern",emergencyType:"Emergency Type",selectEmergencyType:"Select emergency type",location:"Location",selectLocation:"Select location on map",descriptionLabel:"Description",descriptionPlaceholder:"Describe the emergency situation...",contactInfo:"Contact Information",contactPlaceholder:"Phone number or other contact info",submitReport:"Submit Emergency Report",submitting:"Submitting...",reportSuccess:"Emergency reported successfully!",reportError:"Error submitting emergency report"},onboarding:{welcome:"Welcome to HyperApp!",welcomeDesc:"Your community safety and vibe mapping platform",step1Title:"Discover Your Community",step1Desc:"Explore real-time safety vibes and emergency reports in your area",step2Title:"Share Your Experience",step2Desc:"Report your current vibe or emergency situations to help others",step3Title:"Stay Connected",step3Desc:"Get notified about important updates and community alerts",getStarted:"Get Started",skip:"Skip",errorSetup:"Error completing setup. Please try again."}},j1={loading:"Loading profile...",editProfile:"Edit Profile",personalInfo:"Personal Information",email:"Email",phone:"Phone",location:"Location",notProvided:"Not provided",communityInterests:"Community Interests",noInterests:"No interests selected yet",totalReports:"Total Reports",communityUpvotes:"Community Upvotes",communityRank:"Community Rank",achievementBadges:"Achievement Badges",noBadges:"No badges earned yet",newReport:"New Report",noReports:"No reports submitted yet",communityActivity:"Community Activity",noNearbyReports:"No nearby reports at the moment",recentActivity:"Recent Activity",noRecentActivity:"No recent activity",firstName:"First Name",lastName:"Last Name",firstNamePlaceholder:"Enter your first name",lastNamePlaceholder:"Enter your last name",phonePlaceholder:"Enter your phone number",saveChanges:"Save Changes",myReports:"My Reports",reputationPoints:"Reputation Points",memberSince:"Member since",viewAllReports:"View All Reports",report:"Report",unknownLocation:"Unknown location",timeAgo:{justNow:"Just now",minutesAgo:"{{count}} min ago",hoursAgo:"{{count}} hour{{plural}} ago",daysAgo:"{{count}} day{{plural}} ago"},badges:{communityLeader:{name:"Community Leader",description:"Earned 100+ reputation points"},trustedReporter:{name:"Trusted Reporter",description:"Earned 50+ reputation points"},activeContributor:{name:"Active Contributor",description:"Earned 10+ reputation points"},safetyGuardian:{name:"Safety Guardian",description:"Submitted 50+ safety reports"},communityWatch:{name:"Community Watch",description:"Submitted 20+ safety reports"},firstResponder:{name:"First Responder",description:"Submitted 5+ safety reports"}}},A1={safe:"Safe",safeDesc:"Area feels secure and comfortable",calm:"Calm",calmDesc:"Peaceful and relaxed atmosphere",lively:"Lively",livelyDesc:"Energetic and vibrant environment",festive:"Festive",festiveDesc:"Celebratory and joyful mood",crowded:"Crowded",crowdedDesc:"Busy with many people around",suspicious:"Suspicious",suspiciousDesc:"Something feels off or concerning",dangerous:"Dangerous",dangerousDesc:"Potentially unsafe situation",noisy:"Noisy",noisyDesc:"Loud and disruptive sounds",quiet:"Quiet",quietDesc:"Peaceful and low noise level"},O1={fire:"Fire",fireDesc:"Fire emergency or smoke detected",medical:"Medical",medicalDesc:"Medical emergency requiring assistance",crime:"Crime",crimeDesc:"Criminal activity or safety threat",accident:"Accident",accidentDesc:"Traffic or other accident",hazard:"Hazard",hazardDesc:"Environmental or structural hazard",other:"Other",otherDesc:"Other type of emergency",emergencyAlert:"🚨 Emergency Alert",alertVisibleToAll:"This alert will be visible to all nearby users",getHelpQuickly:"Get help quickly by providing details below",whatType:"What type of emergency?",urgencyLevel:"Urgency Level",low:"Low",medium:"Medium",high:"High",descriptionRequired:"Description (Required)",descriptionPlaceholder:"Please describe the emergency situation in detail..."},R1={emptyState:{title:"No data available",description:"There are no items to display at the moment."},notification:{success:"Success",error:"Error",warning:"Warning",info:"Information"}},L1={common:_1,auth:x1,settings:b1,tabs:w1,app:S1,reports:T1,community:E1,modals:C1,profile:j1,vibes:A1,emergency:O1,shared:R1},k1={loading:"Cargando...",error:"Error",success:"Éxito",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",close:"Cerrar",back:"Atrás",next:"Siguiente",previous:"Anterior",submit:"Enviar",confirm:"Confirmar",yes:"Sí",no:"No",ok:"OK",retry:"Reintentar",search:"Buscar",filter:"Filtrar",sort:"Ordenar",export:"Exportar",import:"Importar"},z1={welcome:"Bienvenido a HyperApp",joinCommunity:"Únete a la plataforma de seguridad comunitaria",login:"Iniciar Sesión",signup:"Registrarse",logout:"Cerrar Sesión",email:"Correo Electrónico",password:"Contraseña",username:"Nombre de Usuario",confirmPassword:"Confirmar Contraseña",enterEmail:"Ingresa tu correo electrónico",enterPassword:"Ingresa tu contraseña",chooseUsername:"Elige un nombre de usuario",createPassword:"Crea una contraseña (mínimo 6 caracteres)",confirmPasswordPlaceholder:"Confirma tu contraseña",loggingIn:"Iniciando sesión...",creatingAccount:"Creando cuenta...",loginFailed:"Error al iniciar sesión. Por favor, inténtalo de nuevo.",signupFailed:"Error al registrarse. Por favor, inténtalo de nuevo.",signupSuccessful:"¡Registro exitoso! Por favor, revisa tu correo electrónico para verificar.",fillAllFields:"Por favor, completa todos los campos",passwordsNotMatch:"Las contraseñas no coinciden",passwordTooShort:"La contraseña debe tener al menos 6 caracteres"},M1={title:"Configuración",subtitle:"Gestiona tu cuenta y preferencias de la aplicación",accountManagement:"Gestión de Cuenta",changePassword:"Cambiar Contraseña",updatePassword:"Actualiza la contraseña de tu cuenta",change:"Cambiar",signOut:"Cerrar sesión de tu cuenta",deleteAccount:"Eliminar Cuenta",deleteAccountDesc:"Eliminar permanentemente tu cuenta y todos los datos",appPreferences:"Preferencias de la Aplicación",language:"Idioma",chooseLanguage:"Elige tu idioma preferido",theme:"Tema",switchTheme:"Cambiar entre modo claro y oscuro",light:"Claro",dark:"Oscuro",notifications:"Notificaciones",receiveNotifications:"Recibir notificaciones y actualizaciones de la aplicación",privacySecurity:"Privacidad y Seguridad",locationSharing:"Compartir Ubicación",allowLocation:"Permitir que la aplicación acceda a tu ubicación",exportData:"Exportar Datos",downloadData:"Descarga una copia de tus datos",aboutSupport:"Acerca de y Soporte",version:"HyperApp v1.0.0",communitySafety:"Seguridad Comunitaria y Mapeo de Ambiente",help:"Ayuda",privacy:"Privacidad",terms:"Términos",contact:"Contacto",newPassword:"Nueva Contraseña",confirmNewPassword:"Confirmar Nueva Contraseña",updatingPassword:"Actualizando...",passwordUpdated:"¡Contraseña actualizada exitosamente!",errorUpdatingPassword:"Error al actualizar la contraseña",deleteConfirmTitle:"⚠️ Eliminar Cuenta",deleteConfirmMessage:"Esta acción no se puede deshacer. Todos tus reportes, votos, datos de perfil e información de cuenta serán eliminados permanentemente.",deleting:"Eliminando...",accountDeleted:"Cuenta eliminada exitosamente. Serás desconectado.",errorDeletingAccount:"Error al eliminar la cuenta"},P1={map:"Mapa",reports:"Reportes",profile:"Perfil",settings:"Configuración"},D1={loadingHyperApp:"Cargando HyperApp...",welcomeBack:"Bienvenido de vuelta",vibes:"Ambiente",sos:"SOS",heatmap:"Mapa de Calor",on:"ACTIVADO",off:"DESACTIVADO",newReport:"Nuevo Reporte"},N1={comingSoon:"Próximamente - Sistema de informes y votación cercanos",reportsView:"Vista de Informes",addressNotAvailable:"Dirección no disponible"},B1={reportType:{title:"¿Qué te gustaría reportar?",vibe:"Reportar Ambiente",vibeDesc:"Comparte tu estado de ánimo o atmósfera actual",emergency:"Reporte de Emergencia",emergencyDesc:"Reportar una preocupación de seguridad urgente"},vibeReport:{title:"Reporta Tu Ambiente",description:"¿Cómo te sientes ahora mismo?",location:"Ubicación",selectLocation:"Seleccionar ubicación en el mapa",vibeType:"Tipo de Ambiente",selectVibeType:"Selecciona tu ambiente actual",details:"Detalles Adicionales",detailsPlaceholder:"Comparte más sobre tu situación actual...",submitReport:"Enviar Reporte",submitting:"Enviando...",reportSuccess:"¡Ambiente reportado exitosamente!",reportError:"Error al enviar el reporte"},emergencyReport:{title:"Reporte de Emergencia",description:"Reportar una preocupación de seguridad urgente",emergencyType:"Tipo de Emergencia",selectEmergencyType:"Seleccionar tipo de emergencia",location:"Ubicación",selectLocation:"Seleccionar ubicación en el mapa",descriptionLabel:"Descripción",descriptionPlaceholder:"Describe la situación de emergencia...",contactInfo:"Información de Contacto",contactPlaceholder:"Número de teléfono u otra información de contacto",submitReport:"Enviar Reporte de Emergencia",submitting:"Enviando...",reportSuccess:"¡Emergencia reportada exitosamente!",reportError:"Error al enviar el reporte de emergencia"},onboarding:{welcome:"¡Bienvenido a HyperApp!",welcomeDesc:"Tu plataforma de seguridad comunitaria y mapeo de ambiente",step1Title:"Descubre Tu Comunidad",step1Desc:"Explora ambientes de seguridad y reportes de emergencia en tiempo real en tu área",step2Title:"Comparte Tu Experiencia",step2Desc:"Reporta tu ambiente actual o situaciones de emergencia para ayudar a otros",step3Title:"Mantente Conectado",step3Desc:"Recibe notificaciones sobre actualizaciones importantes y alertas comunitarias",getStarted:"Comenzar",skip:"Omitir",errorSetup:"Error al completar la configuración. Por favor, inténtalo de nuevo."}},U1={loading:"Cargando perfil...",editProfile:"Editar Perfil",personalInfo:"Información Personal",email:"Correo Electrónico",phone:"Teléfono",location:"Ubicación",notProvided:"No proporcionado",communityInterests:"Intereses Comunitarios",noInterests:"Aún no se han seleccionado intereses",totalReports:"Reportes Totales",communityUpvotes:"Votos Positivos de la Comunidad",communityRank:"Rango en la Comunidad",achievementBadges:"Insignias de Logros",noBadges:"Aún no se han ganado insignias",newReport:"Nuevo Reporte",noReports:"Aún no se han enviado reportes",communityActivity:"Actividad Comunitaria",noNearbyReports:"No hay reportes cercanos en este momento",recentActivity:"Actividad Reciente",noRecentActivity:"No hay actividad reciente",firstName:"Nombre",lastName:"Apellido",firstNamePlaceholder:"Ingresa tu nombre",lastNamePlaceholder:"Ingresa tu apellido",phonePlaceholder:"Ingresa tu número de teléfono",saveChanges:"Guardar Cambios",badges:{communityLeader:{name:"Líder Comunitario",description:"Ganó 100+ puntos de reputación"},trustedReporter:{name:"Reportero de Confianza",description:"Ganó 50+ puntos de reputación"},activeContributor:{name:"Contribuyente Activo",description:"Ganó 10+ puntos de reputación"},safetyGuardian:{name:"Guardián de la Seguridad",description:"Envió 50+ reportes de seguridad"},communityWatch:{name:"Vigilancia Comunitaria",description:"Envió 20+ reportes de seguridad"},firstResponder:{name:"Primer Respondedor",description:"Envió 5+ reportes de seguridad"}}},I1={emptyState:{title:"No hay datos disponibles",description:"No hay elementos para mostrar en este momento."},notification:{success:"Éxito",error:"Error",warning:"Advertencia",info:"Información"}},H1={common:k1,auth:z1,settings:M1,tabs:P1,app:D1,reports:N1,modals:B1,profile:U1,shared:I1},$1={loading:"Chargement...",error:"Erreur",success:"Succès",cancel:"Annuler",save:"Enregistrer",delete:"Supprimer",edit:"Modifier",close:"Fermer",back:"Retour",next:"Suivant",previous:"Précédent",submit:"Soumettre",confirm:"Confirmer",yes:"Oui",no:"Non",ok:"OK",retry:"Réessayer",search:"Rechercher",filter:"Filtrer",sort:"Trier",export:"Exporter",import:"Importer"},q1={welcome:"Bienvenue sur HyperApp",joinCommunity:"Rejoignez la plateforme de sécurité communautaire",login:"Connexion",signup:"S'inscrire",logout:"Déconnexion",email:"E-mail",password:"Mot de passe",username:"Nom d'utilisateur",confirmPassword:"Confirmer le mot de passe",enterEmail:"Entrez votre e-mail",enterPassword:"Entrez votre mot de passe",chooseUsername:"Choisissez un nom d'utilisateur",createPassword:"Créez un mot de passe (minimum 6 caractères)",confirmPasswordPlaceholder:"Confirmez votre mot de passe",loggingIn:"Connexion en cours...",creatingAccount:"Création du compte...",loginFailed:"Échec de la connexion. Veuillez réessayer.",signupFailed:"Échec de l'inscription. Veuillez réessayer.",signupSuccessful:"Inscription réussie ! Veuillez vérifier votre e-mail pour la vérification.",fillAllFields:"Veuillez remplir tous les champs",passwordsNotMatch:"Les mots de passe ne correspondent pas",passwordTooShort:"Le mot de passe doit contenir au moins 6 caractères"},Z1={title:"Paramètres",subtitle:"Gérez votre compte et les préférences de l'application",accountManagement:"Gestion du Compte",changePassword:"Changer le Mot de Passe",updatePassword:"Mettez à jour le mot de passe de votre compte",change:"Changer",signOut:"Déconnectez-vous de votre compte",deleteAccount:"Supprimer le Compte",deleteAccountDesc:"Supprimer définitivement votre compte et toutes les données",appPreferences:"Préférences de l'Application",language:"Langue",chooseLanguage:"Choisissez votre langue préférée",theme:"Thème",switchTheme:"Basculer entre le mode clair et sombre",light:"Clair",dark:"Sombre",notifications:"Notifications",receiveNotifications:"Recevoir les notifications et mises à jour de l'application",privacySecurity:"Confidentialité et Sécurité",locationSharing:"Partage de Localisation",allowLocation:"Autoriser l'application à accéder à votre localisation",exportData:"Exporter les Données",downloadData:"Téléchargez une copie de vos données",aboutSupport:"À Propos et Support",version:"HyperApp v1.0.0",communitySafety:"Sécurité Communautaire et Cartographie des Ambiances",help:"Aide",privacy:"Confidentialité",terms:"Conditions",contact:"Contact",newPassword:"Nouveau Mot de Passe",confirmNewPassword:"Confirmer le Nouveau Mot de Passe",updatingPassword:"Mise à jour...",passwordUpdated:"Mot de passe mis à jour avec succès !",errorUpdatingPassword:"Erreur lors de la mise à jour du mot de passe",deleteConfirmTitle:"⚠️ Supprimer le Compte",deleteConfirmMessage:"Cette action ne peut pas être annulée. Tous vos rapports, votes, données de profil et informations de compte seront supprimés définitivement.",deleting:"Suppression...",accountDeleted:"Compte supprimé avec succès. Vous serez déconnecté.",errorDeletingAccount:"Erreur lors de la suppression du compte"},V1={map:"Carte",reports:"Rapports",profile:"Profil",settings:"Paramètres"},G1={loadingHyperApp:"Chargement d'HyperApp...",welcomeBack:"Bienvenue de retour",vibes:"Ambiances",sos:"SOS",heatmap:"Carte de Chaleur",on:"ACTIVÉ",off:"DÉSACTIVÉ",newReport:"Nouveau Rapport"},W1={comingSoon:"Bientôt disponible - Système de rapports et de vote à proximité",reportsView:"Vue des Rapports",addressNotAvailable:"Adresse non disponible"},K1={reportType:{title:"Que souhaitez-vous signaler ?",vibe:"Signaler une Ambiance",vibeDesc:"Partagez votre humeur ou atmosphère actuelle",emergency:"Rapport d'Urgence",emergencyDesc:"Signaler une préoccupation de sécurité urgente"},vibeReport:{title:"Signalez Votre Ambiance",description:"Comment vous sentez-vous en ce moment ?",location:"Localisation",selectLocation:"Sélectionner l'emplacement sur la carte",vibeType:"Type d'Ambiance",selectVibeType:"Sélectionnez votre ambiance actuelle",details:"Détails Supplémentaires",detailsPlaceholder:"Partagez plus sur votre situation actuelle...",submitReport:"Soumettre le Rapport",submitting:"Soumission...",reportSuccess:"Ambiance signalée avec succès !",reportError:"Erreur lors de la soumission du rapport"},emergencyReport:{title:"Rapport d'Urgence",description:"Signaler une préoccupation de sécurité urgente",emergencyType:"Type d'Urgence",selectEmergencyType:"Sélectionner le type d'urgence",location:"Localisation",selectLocation:"Sélectionner l'emplacement sur la carte",descriptionLabel:"Description",descriptionPlaceholder:"Décrivez la situation d'urgence...",contactInfo:"Informations de Contact",contactPlaceholder:"Numéro de téléphone ou autres informations de contact",submitReport:"Soumettre le Rapport d'Urgence",submitting:"Soumission...",reportSuccess:"Urgence signalée avec succès !",reportError:"Erreur lors de la soumission du rapport d'urgence"},onboarding:{welcome:"Bienvenue sur HyperApp !",welcomeDesc:"Votre plateforme de sécurité communautaire et de cartographie des ambiances",step1Title:"Découvrez Votre Communauté",step1Desc:"Explorez les ambiances de sécurité et les rapports d'urgence en temps réel dans votre région",step2Title:"Partagez Votre Expérience",step2Desc:"Signalez votre ambiance actuelle ou les situations d'urgence pour aider les autres",step3Title:"Restez Connecté",step3Desc:"Recevez des notifications sur les mises à jour importantes et les alertes communautaires",getStarted:"Commencer",skip:"Ignorer",errorSetup:"Erreur lors de la finalisation de la configuration. Veuillez réessayer."}},Y1={loading:"Chargement du profil...",editProfile:"Modifier le Profil",personalInfo:"Informations Personnelles",email:"E-mail",phone:"Téléphone",location:"Localisation",notProvided:"Non fourni",communityInterests:"Intérêts Communautaires",noInterests:"Aucun intérêt sélectionné pour le moment",totalReports:"Rapports Totaux",communityUpvotes:"Votes Positifs de la Communauté",communityRank:"Rang dans la Communauté",achievementBadges:"Badges de Réussite",noBadges:"Aucun badge gagné pour le moment",newReport:"Nouveau Rapport",noReports:"Aucun rapport soumis pour le moment",communityActivity:"Activité Communautaire",noNearbyReports:"Aucun rapport à proximité pour le moment",recentActivity:"Activité Récente",noRecentActivity:"Aucune activité récente",firstName:"Prénom",lastName:"Nom de Famille",firstNamePlaceholder:"Entrez votre prénom",lastNamePlaceholder:"Entrez votre nom de famille",phonePlaceholder:"Entrez votre numéro de téléphone",saveChanges:"Enregistrer les Modifications",badges:{communityLeader:{name:"Leader Communautaire",description:"A gagné 100+ points de réputation"},trustedReporter:{name:"Reporter de Confiance",description:"A gagné 50+ points de réputation"},activeContributor:{name:"Contributeur Actif",description:"A gagné 10+ points de réputation"},safetyGuardian:{name:"Gardien de la Sécurité",description:"A soumis 50+ rapports de sécurité"},communityWatch:{name:"Veille Communautaire",description:"A soumis 20+ rapports de sécurité"},firstResponder:{name:"Premier Répondant",description:"A soumis 5+ rapports de sécurité"}}},F1={emptyState:{title:"Aucune donnée disponible",description:"Il n'y a aucun élément à afficher pour le moment."},notification:{success:"Succès",error:"Erreur",warning:"Avertissement",info:"Information"}},X1={common:$1,auth:q1,settings:Z1,tabs:V1,app:G1,reports:W1,modals:K1,profile:Y1,shared:F1},J1={loading:"Laden...",error:"Fehler",success:"Erfolg",cancel:"Abbrechen",save:"Speichern",delete:"Löschen",edit:"Bearbeiten",close:"Schließen",back:"Zurück",next:"Weiter",previous:"Zurück",submit:"Absenden",confirm:"Bestätigen",yes:"Ja",no:"Nein",ok:"OK",retry:"Erneut versuchen",search:"Suchen",filter:"Filtern",sort:"Sortieren",export:"Exportieren",import:"Importieren"},Q1={welcome:"Willkommen bei HyperApp",joinCommunity:"Treten Sie der Community-Sicherheitsplattform bei",login:"Anmelden",signup:"Registrieren",logout:"Abmelden",email:"E-Mail",password:"Passwort",username:"Benutzername",confirmPassword:"Passwort bestätigen",enterEmail:"Geben Sie Ihre E-Mail ein",enterPassword:"Geben Sie Ihr Passwort ein",chooseUsername:"Wählen Sie einen Benutzernamen",createPassword:"Erstellen Sie ein Passwort (mindestens 6 Zeichen)",confirmPasswordPlaceholder:"Bestätigen Sie Ihr Passwort",loggingIn:"Anmeldung läuft...",creatingAccount:"Konto wird erstellt...",loginFailed:"Anmeldung fehlgeschlagen. Bitte versuchen Sie es erneut.",signupFailed:"Registrierung fehlgeschlagen. Bitte versuchen Sie es erneut.",signupSuccessful:"Registrierung erfolgreich! Bitte überprüfen Sie Ihre E-Mail zur Verifizierung.",fillAllFields:"Bitte füllen Sie alle Felder aus",passwordsNotMatch:"Passwörter stimmen nicht überein",passwordTooShort:"Passwort muss mindestens 6 Zeichen lang sein"},eS={title:"Einstellungen",subtitle:"Verwalten Sie Ihr Konto und App-Einstellungen",accountManagement:"Kontoverwaltung",changePassword:"Passwort ändern",updatePassword:"Aktualisieren Sie das Passwort Ihres Kontos",change:"Ändern",signOut:"Von Ihrem Konto abmelden",deleteAccount:"Konto löschen",deleteAccountDesc:"Konto und alle Daten dauerhaft löschen",appPreferences:"App-Einstellungen",language:"Sprache",chooseLanguage:"Wählen Sie Ihre bevorzugte Sprache",theme:"Thema",switchTheme:"Zwischen hellem und dunklem Modus wechseln",light:"Hell",dark:"Dunkel",notifications:"Benachrichtigungen",receiveNotifications:"App-Benachrichtigungen und Updates erhalten",privacySecurity:"Datenschutz und Sicherheit",locationSharing:"Standortfreigabe",allowLocation:"Der App erlauben, auf Ihren Standort zuzugreifen",exportData:"Daten exportieren",downloadData:"Laden Sie eine Kopie Ihrer Daten herunter",aboutSupport:"Über und Support",version:"HyperApp v1.0.0",communitySafety:"Gemeinschaftssicherheit und Stimmungskartierung",help:"Hilfe",privacy:"Datenschutz",terms:"Bedingungen",contact:"Kontakt",newPassword:"Neues Passwort",confirmNewPassword:"Neues Passwort bestätigen",updatingPassword:"Aktualisierung läuft...",passwordUpdated:"Passwort erfolgreich aktualisiert!",errorUpdatingPassword:"Fehler beim Aktualisieren des Passworts",deleteConfirmTitle:"⚠️ Konto löschen",deleteConfirmMessage:"Diese Aktion kann nicht rückgängig gemacht werden. Alle Ihre Berichte, Stimmen, Profildaten und Kontoinformationen werden dauerhaft gelöscht.",deleting:"Löschen läuft...",accountDeleted:"Konto erfolgreich gelöscht. Sie werden abgemeldet.",errorDeletingAccount:"Fehler beim Löschen des Kontos"},tS={map:"Karte",reports:"Berichte",profile:"Profil",settings:"Einstellungen"},nS={loadingHyperApp:"HyperApp wird geladen...",welcomeBack:"Willkommen zurück",vibes:"Stimmungen",sos:"SOS",heatmap:"Heatmap",on:"AN",off:"AUS",newReport:"Neuer Bericht"},iS={comingSoon:"Demnächst verfügbar - Berichts- und Abstimmungssystem in der Nähe",reportsView:"Berichte-Ansicht",addressNotAvailable:"Adresse nicht verfügbar"},rS={reportType:{title:"Was möchten Sie melden?",vibe:"Stimmung melden",vibeDesc:"Teilen Sie Ihre aktuelle Stimmung oder Atmosphäre",emergency:"Notfallbericht",emergencyDesc:"Dringende Sicherheitsbedenken melden"},vibeReport:{title:"Melden Sie Ihre Stimmung",description:"Wie fühlen Sie sich gerade?",location:"Standort",selectLocation:"Standort auf der Karte auswählen",vibeType:"Stimmungsart",selectVibeType:"Wählen Sie Ihre aktuelle Stimmung",details:"Zusätzliche Details",detailsPlaceholder:"Teilen Sie mehr über Ihre aktuelle Situation...",submitReport:"Bericht absenden",submitting:"Wird gesendet...",reportSuccess:"Stimmung erfolgreich gemeldet!",reportError:"Fehler beim Senden des Berichts"},emergencyReport:{title:"Notfallbericht",description:"Dringende Sicherheitsbedenken melden",emergencyType:"Notfallart",selectEmergencyType:"Notfallart auswählen",location:"Standort",selectLocation:"Standort auf der Karte auswählen",descriptionLabel:"Beschreibung",descriptionPlaceholder:"Beschreiben Sie die Notsituation...",contactInfo:"Kontaktinformationen",contactPlaceholder:"Telefonnummer oder andere Kontaktinformationen",submitReport:"Notfallbericht absenden",submitting:"Wird gesendet...",reportSuccess:"Notfall erfolgreich gemeldet!",reportError:"Fehler beim Senden des Notfallberichts"},onboarding:{welcome:"Willkommen bei HyperApp!",welcomeDesc:"Ihre Community-Sicherheits- und Stimmungskartierungsplattform",step1Title:"Entdecken Sie Ihre Community",step1Desc:"Erkunden Sie Echtzeit-Sicherheitsstimmungen und Notfallberichte in Ihrem Bereich",step2Title:"Teilen Sie Ihre Erfahrung",step2Desc:"Melden Sie Ihre aktuelle Stimmung oder Notfallsituationen, um anderen zu helfen",step3Title:"Bleiben Sie verbunden",step3Desc:"Erhalten Sie Benachrichtigungen über wichtige Updates und Community-Warnungen",getStarted:"Loslegen",skip:"Überspringen",errorSetup:"Fehler beim Abschließen der Einrichtung. Bitte versuchen Sie es erneut."}},aS={loading:"Profil wird geladen...",editProfile:"Profil bearbeiten",personalInfo:"Persönliche Informationen",email:"E-Mail",phone:"Telefon",location:"Standort",notProvided:"Nicht angegeben",communityInterests:"Gemeinschaftsinteressen",noInterests:"Noch keine Interessen ausgewählt",totalReports:"Gesamtberichte",communityUpvotes:"Community-Upvotes",communityRank:"Community-Rang",achievementBadges:"Erfolgsabzeichen",noBadges:"Noch keine Abzeichen verdient",newReport:"Neuer Bericht",noReports:"Noch keine Berichte eingereicht",communityActivity:"Community-Aktivität",noNearbyReports:"Derzeit keine Berichte in der Nähe",recentActivity:"Kürzliche Aktivität",noRecentActivity:"Keine kürzliche Aktivität",firstName:"Vorname",lastName:"Nachname",firstNamePlaceholder:"Geben Sie Ihren Vornamen ein",lastNamePlaceholder:"Geben Sie Ihren Nachnamen ein",phonePlaceholder:"Geben Sie Ihre Telefonnummer ein",saveChanges:"Änderungen speichern",badges:{communityLeader:{name:"Community-Leader",description:"100+ Rufpunkte verdient"},trustedReporter:{name:"Vertrauenswürdiger Reporter",description:"50+ Rufpunkte verdient"},activeContributor:{name:"Aktiver Beitragender",description:"10+ Rufpunkte verdient"},safetyGuardian:{name:"Sicherheitswächter",description:"50+ Sicherheitsberichte eingereicht"},communityWatch:{name:"Community-Wache",description:"20+ Sicherheitsberichte eingereicht"},firstResponder:{name:"Ersthelfer",description:"5+ Sicherheitsberichte eingereicht"}}},sS={emptyState:{title:"Keine Daten verfügbar",description:"Derzeit sind keine Elemente zum Anzeigen vorhanden."},notification:{success:"Erfolg",error:"Fehler",warning:"Warnung",info:"Information"}},oS={common:J1,auth:Q1,settings:eS,tabs:tS,app:nS,reports:iS,modals:rS,profile:aS,shared:sS},lS={loading:"جارٍ التحميل...",error:"خطأ",success:"نجح",cancel:"إلغاء",save:"حفظ",delete:"حذف",edit:"تعديل",close:"إغلاق",back:"العودة",next:"التالي",previous:"السابق",submit:"إرسال",confirm:"تأكيد",yes:"نعم",no:"لا",ok:"موافق",retry:"إعادة المحاولة",search:"بحث",filter:"تصفية",sort:"ترتيب",export:"تصدير",import:"استيراد"},cS={welcome:"مرحباً بك في HyperApp",joinCommunity:"انضم إلى منصة أمان المجتمع",login:"تسجيل الدخول",signup:"إنشاء حساب",logout:"تسجيل الخروج",email:"البريد الإلكتروني",password:"كلمة المرور",username:"اسم المستخدم",confirmPassword:"تأكيد كلمة المرور",enterEmail:"أدخل بريدك الإلكتروني",enterPassword:"أدخل كلمة مرورك",chooseUsername:"اختر اسم مستخدم",createPassword:"أنشئ كلمة مرور (6 أحرف على الأقل)",confirmPasswordPlaceholder:"أكد كلمة مرورك",loggingIn:"جارٍ تسجيل الدخول...",creatingAccount:"جارٍ إنشاء الحساب...",loginFailed:"فشل تسجيل الدخول. يرجى المحاولة مرة أخرى.",signupFailed:"فشل إنشاء الحساب. يرجى المحاولة مرة أخرى.",signupSuccessful:"تم إنشاء الحساب بنجاح! يرجى التحقق من بريدك الإلكتروني للتحقق.",fillAllFields:"يرجى ملء جميع الحقول",passwordsNotMatch:"كلمات المرور غير متطابقة",passwordTooShort:"يجب أن تكون كلمة المرور 6 أحرف على الأقل"},uS={title:"الإعدادات",subtitle:"إدارة حسابك وتفضيلات التطبيق",accountManagement:"إدارة الحساب",changePassword:"تغيير كلمة المرور",updatePassword:"قم بتحديث كلمة مرور حسابك",change:"تغيير",signOut:"تسجيل الخروج من حسابك",deleteAccount:"حذف الحساب",deleteAccountDesc:"حذف الحساب وجميع البيانات نهائياً",appPreferences:"تفضيلات التطبيق",language:"اللغة",chooseLanguage:"اختر لغتك المفضلة",theme:"المظهر",switchTheme:"التبديل بين الوضع الفاتح والداكن",light:"فاتح",dark:"داكن",notifications:"الإشعارات",receiveNotifications:"تلقي إشعارات التطبيق والتحديثات",privacySecurity:"الخصوصية والأمان",locationSharing:"مشاركة الموقع",allowLocation:"السماح للتطبيق بالوصول إلى موقعك",exportData:"تصدير البيانات",downloadData:"قم بتنزيل نسخة من بياناتك",aboutSupport:"حول والدعم",version:"HyperApp v1.0.0",communitySafety:"أمان المجتمع ورسم خرائط المزاج",help:"المساعدة",privacy:"الخصوصية",terms:"الشروط",contact:"التواصل",newPassword:"كلمة المرور الجديدة",confirmNewPassword:"تأكيد كلمة المرور الجديدة",updatingPassword:"جارٍ التحديث...",passwordUpdated:"تم تحديث كلمة المرور بنجاح!",errorUpdatingPassword:"خطأ في تحديث كلمة المرور",deleteConfirmTitle:"⚠️ حذف الحساب",deleteConfirmMessage:"لا يمكن التراجع عن هذا الإجراء. سيتم حذف جميع تقاريرك وأصواتك وبيانات ملفك الشخصي ومعلومات حسابك نهائياً.",deleting:"جارٍ الحذف...",accountDeleted:"تم حذف الحساب بنجاح. سيتم تسجيل خروجك.",errorDeletingAccount:"خطأ في حذف الحساب"},dS={map:"الخريطة",reports:"التقارير",profile:"الملف الشخصي",settings:"الإعدادات"},hS={loadingHyperApp:"جارٍ تحميل HyperApp...",welcomeBack:"مرحباً بعودتك",vibes:"الأجواء",sos:"استغاثة",heatmap:"خريطة الحرارة",on:"تشغيل",off:"إيقاف",newReport:"تقرير جديد"},fS={comingSoon:"قريباً - نظام التقارير والتصويت القريب",reportsView:"عرض التقارير",addressNotAvailable:"العنوان غير متوفر"},pS={reportType:{title:"ماذا تريد الإبلاغ عنه؟",vibe:"الإبلاغ عن جو",vibeDesc:"شارك مزاجك أو أجواءك الحالية",emergency:"تقرير طوارئ",emergencyDesc:"الإبلاغ عن مخاوف أمنية عاجلة"},vibeReport:{title:"أبلغ عن جوك",description:"كيف تشعر الآن؟",location:"الموقع",selectLocation:"اختر الموقع على الخريطة",vibeType:"نوع الجو",selectVibeType:"اختر جوك الحالي",details:"تفاصيل إضافية",detailsPlaceholder:"شارك المزيد عن وضعك الحالي...",submitReport:"إرسال التقرير",submitting:"جارٍ الإرسال...",reportSuccess:"تم الإبلاغ عن الجو بنجاح!",reportError:"خطأ في إرسال التقرير"},emergencyReport:{title:"تقرير طوارئ",description:"الإبلاغ عن مخاوف أمنية عاجلة",emergencyType:"نوع الطوارئ",selectEmergencyType:"اختر نوع الطوارئ",location:"الموقع",selectLocation:"اختر الموقع على الخريطة",descriptionLabel:"الوصف",descriptionPlaceholder:"صف حالة الطوارئ...",contactInfo:"معلومات التواصل",contactPlaceholder:"رقم الهاتف أو معلومات تواصل أخرى",submitReport:"إرسال تقرير الطوارئ",submitting:"جارٍ الإرسال...",reportSuccess:"تم الإبلاغ عن الطوارئ بنجاح!",reportError:"خطأ في إرسال تقرير الطوارئ"},onboarding:{welcome:"مرحباً بك في HyperApp!",welcomeDesc:"منصة أمان المجتمع ورسم خرائط المزاج الخاصة بك",step1Title:"اكتشف مجتمعك",step1Desc:"استكشف أجواء الأمان والتقارير الطارئة في الوقت الفعلي في منطقتك",step2Title:"شارك تجربتك",step2Desc:"أبلغ عن جوك الحالي أو حالات الطوارئ لمساعدة الآخرين",step3Title:"ابقَ على اتصال",step3Desc:"تلقَ إشعارات حول التحديثات المهمة وتنبيهات المجتمع",getStarted:"ابدأ",skip:"تخطي",errorSetup:"خطأ في إكمال الإعداد. يرجى المحاولة مرة أخرى."}},gS={loading:"جارٍ تحميل الملف الشخصي...",editProfile:"تعديل الملف الشخصي",personalInfo:"المعلومات الشخصية",email:"البريد الإلكتروني",phone:"الهاتف",location:"الموقع",notProvided:"غير محدد",communityInterests:"اهتمامات المجتمع",noInterests:"لم يتم اختيار أي اهتمامات بعد",totalReports:"إجمالي التقارير",communityUpvotes:"تصويتات المجتمع الإيجابية",communityRank:"ترتيب المجتمع",achievementBadges:"شارات الإنجاز",noBadges:"لم يتم كسب أي شارات بعد",newReport:"تقرير جديد",noReports:"لم يتم إرسال أي تقارير بعد",communityActivity:"نشاط المجتمع",noNearbyReports:"لا توجد تقارير قريبة في الوقت الحالي",recentActivity:"النشاط الأخير",noRecentActivity:"لا يوجد نشاط أخير",firstName:"الاسم الأول",lastName:"اسم العائلة",firstNamePlaceholder:"أدخل اسمك الأول",lastNamePlaceholder:"أدخل اسم عائلتك",phonePlaceholder:"أدخل رقم هاتفك",saveChanges:"حفظ التغييرات",myReports:"تقاريري",reputationPoints:"نقاط السمعة",memberSince:"عضو منذ",viewAllReports:"عرض جميع التقارير",report:"تقرير",unknownLocation:"موقع غير معروف",timeAgo:{justNow:"الآن",minutesAgo:"منذ {{count}} دقيقة",hoursAgo:"منذ {{count}} ساعة{{plural}}",daysAgo:"منذ {{count}} يوم{{plural}}"},badges:{communityLeader:{name:"قائد المجتمع",description:"حصل على 100+ نقطة سمعة"},trustedReporter:{name:"المراسل الموثوق",description:"حصل على 50+ نقطة سمعة"},activeContributor:{name:"المساهم النشط",description:"حصل على 10+ نقطة سمعة"},safetyGuardian:{name:"حارس الأمان",description:"أرسل 50+ تقرير أمان"},communityWatch:{name:"مراقبة المجتمع",description:"أرسل 20+ تقرير أمان"},firstResponder:{name:"المستجيب الأول",description:"أرسل 5+ تقرير أمان"}}},mS={safe:"آمن",safeDesc:"المنطقة تبدو آمنة ومريحة",calm:"هادئ",calmDesc:"أجواء هادئة ومريحة",lively:"حيوي",livelyDesc:"بيئة نشيطة وحيوية",festive:"احتفالي",festiveDesc:"أجواء احتفالية ومبهجة",crowded:"مزدحم",crowdedDesc:"مزدحم بالعديد من الأشخاص",suspicious:"مشبوه",suspiciousDesc:"شيء يبدو غريباً أو مثيراً للقلق",dangerous:"خطر",dangerousDesc:"وضع غير آمن محتمل",noisy:"صاخب",noisyDesc:"أصوات عالية ومزعجة",quiet:"هادئ",quietDesc:"هادئ ومستوى ضوضاء منخفض"},yS={fire:"حريق",fireDesc:"طوارئ حريق أو دخان مكتشف",medical:"طبي",medicalDesc:"طوارئ طبية تحتاج مساعدة",crime:"جريمة",crimeDesc:"نشاط إجرامي أو تهديد أمني",accident:"حادث",accidentDesc:"حادث مروري أو حادث آخر",hazard:"خطر",hazardDesc:"خطر بيئي أو هيكلي",other:"أخرى",otherDesc:"نوع آخر من الطوارئ",emergencyAlert:"🚨 تنبيه طوارئ",alertVisibleToAll:"سيكون هذا التنبيه مرئياً لجميع المستخدمين القريبين",getHelpQuickly:"احصل على المساعدة بسرعة من خلال تقديم التفاصيل أدناه",whatType:"ما نوع الطوارئ؟",urgencyLevel:"مستوى الإلحاح",low:"منخفض",medium:"متوسط",high:"عالي",descriptionRequired:"الوصف (مطلوب)",descriptionPlaceholder:"يرجى وصف حالة الطوارئ بالتفصيل..."},vS={emptyState:{title:"لا توجد بيانات متاحة",description:"لا توجد عناصر لعرضها في الوقت الحالي."},notification:{success:"نجح",error:"خطأ",warning:"تحذير",info:"معلومات"}},_S={common:lS,auth:cS,settings:uS,tabs:dS,app:hS,reports:fS,modals:pS,profile:gS,vibes:mS,emergency:yS,shared:vS},xS={en:{translation:L1},es:{translation:H1},fr:{translation:X1},de:{translation:oS},ar:{translation:_S}};qt.use(b0).init({resources:xS,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const ru=["ar"];qt.on("languageChanged",c=>{const i=ru.includes(c)?"rtl":"ltr";document.documentElement.dir=i,document.documentElement.lang=c,ru.includes(c)?document.body.classList.add("rtl"):document.body.classList.remove("rtl")});const bS=ru.includes(qt.language)?"rtl":"ltr";document.documentElement.dir=bS;document.documentElement.lang=qt.language;ru.includes(qt.language)&&document.body.classList.add("rtl");q_.createRoot(document.getElementById("root")).render(m.jsx(Ua.StrictMode,{children:m.jsx(Zw,{children:m.jsx(v1,{})})}));
